<!DOCTYPE html>
<html lang="en" class="transition-colors duration-300">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Interview Questions Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' };
  </script>
  <style>
    body, header, aside, main, footer, h1, h2, h3, h4, h5, h6, p, div, span, li, button {
      user-select: none;
    }
    .code-block, .code-block * {
      user-select: text;
    }
    body { font-family: 'Inter', sans-serif; }
    .code-block { position: relative; background-color: #f3f4f6; color: #111827; border-radius: 0.5rem; padding: 1rem; margin-top: 1.5rem; font-family: 'Fira Code', monospace; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
    .dark .code-block { background-color: #1f2937; color: #f9fafb; }
    .copy-btn { position: absolute; top: 0.5rem; right: 0.5rem; background-color: #4b5563; color: white; padding: 0.25rem 0.5rem; border-radius: 0.25rem; cursor: pointer; font-size: 0.75rem; }
    .nav-button, .sub-button, $1
  transition: all 0.3s ease-in-out;}
    .dark .nav-button, .dark .sub-button, .dark $1
.sub-child-container {
  transition: all 0.3s ease-in-out;
  max-height: 0;
  overflow: hidden;
}
.sub-child-container.open {
  max-height: 500px;
}
    .nav-button:hover, .sub-button:hover, .sub-sub-button:hover { background-color: #e5e7eb; transform: translateX(5px); }
    .dark .nav-button:hover, .dark .sub-button:hover, .dark .sub-sub-button:hover { background-color: #4b5563; }
    .sub-button { margin-left: 1rem; font-size: 0.9rem; }
    .sub-sub-button { margin-left: 2rem; font-size: 0.85rem; }
    @media (max-width: 768px) {
      .responsive-flex { flex-direction: column; }
      aside { width: 100%; border-right: none; border-bottom: 1px solid #e5e7eb; }
    }
  

</style>
</head>
<body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100">
  <header class="bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold text-gray-800 dark:text-gray-100">Learning.In</h1>
      <div class="flex items-center space-x-4">
        <input type="text" id="searchInput" placeholder="Search..." class="px-3 py-1 rounded border text-sm bg-white dark:bg-gray-700 dark:text-gray-100">
        <button onclick="toggleTheme()" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 px-2 py-1 rounded text-sm">Toggle Theme</button>
      </div>
    </div>
  </header>
  <div class="flex min-h-screen responsive-flex">
    <aside class="w-64 bg-gray-100 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-6 space-y-6">
      <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-100 border-b pb-2">Topics</h2>
      <ul class="space-y-3" id="navTopics" class="grid gap-2"></ul>
    </aside>
    <main class="flex-1 p-10 bg-gray-50 dark:bg-gray-900">
      <div id="content-area" class="max-w-3xl mx-auto">
        <h1 class="text-3xl font-extrabold text-gray-800 dark:text-gray-100 mb-6">Welcome 👋</h1>
        <p class="text-gray-600 dark:text-gray-300 text-lg">Select a topic from the left to view code snippets and practice questions. Built with 💙 for developers.</p>
      </div>
    </main>
  </div>
  <footer class="bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 text-center p-4 text-sm text-gray-600 dark:text-gray-300">
    <p>&copy; 2025 Interview Questions Hub. Designed with care and clean code.</p>
  </footer>
  <script>
    const navStructure = {
  Java: {
    'Type of Executors': 'Type of Executors',
	'Flat Map and Hashmap': 'Flat Map and Hashmap',
  'Internal working of Hashmap': 'Internal working of Hashmap',
  'Functional Interface': 'Functional Interface',
  'How to create immutable class': 'How to create immutable class',
  'ConcurrentHashMap': 'ConcurrentHashMap',
  'What is ClassLoader': 'What is ClassLoader',
  'Callable and Runnable': 'Callable and Runnable',
  'Abstract vs Functional Interface': 'Abstract vs Functional Interface',
  'Fail-Fast vs Fail-Safe': 'Fail-Fast vs Fail-Safe'
  },
  Server: {
    'Web Server Working': 'Web Server Working',
  'Apache httpd.conf Example': 'Apache httpd.conf Example',
  'Apache HTTPS SSL Configuration': 'Apache HTTPS SSL Configuration',
  'Apache Security Hardening': 'Apache Security Hardening',
  'Apache Performance Tuning': 'Apache Performance Tuning',
  'Apache Reverse Proxy Configuration': 'Apache Reverse Proxy Configuration',
  'Apache Load Balancing': 'Apache Load Balancing',
  'Apache Log Rotation': 'Apache Log Rotation'
  },
  Spring: {
    'Spring Framework': 'Spring Framework',
    'Spring IOC Container & Beans': 'Spring IOC Container & Beans',
	'Dependency Injection': 'Dependency Injection',
	'Bean Scope': 'Bean Scope',
	'Bean Lifecycle': 'Bean Lifecycle',
	'Spring Configuration: XML vs. Java-based': 'Spring Configuration: XML vs. Java-based',
	'Spring Annotation': 'Spring Annotation',
	'Spring Autowire': 'Spring Autowire',
	'Read Property from File': 'Read Property from File',
	'Profiles in Spring': 'Profiles in Spring'
	
  },
  'Spring Boot': {
    'Spring Boot Intro': 'Spring Boot Intro',
    'SpringBoot Configuration': 'SpringBoot Configuration',
    'Spring Boot Advanced Topics 1': 'Spring Boot Advanced Topics 1',
    'Spring Boot Advanced Topics 2': 'Spring Boot Advanced Topics 2',
    'Spring Boot Advanced Topics 3': 'Spring Boot Advanced Topics 3'
	
  },'Spring MVC': {
    'Spring MVC Core': 'Spring MVC Core',
    'Dispatcher Servlet Architecture': 'Dispatcher Servlet Architecture',
    'Controller vs Restcontroller': 'Controller vs Restcontroller',
    'Spring Request Mapping': 'Spring Request Mapping',
    'Path Variable': 'Path Variable',
    'Response Entity': 'Response Entity',
    'Global Exception Handling': 'Global Exception Handling',
    'Data Binding Validation': 'Data Binding Validation',
    'View Resolver and Template Engine': 'View Resolver and Template Engine'
	
  },
  'Design Patterns': {
    'Singleton Pattern': 'Singleton Pattern',
	'Factory Method Pattern': 'Factory Method Pattern',
	'Abstract Factory Pattern': 'Abstract Factory Pattern',
	'Builder Pattern': 'Builder Pattern',
	'Prototype Pattern': 'Prototype Pattern'
  },
  'SQL': {
    'Sql Intro': 'Sql Intro',
    'Type of Keys': 'Type of Keys',
    'Delete Vs Truncate': 'Delete Vs Truncate',
    'Subqueries vs Joins': 'Subqueries vs Joins',
    'SQL Pagination': 'SQL Pagination',
    'SQL Pagination Real World Ex': 'SQL Pagination Real World Ex',
    'Data Types': 'Data Types',
    'Contraints': 'Contraints',
    'Indexes': 'Indexes',
    'Views vs Materialized Views': 'Views vs Materialized Views',
    'Triggers': 'Triggers',
    'Synonyms': 'Synonyms',
    'Sequences': 'Sequences',
    'Performance Optimization': 'Performance Optimization',
    'Functions': 'Functions',
    'Normalization': 'Normalization',
    'De-Normalization': 'De-Normalization'
	
  },
  'PL/SQL': {
    'PL/SQL Basics': 'PL/SQL Basics',
    'Custom Function': 'Custom Function'
	
  }
};

    function renderNavigation(structure, searchTerm = '') {
  const nav = document.getElementById('navTopics');
  nav.innerHTML = '';
  for (const parent in structure) {
    const showParent = parent.toLowerCase().includes(searchTerm);
    const children = structure[parent];
    let hasMatchingChild = false;
    const childContainer = document.createElement('div');
    childContainer.className = 'space-y-1 pl-4 mt-2 hidden';

    for (const child in children) {
      const match = child.toLowerCase().includes(searchTerm);
      if (match || searchTerm === '') {
        hasMatchingChild = true;
        const childBtn = document.createElement('button');
        childBtn.className = 'sub-button block w-full text-left bg-gray-50 dark:bg-gray-800 rounded px-3 py-1 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all';
        childBtn.innerText = child;
        childBtn.onclick = () => showContentByTitle(children[child]);
        childContainer.appendChild(childBtn);
      }
    }

    

    if (showParent || hasMatchingChild) {
      const parentWrapper = document.createElement('div');
      const parentBtn = document.createElement('button');
      parentBtn.className = 'nav-button block w-full text-left bg-white dark:bg-gray-700 rounded-lg shadow px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all';
      parentBtn.innerText = parent;
      parentBtn.onclick = () => {
        document.querySelectorAll('#navTopics > div > div').forEach(el => el.classList.add('hidden'));
        childContainer.classList.remove('hidden');
        
      };

      
      parentWrapper.appendChild(parentBtn);
      parentWrapper.appendChild(childContainer);
      nav.appendChild(parentWrapper);
    }
  }
}

    function showContentByTitle(title) {
      const contentArea = document.getElementById('content-area');
      const content = contentMap[title];
      contentArea.innerHTML = content?.html || '<p class="text-gray-500">Content not available.</p>';
    }

    document.getElementById('searchInput').addEventListener('input', function () {
      const search = this.value.toLowerCase();
      renderNavigation(navStructure, search);
    });

    function toggleTheme() {
      document.documentElement.classList.toggle('dark');
    }

    const contentMap = {
      'Type of Executors': {
        id: 'executor-types',
        html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Types of Executors in Java</h2>
        <p class="mt-4 text-gray-700 dark:text-gray-300">Java provides several types of executors to manage threads:</p>
        <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
          <li><strong>SingleThreadExecutor</strong> – Executes tasks sequentially with a single thread.</li>
          <li><strong>FixedThreadPool</strong> – Executes tasks using a fixed number of threads.</li>
          <li><strong>CachedThreadPool</strong> – Creates new threads as needed and reuses previously constructed threads.</li>
          <li><strong>ScheduledThreadPool</strong> – Executes tasks after a delay or periodically.</li>
        </ul>
        <div class="code-block">
          <button class="copy-btn">Copy</button>
          <pre><code>import java.util.concurrent.*;

public class ExecutorExample {
  public static void main(String[] args) {
    ExecutorService executor = Executors.newFixedThreadPool(2);

    Runnable task1 = () -> System.out.println("Task 1 executed");
    Runnable task2 = () -> System.out.println("Task 2 executed");

    executor.submit(task1);
    executor.submit(task2);

    executor.shutdown();
  }
}</code></pre>
        </div>`
      },
	  'Flat Map and Hashmap': {
  id: 'flatmap-hashmap',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">FlatMap and HashMap</h2>
  <p><strong>FlatMap:</strong> Used in Java Streams to flatten nested structures and transform elements. Example: converting List&lt;List&lt;String&gt;&gt; to List&lt;String&gt;.</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>List&lt;String&gt; flat = nestedList.stream()
  .flatMap(List::stream)
  .collect(Collectors.toList());</code></pre>
  </div>
  <p><strong>HashMap:</strong> A key-value data structure allowing null keys/values, not thread-safe. Average time complexity O(1) for get/put operations.</p>`
},

'Internal working of Hashmap': {
  id: 'internal-hashmap',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Internal Working of HashMap</h2>
  <p>HashMap in Java uses an array of buckets to store key-value pairs. When you call <code>put()</code>, it computes the hash of the key and maps it to a bucket index using <code>hash & (n - 1)</code> where n is the capacity. Each bucket is initially a linked list of nodes. Java 8 optimizes performance by converting long chains of nodes into a balanced red-black tree when the number of entries in a bucket exceeds 8.</p>
  <p>When adding a key-value pair:</p>
  <ol class="list-decimal list-inside">
    <li>Compute the hash of the key.</li>
    <li>Use the hash to find the bucket index.</li>
    <li>If the bucket is empty, insert the new node.</li>
    <li>If a node with the same key exists, replace its value.</li>
    <li>If there’s a collision, add the new node at the end (linked list or tree).</li>
  </ol>
  <p>During <code>get()</code>, the key's hash and <code>equals()</code> method are used to find the matching node in the bucket.</p>
  <p><strong>Load factor</strong> (default 0.75) determines when to resize (rehash) the map by doubling the bucket array size, which helps keep lookup O(1) on average.</p>`
},

'Functional Interface': {
  id: 'functional-interface-types',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Functional Interfaces in Java</h2>
  <p>A <strong>functional interface</strong> is an interface with exactly one abstract method. They are key to Java's lambda expressions and method references, introduced in Java 8. Mark them with <code>@FunctionalInterface</code> to catch mistakes at compile-time.</p>

  <h3 class="text-xl font-semibold mt-4">Built-in Functional Interfaces</h3>
  <p>These interfaces are in <code>java.util.function</code> package:</p>

  <h4 class="font-semibold mt-2">Function&lt;T, R&gt;</h4>
  <p>Takes T, returns R:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>Function&lt;String, Integer&gt; stringLength = str -&gt; str.length();
System.out.println(stringLength.apply("Hello")); // 5</code></pre>
  </div>

  <h4 class="font-semibold mt-2">Predicate&lt;T&gt;</h4>
  <p>Takes T, returns boolean:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>Predicate&lt;Integer&gt; isEven = num -&gt; num % 2 == 0;
System.out.println(isEven.test(4)); // true</code></pre>
  </div>

  <h4 class="font-semibold mt-2">Supplier&lt;T&gt;</h4>
  <p>Returns T, takes nothing:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>Supplier&lt;String&gt; greetingSupplier = () -&gt; "Hello World!";
System.out.println(greetingSupplier.get());</code></pre>
  </div>

  <h4 class="font-semibold mt-2">Consumer&lt;T&gt;</h4>
  <p>Takes T, returns nothing:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>Consumer&lt;String&gt; printer = message -&gt; System.out.println("Printing: " + message);
printer.accept("Hello Consumer!");</code></pre>
  </div>

  <h4 class="font-semibold mt-2">BiFunction&lt;T, U, R&gt;</h4>
  <p>Takes T and U, returns R:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>BiFunction&lt;Integer, Integer, Integer&gt; adder = (a, b) -&gt; a + b;
System.out.println(adder.apply(3, 4)); // 7</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Custom Functional Interface Example</h3>
  <p>You can create your own functional interface with one abstract method:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@FunctionalInterface
interface Calculator {
  int calculate(int a, int b);
}

public class TestFunctional {
  public static void main(String[] args) {
    Calculator add = (x, y) -&gt; x + y;
    System.out.println(add.calculate(5, 3)); // 8
  }
}</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Difference from Regular Interfaces</h3>
  <table class="table-auto border mt-2">
    <thead>
      <tr><th class="border px-4 py-2">Aspect</th><th class="border px-4 py-2">Functional Interface</th><th class="border px-4 py-2">Regular Interface</th></tr>
    </thead>
    <tbody>
      <tr><td class="border px-4 py-2">Abstract methods</td><td class="border px-4 py-2">Exactly one</td><td class="border px-4 py-2">One or more</td></tr>
      <tr><td class="border px-4 py-2">Lambda compatible</td><td class="border px-4 py-2">Yes</td><td class="border px-4 py-2">No</td></tr>
      <tr><td class="border px-4 py-2">Primary use</td><td class="border px-4 py-2">Functional programming</td><td class="border px-4 py-2">General abstraction</td></tr>
    </tbody>
  </table>

  <h3 class="text-xl font-semibold mt-4">Common Interview Questions</h3>
  <ul class="list-disc list-inside">
    <li><strong>Q:</strong> What happens if you add a second abstract method in a functional interface?<br><strong>A:</strong> The compiler throws an error; it’s no longer functional.</li>
    <li><strong>Q:</strong> Why use <code>@FunctionalInterface</code>?<br><strong>A:</strong> It enforces single-abstract-method rule and improves code clarity.</li>
    <li><strong>Q:</strong> Can functional interfaces have default or static methods?<br><strong>A:</strong> Yes! They don’t count as abstract methods.</li>
    <li><strong>Q:</strong> Is <code>Comparator</code> a functional interface?<br><strong>A:</strong> Yes; it has one abstract method: <code>compare(T o1, T o2)</code>.</li>
  </ul>

  <p class="mt-4"><strong>Pro Tip:</strong> Use functional interfaces with streams to simplify data processing, like:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>List&lt;String&gt; names = Arrays.asList("Tom", "Jerry", "Spike");
names.stream()
  .filter(name -&gt; name.startsWith("J"))    // Predicate
  .map(name -&gt; name.toUpperCase())         // Function
  .forEach(System.out::println);           // Consumer</code></pre>
  </div>`
},
'How to create immutable class': {
  id: 'immutable-class',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">How to Create an Immutable Class</h2>
  <p>Immutable classes prevent changes after creation. They are important for thread-safety and caching because they guarantee consistent state.</p>
  <p><strong>Steps to create immutable class:</strong></p>
  <ol class="list-decimal list-inside">
    <li>Mark class as <code>final</code> to prevent subclassing.</li>
    <li>Mark all fields <code>private final</code> so they can only be set once.</li>
    <li>Initialize fields only through constructor.</li>
    <li>Do not provide setters.</li>
    <li>For mutable fields (e.g., collections), return defensive copies in getters.</li>
  </ol>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>public final class Employee {
  private final String name;
  private final int id;

  public Employee(String name, int id) {
    this.name = name;
    this.id = id;
  }

  public String getName() { return name; }
  public int getId() { return id; }
}</code></pre>
  </div>
  <p>Immutable objects are inherently thread-safe, simplify debugging, and reduce potential side effects.</p>`
},

'ConcurrentHashMap': {
  id: 'concurrent-hashmap',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">ConcurrentHashMap</h2>
  <p><strong>ConcurrentHashMap</strong> is a thread-safe alternative to HashMap, allowing concurrent access by multiple threads without external synchronization. Unlike Hashtable, it uses finer-grained locking or lock-free segments to improve scalability.</p>
  <p>Java 7 used a segmented lock design — splitting the map into 16+ segments, each with its own lock. In Java 8+, it uses lock-free techniques like Compare-And-Swap (CAS) for buckets, avoiding coarse-grained locks and improving performance.</p>
  <p>Key points in interviews:</p>
  <ul class="list-disc list-inside">
    <li>Reads don’t block; multiple threads can read safely at the same time.</li>
    <li>Updates only lock affected bucket, minimizing contention.</li>
    <li>No null keys or values allowed — prevents ambiguity in concurrent environments.</li>
  </ul>`
},

'What is ClassLoader': {
  id: 'classloader',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">What is ClassLoader</h2>
  <p>ClassLoader in Java is part of the JVM responsible for loading .class files into memory. Every class in Java is loaded by a ClassLoader, which maintains a hierarchy:</p>
  <ul class="list-disc list-inside">
    <li><strong>Bootstrap ClassLoader:</strong> Loads core Java classes from <code>$JAVA_HOME/lib</code>.</li>
    <li><strong>Extension ClassLoader:</strong> Loads classes from <code>lib/ext</code> directory.</li>
    <li><strong>System ClassLoader:</strong> Loads classes from the application's classpath.</li>
  </ul>
  <p>Interview tips:</p>
  <ul class="list-disc list-inside">
    <li>Parents-first delegation: class loader delegates loading to its parent before trying itself.</li>
    <li>Custom class loaders allow dynamic class loading, e.g., in frameworks or plugins.</li>
  </ul>`
},

'Callable and Runnable': {
  id: 'callable-runnable',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Callable vs Runnable</h2>
  <p><strong>Runnable</strong> interface represents a task to execute on a thread without returning a result (void <code>run()</code> method).</p>
  <p><strong>Callable</strong> interface allows tasks to return a result of type <code>T</code> and throw checked exceptions via the <code>call()</code> method. It is designed for tasks that need a response after execution.</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>ExecutorService executor = Executors.newFixedThreadPool(1);
Callable&lt;String&gt; callable = () -&gt; {
  Thread.sleep(1000);
  return "Callable Result";
};
Future&lt;String&gt; future = executor.submit(callable);
String result = future.get(); // blocks until result available</code></pre>
  </div>
  <p><strong>Key differences for interviews:</strong></p>
  <ul class="list-disc list-inside">
    <li><code>Runnable.run()</code> returns void; <code>Callable.call()</code> returns a value.</li>
    <li>Callable can throw checked exceptions.</li>
    <li>Future stores and retrieves Callable’s result.</li>
  </ul>`
},
'Abstract vs Functional Interface': {
  id: 'abstract-vs-functional-interface',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Difference Between Abstract Class and Functional Interface</h2>

  <p>An <strong>abstract class</strong> and a <strong>functional interface</strong> are both tools for abstraction in Java, but they are designed for very different use cases. Here’s a detailed comparison:</p>

  <table class="table-auto border mt-4">
    <thead>
      <tr>
        <th class="border px-4 py-2">Aspect</th>
        <th class="border px-4 py-2">Abstract Class</th>
        <th class="border px-4 py-2">Functional Interface</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border px-4 py-2">Abstract methods</td>
        <td class="border px-4 py-2">Can have zero, one, or many abstract methods</td>
        <td class="border px-4 py-2">Exactly one abstract method (SAM)</td>
      </tr>
      <tr>
        <td class="border px-4 py-2">Concrete methods</td>
        <td class="border px-4 py-2">Can have concrete methods with implementations</td>
        <td class="border px-4 py-2">Can have default/static methods, but no concrete instance methods with fields</td>
      </tr>
      <tr>
        <td class="border px-4 py-2">Fields and state</td>
        <td class="border px-4 py-2">Can have instance fields and constructors</td>
        <td class="border px-4 py-2">Cannot have instance fields or constructors</td>
      </tr>
      <tr>
        <td class="border px-4 py-2">Inheritance</td>
        <td class="border px-4 py-2">Single inheritance: a class can extend only one abstract class</td>
        <td class="border px-4 py-2">Multiple inheritance: a class can implement multiple interfaces</td>
      </tr>
      <tr>
        <td class="border px-4 py-2">Purpose</td>
        <td class="border px-4 py-2">Provide shared state and behavior for subclasses</td>
        <td class="border px-4 py-2">Enable functional programming (lambdas and method references)</td>
      </tr>
      <tr>
        <td class="border px-4 py-2">Use case</td>
        <td class="border px-4 py-2">When you need partial implementation and shared state</td>
        <td class="border px-4 py-2">When you need a target for lambda expressions or method references</td>
      </tr>
    </tbody>
  </table>

  <h3 class="text-xl font-semibold mt-4">Key Points for Interviews</h3>
  <ul class="list-disc list-inside">
    <li>Functional interfaces are interfaces with exactly one abstract method, enabling usage with lambdas.</li>
    <li>Abstract classes support sharing common behavior and state among related classes through inheritance.</li>
    <li>You can add as many default or static methods to a functional interface as needed, but only one abstract method is allowed.</li>
    <li>Using <code>@FunctionalInterface</code> annotation on an interface makes the compiler check that it’s truly functional.</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4">Examples</h3>

  <h4 class="font-semibold mt-2">Abstract Class Example</h4>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>abstract class Animal {
  abstract void makeSound();
  void breathe() { System.out.println("Breathing..."); }
}</code></pre>
  </div>

  <h4 class="font-semibold mt-2">Functional Interface Example</h4>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@FunctionalInterface
interface Calculator {
  int calculate(int a, int b);
}

public class TestFunctional {
  public static void main(String[] args) {
    Calculator add = (x, y) -&gt; x + y;
    System.out.println(add.calculate(5, 3)); // 8
  }
}</code></pre>
  </div>

  <p class="mt-4"><strong>Interview Tip:</strong> Remember: use abstract classes when you need fields or shared implementations. Use functional interfaces when you want to represent a single behavior and use lambdas or method references for concise code.</p>`
},
'Fail-Fast vs Fail-Safe': {
  id: 'fail-fast-vs-fail-safe',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Fail-Fast vs Fail-Safe</h2>

  <p>Understanding the difference between fail-fast and fail-safe is crucial when working with Java collections and concurrent programming. These concepts help you avoid or handle concurrent modifications correctly during iteration.</p>

  <h3 class="text-xl font-semibold mt-4">Fail-Fast</h3>
  <p>A <strong>fail-fast</strong> iterator throws a <code>ConcurrentModificationException</code> if the collection is structurally modified during iteration. It detects unexpected changes quickly to prevent inconsistent behavior.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
list.add(1);
list.add(2);

for (Integer i : list) {
    list.add(3); // Causes ConcurrentModificationException (fail-fast)
}</code></pre>
  </div>

  <ul class="list-disc list-inside ml-4">
    <li>Fail-fast is implemented by checking the collection's modification count.</li>
    <li>Examples: <code>ArrayList</code>, <code>HashMap</code> iterators.</li>
    <li>Useful during development for early detection of concurrent modification issues.</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4">Fail-Safe</h3>
  <p>A <strong>fail-safe</strong> iterator works on a cloned snapshot of the collection, allowing modifications during iteration without throwing exceptions. It ensures safe iteration even when the collection changes.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>ConcurrentHashMap&lt;Integer, String&gt; map = new ConcurrentHashMap&lt;&gt;();
map.put(1, "A");
map.put(2, "B");

for (Integer key : map.keySet()) {
    map.put(3, "C"); // Allowed: no exception (fail-safe)
}</code></pre>
  </div>

  <ul class="list-disc list-inside ml-4">
    <li>Fail-safe iterators work on a copy of the collection.</li>
    <li>Examples: <code>ConcurrentHashMap</code>, <code>CopyOnWriteArrayList</code>.</li>
    <li>Preferred in concurrent environments needing modification during iteration.</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4">Key Differences</h3>
  <table class="table-auto w-full text-left mt-2 mb-4 border-collapse border border-gray-300">
    <thead>
      <tr class="bg-gray-200 dark:bg-gray-700">
        <th class="border border-gray-300 p-2">Feature</th>
        <th class="border border-gray-300 p-2">Fail-Fast</th>
        <th class="border border-gray-300 p-2">Fail-Safe</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border border-gray-300 p-2">Behavior on Modification</td>
        <td class="border border-gray-300 p-2">Throws <code>ConcurrentModificationException</code></td>
        <td class="border border-gray-300 p-2">No exception; iterates over snapshot</td>
      </tr>
      <tr>
        <td class="border border-gray-300 p-2">Examples</td>
        <td class="border border-gray-300 p-2"><code>ArrayList</code>, <code>HashMap</code></td>
        <td class="border border-gray-300 p-2"><code>ConcurrentHashMap</code>, <code>CopyOnWriteArrayList</code></td>
      </tr>
      <tr>
        <td class="border border-gray-300 p-2">Use Case</td>
        <td class="border border-gray-300 p-2">Single-threaded or controlled modifications</td>
        <td class="border border-gray-300 p-2">Concurrent modifications in multi-threaded environments</td>
      </tr>
    </tbody>
  </table>

  <p class="mt-4"><strong>Interview Tip:</strong> Fail-fast detects problems early by failing on concurrent modification, while fail-safe allows modifications at the cost of iterating over a snapshot — know when to use which based on thread safety requirements.</p>`
},
'Web Server Working': {
  id: 'web-server',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">What is a Web Server?</h2>

  <p>A <strong>web server</strong> is a software (and sometimes hardware) component that:
    <ul class="list-disc list-inside ml-4">
      <li><strong>Receives HTTP requests</strong> from clients (like web browsers).</li>
      <li><strong>Processes these requests</strong> — often by interacting with back-end apps or databases.</li>
      <li><strong>Responds with HTTP responses</strong>, typically sending web pages, JSON, or other data formats.</li>
    </ul>
  </p>

  <h3 class="text-xl font-semibold mt-4">How Does a Web Server Work?</h3>
  <ol class="list-decimal list-inside ml-4">
    <li>The browser (client) sends an HTTP request (e.g., <code>GET /index.html</code>) to the server.</li>
    <li>The web server software (like Apache, Nginx, or Tomcat) listens on a port (usually 80 for HTTP, 443 for HTTPS).</li>
    <li>The server processes the request:
      <ul class="list-disc list-inside ml-6">
        <li>If it’s a static file (HTML, CSS, image), it reads and sends it directly.</li>
        <li>If dynamic content is needed (e.g., PHP, JSP), it forwards the request to an application server or runtime.</li>
      </ul>
    </li>
    <li>The server sends back an HTTP response containing the requested data or an error.</li>
  </ol>

  <h3 class="text-xl font-semibold mt-4">Examples of Popular Web Servers</h3>
  <ul class="list-disc list-inside ml-4">
    <li><strong>Apache HTTP Server</strong> — the most widely used open-source web server.</li>
    <li><strong>Nginx</strong> — popular for high performance and reverse proxying.</li>
    <li><strong>Microsoft IIS</strong> — web server for Windows systems.</li>
    <li><strong>LiteSpeed</strong> — high-performance alternative for static and dynamic sites.</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4">Web Server vs Application Server</h3>
  <p>
    A <strong>web server</strong> serves static content and can pass requests for dynamic content to an application server. An <strong>application server</strong> (like Tomcat, JBoss, WebLogic) can run business logic, handle APIs, and generate dynamic content.
  </p>

  <h3 class="text-xl font-semibold mt-4">Key Interview Points</h3>
  <ul class="list-disc list-inside ml-4">
    <li>Web servers operate primarily over HTTP/HTTPS protocols.</li>
    <li>They serve static files (HTML, CSS, JS, images) directly to clients.</li>
    <li>They can handle authentication, logging, SSL termination, and compression.</li>
    <li>Web servers are often used together with application servers for scalable web applications.</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4">Example Scenario</h3>
  <p>When you enter <code>https://example.com</code> in your browser:</p>
  <ul class="list-disc list-inside ml-4">
    <li>Your browser sends an HTTP GET request to the web server at example.com.</li>
    <li>The web server processes the request and decides whether to serve static content or forward the request.</li>
    <li>The server sends back an HTTP response with the requested page or data.</li>
  </ul>

  <p class="mt-4"><strong>Interview Tip:</strong> Remember that web servers like Apache and Nginx are optimized for serving static content and handling HTTP requests efficiently, while application servers are designed for executing dynamic business logic and generating responses on the fly.</p>`
},
'Apache httpd.conf Example': {
  id: 'apache-httpd-conf-example',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Apache httpd.conf Example</h2>

  <p>This example shows a minimal but practical <code>httpd.conf</code> configuration file for Apache HTTP Server, covering essential directives like ServerRoot, Listen, DocumentRoot, Directory permissions, logging, and a VirtualHost.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code># Set the directory where Apache config, logs, and modules live
ServerRoot "/etc/httpd"

# Listen on port 80 (HTTP)
Listen 80

# Load essential modules
LoadModule mpm_event_module modules/mod_mpm_event.so
LoadModule dir_module modules/mod_dir.so
LoadModule mime_module modules/mod_mime.so
LoadModule log_config_module modules/mod_log_config.so
LoadModule alias_module modules/mod_alias.so
LoadModule rewrite_module modules/mod_rewrite.so

# User and group Apache runs as
User apache
Group apache

# Server admin contact
ServerAdmin webmaster@example.com

# Set the fully qualified domain name of the server
ServerName www.example.com

# Document root: directory that serves files
DocumentRoot "/var/www/html"

# Directory permissions for DocumentRoot
<Directory "/var/www/html">
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
</Directory>

# Default index files
DirectoryIndex index.html index.htm

# Error log and access log locations
ErrorLog "logs/error_log"
CustomLog "logs/access_log" combined

# MIME types (optional but recommended)
TypesConfig /etc/mime.types

# Include additional config files (e.g., virtual hosts, SSL)
IncludeOptional conf.d/*.conf

# Example VirtualHost block for a single site
<VirtualHost *:80>
    ServerAdmin webmaster@example.com
    ServerName example.com
    ServerAlias www.example.com

    DocumentRoot "/var/www/html/example"
    
    ErrorLog logs/example-error.log
    CustomLog logs/example-access.log combined

    <Directory "/var/www/html/example">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost></code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Key Points</h3>
  <ul class="list-disc list-inside ml-4">
    <li><strong>ServerRoot:</strong> Main Apache directory for configs and logs.</li>
    <li><strong>Listen:</strong> Port Apache listens on (default 80 for HTTP).</li>
    <li><strong>DocumentRoot:</strong> Path to website files served by Apache.</li>
    <li><strong>Directory block:</strong> Controls permissions for file access.</li>
    <li><strong>VirtualHost:</strong> Configure multiple websites or domains on the same server.</li>
  </ul>

  <p class="mt-4"><strong>Interview Tip:</strong> Always test changes to httpd.conf with <code>apachectl configtest</code> before restarting Apache with <code>sudo systemctl restart httpd</code> to avoid downtime.</p>`
},
'Apache HTTPS SSL Configuration': {
  id: 'apache-https-ssl-configuration',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Apache HTTPS/SSL Configuration</h2>

  <p>This example shows how to set up HTTPS with Apache using a self-signed or CA-signed certificate. Adjust paths and domain names for your environment.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>&lt;VirtualHost *:443&gt;
    ServerAdmin webmaster@example.com
    ServerName example.com
    ServerAlias www.example.com

    DocumentRoot "/var/www/html/example"

    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/example.crt
    SSLCertificateKeyFile /etc/ssl/private/example.key
    SSLCertificateChainFile /etc/ssl/certs/chain.crt

    ErrorLog logs/ssl-example-error.log
    CustomLog logs/ssl-example-access.log combined

    &lt;Directory "/var/www/html/example"&gt;
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Key Steps</h3>
  <ul class="list-disc list-inside ml-4">
    <li>Get an SSL certificate (self-signed for testing, or from a CA for production).</li>
    <li>Configure <code>SSLEngine on</code> and point to your certificate and key files.</li>
    <li>Ensure Apache's SSL module (<code>mod_ssl</code>) is installed and enabled.</li>
    <li>Use <code>apachectl configtest</code> and restart Apache after configuration.</li>
  </ul>

  <p class="mt-4"><strong>Interview Tip:</strong> HTTPS ensures data confidentiality and integrity between clients and your server. Always redirect HTTP to HTTPS in production environments.</p>`
},
'Apache Security Hardening': {
  id: 'apache-security-hardening',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Apache Security Hardening</h2>

  <p>Secure your Apache server by applying these recommended configurations and practices:</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code># Disable server signature in error pages
ServerSignature Off

# Hide Apache version info in HTTP headers
ServerTokens Prod

# Disable directory listing globally
&lt;Directory /&gt;
    Options -Indexes
&lt;/Directory&gt;

# Limit HTTP methods allowed
&lt;LimitExcept GET POST HEAD&gt;
    Deny from all
&lt;/LimitExcept&gt;

# Enable mod_security or mod_evasive if available for WAF/DDoS protection

# Protect .htaccess and other sensitive files
&lt;FilesMatch "^\\.ht"&gt;
    Require all denied
&lt;/FilesMatch&gt;
</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Key Points</h3>
  <ul class="list-disc list-inside ml-4">
    <li><strong>ServerSignature Off</strong> and <strong>ServerTokens Prod</strong> hide server details.</li>
    <li>Disabling unnecessary HTTP methods reduces attack surface.</li>
    <li>Restricting access to hidden or config files prevents leaks of sensitive information.</li>
    <li>Consider enabling Web Application Firewall (WAF) modules like <code>mod_security</code>.</li>
  </ul>

  <p class="mt-4"><strong>Interview Tip:</strong> Always combine security hardening with proper patching and regular vulnerability scanning.</p>`
},
'Apache Performance Tuning': {
  id: 'apache-performance-tuning',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Apache Performance Tuning</h2>

  <p>Optimize Apache for better performance and resource usage by tweaking these settings in your <code>httpd.conf</code> or included files. Adapt values based on your server's memory and traffic profile.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code># Adjust the Multi-Processing Module (MPM) settings
&lt;IfModule mpm_event_module&gt;
    StartServers             2
    MinSpareThreads         25
    MaxSpareThreads         75
    ThreadLimit            100
    ThreadsPerChild         25
    MaxRequestWorkers      400
    MaxConnectionsPerChild 10000
&lt;/IfModule&gt;

# Enable compression for faster page load times
AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript \n application/javascript

# Enable browser caching for static assets
&lt;IfModule mod_expires.c&gt;
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType text/css "access plus 1 week"
    ExpiresByType application/javascript "access plus 1 week"
&lt;/IfModule&gt;
</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Key Points</h3>
  <ul class="list-disc list-inside ml-4">
    <li>MPM tuning controls how many simultaneous requests Apache can handle.</li>
    <li>Compression reduces bandwidth usage and improves client load times.</li>
    <li>Caching static content reduces repeated requests to the server.</li>
  </ul>

  <p class="mt-4"><strong>Interview Tip:</strong> Tuning MPM settings is critical on high-traffic servers; too many workers can exhaust server memory and too few will cause request queues.</p>`
},
'Apache Reverse Proxy Configuration': {
  id: 'apache-reverse-proxy-configuration',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Apache Reverse Proxy Configuration</h2>

  <p>Use Apache as a reverse proxy to forward incoming requests to another backend server (e.g., Tomcat, Node.js) while controlling routing, caching, and SSL at Apache.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code># Enable required modules in httpd.conf or with a2enmod:
# mod_proxy, mod_proxy_http, mod_proxy_balancer (optional for load balancing)

# Basic reverse proxy configuration
&lt;VirtualHost *:80&gt;
    ServerName myapp.example.com

    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8080/
    ProxyPassReverse / http://127.0.0.1:8080/

    ErrorLog logs/reverse-proxy-error.log
    CustomLog logs/reverse-proxy-access.log combined
&lt;/VirtualHost&gt;
</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Key Points</h3>
  <ul class="list-disc list-inside ml-4">
    <li>Reverse proxies improve scalability by offloading SSL, compression, and caching.</li>
    <li><strong>ProxyPass</strong> forwards incoming paths to backend servers.</li>
    <li><strong>ProxyPassReverse</strong> rewrites backend responses to match the original request URLs.</li>
    <li>Combine with load balancing for high availability using <code>mod_proxy_balancer</code>.</li>
  </ul>

  <p class="mt-4"><strong>Interview Tip:</strong> Reverse proxies are essential for microservices architectures, allowing secure, centralized routing and easier SSL management.</p>`
},
'Apache Load Balancing': {
  id: 'apache-load-balancing',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Apache Load Balancing</h2>

  <p>Use Apache's <code>mod_proxy_balancer</code> to distribute incoming traffic across multiple backend servers for better performance, redundancy, and scalability.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code># Enable required modules: mod_proxy, mod_proxy_http, mod_proxy_balancer, \n# mod_lbmethod_byrequests

# Configure a balancer with two backend servers
&lt;Proxy "balancer://mycluster"&gt;
    BalancerMember http://192.168.1.101:8080
    BalancerMember http://192.168.1.102:8080
    ProxySet lbmethod=byrequests
&lt;/Proxy&gt;

# Virtual host that uses the balancer
&lt;VirtualHost *:80&gt;
    ServerName myapp.example.com

    ProxyPreserveHost On
    ProxyPass / balancer://mycluster/
    ProxyPassReverse / balancer://mycluster/

    ErrorLog logs/load-balancer-error.log
    CustomLog logs/load-balancer-access.log combined
&lt;/VirtualHost&gt;
</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Key Points</h3>
  <ul class="list-disc list-inside ml-4">
    <li>Balancer members define backend servers handling requests.</li>
    <li>Load balancing methods include <code>byrequests</code>, <code>bytraffic</code>, and <code>bybusyness</code>.</li>
    <li>Failover and session stickiness can be configured for high availability.</li>
    <li>Use Apache as a frontend load balancer for apps running on multiple instances.</li>
  </ul>

  <p class="mt-4"><strong>Interview Tip:</strong> Apache's load balancing is perfect for simple setups or internal clusters, but for large-scale distributed systems, consider dedicated load balancers like HAProxy or cloud-based solutions.</p>`
},
'Apache Log Rotation': {
  id: 'apache-log-rotation-best-practices',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Apache Log Rotation Best Practices</h2>

  <p>Log rotation prevents server logs from growing indefinitely and consuming disk space. Use <code>logrotate</code> to manage Apache logs efficiently.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code># Typical /etc/logrotate.d/httpd configuration snippet for Apache

/var/log/httpd/*log {
    daily                  # Rotate logs daily
    missingok              # Don't fail if logs are missing
    rotate 14              # Keep 14 days of logs
    compress               # Compress rotated logs
    delaycompress          # Compress older logs, not the latest
    notifempty             # Skip empty logs
    sharedscripts          # Run scripts once per rotation
    postrotate
        /bin/systemctl reload httpd > /dev/null 2>/dev/null || true
    endscript
}
</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Key Points</h3>
  <ul class="list-disc list-inside ml-4">
    <li>Use <code>logrotate</code> for automatic rotation, compression, and cleanup of logs.</li>
    <li>Configure rotation frequency and retention period based on your audit and compliance needs.</li>
    <li><code>postrotate</code> scripts reload Apache to reopen log files after rotation.</li>
    <li>Compressing logs saves disk space and makes archiving easier.</li>
  </ul>

  <p class="mt-4"><strong>Interview Tip:</strong> Understanding log rotation is critical for production servers — mismanaged logs can fill disks and cause outages.</p>`
},'Spring Framework': {
  id: 'spring-basics',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Spring Framework Basics</h2>

    <h3 class="text-xl font-semibold mt-4">What is the Spring Framework and why do we use it?</h3>
    <p>Spring Framework is a powerful, lightweight, and open-source Java platform that simplifies building enterprise-grade applications. It provides comprehensive infrastructure support, including dependency injection (IoC), aspect-oriented programming (AOP), data access, transaction management, web MVC, security, and much more.</p>
    <p><strong>Why we use it?</strong></p>
    <ul class="list-disc list-inside">
      <li>Simplifies application development by handling boilerplate code.</li>
      <li>Encourages best practices like loose coupling, testability, and modular design.</li>
      <li>Provides unified programming model across different tiers (web, business, data access).</li>
      <li>Integrates seamlessly with other technologies like JPA, Hibernate, JMS, etc.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">How does Spring simplify Java development?</h3>
    <p>Spring helps developers by:</p>
    <ul class="list-disc list-inside">
      <li>Managing object creation and dependencies using <strong>Dependency Injection (DI)</strong>, so you don’t need to manually instantiate or wire classes.</li>
      <li>Providing <strong>Aspect-Oriented Programming (AOP)</strong> to separate cross-cutting concerns like logging, security, or transactions.</li>
      <li>Reducing boilerplate code in JDBC, ORM, or JMS through simplified templates (e.g., <code>JdbcTemplate</code>).</li>
      <li>Offering declarative <strong>transaction management</strong> with annotations like <code>@Transactional</code>.</li>
      <li>Supporting annotations (<code>@Controller</code>, <code>@Service</code>, <code>@Repository</code>) to reduce XML configuration.</li>
    </ul>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>// With Spring Dependency Injection
@Service
public class UserService {
  @Autowired
  private UserRepository userRepository;
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">What are the key modules in the Spring Framework?</h3>
    <p>Spring has many modules; some key ones are:</p>
    <ul class="list-disc list-inside">
      <li><strong>Core Container</strong> (Beans, Core, Context, Expression Language) – Base for DI and IoC.</li>
      <li><strong>Spring AOP</strong> – Aspect-oriented programming support.</li>
      <li><strong>Spring Data Access/Integration:</strong> JDBC, ORM (Hibernate/JPA), JMS.</li>
      <li><strong>Web:</strong> Spring MVC, Spring Web WebFlux (Reactive), REST support.</li>
      <li><strong>Testing:</strong> Utilities for unit and integration tests.</li>
      <li><strong>Spring Security:</strong> Authentication, authorization, protection against common vulnerabilities.</li>
      <li><strong>Spring Boot</strong> (separate project) – Rapid setup and convention-over-configuration.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">What are the advantages of using Spring over other frameworks?</h3>
    <ul class="list-disc list-inside">
      <li><strong>Loose coupling</strong> via dependency injection.</li>
      <li><strong>Easy integration</strong> with third-party frameworks like Hibernate, MyBatis, Quartz, etc.</li>
      <li><strong>POJO-based programming</strong> (no EJB or container restrictions).</li>
      <li><strong>Comprehensive ecosystem,</strong> including Spring Boot, Spring Data, Spring Security, etc.</li>
      <li><strong>Modular architecture:</strong> you can use only the modules you need.</li>
      <li><strong>Wide community support</strong> and mature framework.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">How does Spring achieve loose coupling?</h3>
    <p>Spring’s <strong>IoC container</strong> manages object creation and wiring, so objects don’t directly instantiate or depend on concrete implementations.</p>
    <ul class="list-disc list-inside">
      <li>Uses <strong>Dependency Injection</strong> (constructor or setter) to inject required dependencies.</li>
      <li>Promotes <strong>interfaces over implementations</strong>.</li>
      <li>Makes replacing or mocking dependencies easy for testing.</li>
    </ul>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>public interface PaymentService {
  void pay();
}

@Service
public class CreditCardPaymentService implements PaymentService {
  public void pay() { System.out.println("Paid by Credit Card"); }
}

@Service
public class ShoppingCart {
  private final PaymentService paymentService;

  @Autowired
  public ShoppingCart(PaymentService paymentService) {
    this.paymentService = paymentService;
  }

  public void checkout() { paymentService.pay(); }
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4 text-green-600">Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside">
      <li>Spring simplifies enterprise Java by reducing boilerplate and centralizing infrastructure concerns.</li>
      <li>Key concepts to highlight: IoC, DI, AOP, modularity.</li>
      <li>Always mention <strong>loose coupling</strong> and <strong>testability</strong> as benefits.</li>
      <li>Be able to list <strong>key modules</strong> like Core, AOP, Data Access, Web, and Security.</li>
      <li>Practice explaining how annotations like <code>@Service</code>, <code>@Autowired</code> make development faster.</li>
    </ul>
  `
}, 'Spring IOC Container & Beans': {
  id: 'spring-ioc-beans',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Spring IoC Container & Beans</h2>

    <h3 class="text-xl font-semibold mt-4">What is the IoC container in Spring?</h3>
    <p>The Inversion of Control (IoC) container is the core of the Spring Framework. It is responsible for:</p>
    <ul class="list-disc list-inside">
      <li>Creating, configuring, and managing the lifecycle of application objects (called beans).</li>
      <li>Injecting dependencies into beans automatically.</li>
      <li>Reading metadata (XML, annotations, or Java config) to understand how beans are wired.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">How does Spring IoC container manage beans?</h3>
    <ul class="list-disc list-inside">
      <li>Reads bean definitions from XML, annotations, or Java config classes.</li>
      <li>Instantiates beans and manages their lifecycle (creation, initialization, destruction).</li>
      <li>Injects required dependencies into beans.</li>
      <li>Applies AOP proxies, manages scopes, and supports features like event propagation.</li>
    </ul>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Component
public class UserRepository { }

@Component
public class UserService {
  private final UserRepository userRepository;

  @Autowired
  public UserService(UserRepository userRepository) {
    this.userRepository = userRepository;
  }
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">What are the different types of IoC containers in Spring?</h3>
    <ul class="list-disc list-inside">
      <li><strong>BeanFactory:</strong> The simplest container in Spring; provides basic dependency injection and creates beans lazily (on-demand).</li>
      <li><strong>ApplicationContext:</strong> A more advanced container, built on top of BeanFactory; supports internationalization, event propagation, AOP, and bean post-processing, with eager bean creation at startup.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">What is the difference between ApplicationContext and BeanFactory?</h3>
    <table class="table-auto w-full text-left mt-2 border border-gray-400">
      <thead>
        <tr class="bg-gray-200 dark:bg-gray-700">
          <th class="border px-4 py-2">Feature</th>
          <th class="border px-4 py-2">BeanFactory</th>
          <th class="border px-4 py-2">ApplicationContext</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="border px-4 py-2">Bean Initialization</td>
          <td class="border px-4 py-2">Lazy (on-demand)</td>
          <td class="border px-4 py-2">Eager (at startup)</td>
        </tr>
        <tr>
          <td class="border px-4 py-2">Internationalization</td>
          <td class="border px-4 py-2">Not supported</td>
          <td class="border px-4 py-2">Supported</td>
        </tr>
        <tr>
          <td class="border px-4 py-2">Event Publication</td>
          <td class="border px-4 py-2">Not supported</td>
          <td class="border px-4 py-2">Supported</td>
        </tr>
        <tr>
          <td class="border px-4 py-2">Advanced Features (AOP)</td>
          <td class="border px-4 py-2">Limited</td>
          <td class="border px-4 py-2">Full support</td>
        </tr>
      </tbody>
    </table>

    <h3 class="text-xl font-semibold mt-4">How does ApplicationContext support internationalization?</h3>
    <p>ApplicationContext supports internationalization by loading message resources from properties files. It uses the <strong>MessageSource</strong> interface to resolve messages for different locales at runtime.</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>// Java Config Example
@Bean
public MessageSource messageSource() {
  ResourceBundleMessageSource source = new ResourceBundleMessageSource();
  source.setBasename("messages");
  source.setDefaultEncoding("UTF-8");
  return source;
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4 text-green-600">Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside">
      <li>✔ Emphasize <strong>IoC and Dependency Injection</strong> as key Spring concepts.</li>
      <li>✔ Highlight that <strong>BeanFactory</strong> is basic, while <strong>ApplicationContext</strong> supports advanced features.</li>
      <li>✔ Mention how <strong>ApplicationContext</strong> enables internationalization and event handling.</li>
      <li>✔ Be familiar with annotations like <code>@Component</code> and <code>@Autowired</code> as modern alternatives to XML configuration.</li>
    </ul>
  `
}, 'Dependency Injection': {
  id: 'dependency-injection',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Dependency Injection</h2>

    <h3 class="text-xl font-semibold mt-4">What is dependency injection in Spring?</h3>
    <p>Dependency Injection (DI) is a design pattern where an object's dependencies are provided by an external source (e.g., Spring IoC container) instead of the object creating them itself. This promotes loose coupling and easier testing.</p>
    <p>In Spring, DI lets you declare what your class needs, and the container injects the dependencies at runtime.</p>

    <h3 class="text-xl font-semibold mt-4">What are the types of dependency injection supported by Spring?</h3>
    <ul class="list-disc list-inside">
      <li><strong>Constructor Injection</strong> — Dependencies are provided through a class constructor.</li>
      <li><strong>Setter Injection</strong> — Dependencies are injected via setter methods.</li>
      <li><strong>Field Injection</strong> — Dependencies are injected directly into fields using <code>@Autowired</code> (not recommended for testing).</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">How is constructor injection different from setter injection?</h3>
    <table class="table-auto w-full text-left mt-2 border border-gray-400">
      <thead>
        <tr class="bg-gray-200 dark:bg-gray-700">
          <th class="border px-4 py-2">Aspect</th>
          <th class="border px-4 py-2">Constructor Injection</th>
          <th class="border px-4 py-2">Setter Injection</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="border px-4 py-2">Required Dependencies</td>
          <td class="border px-4 py-2">Enforced at object creation time</td>
          <td class="border px-4 py-2">Optional; can be omitted</td>
        </tr>
        <tr>
          <td class="border px-4 py-2">Immutability</td>
          <td class="border px-4 py-2">Promotes immutable objects</td>
          <td class="border px-4 py-2">Allows mutable objects</td>
        </tr>
        <tr>
          <td class="border px-4 py-2">Partial Injection</td>
          <td class="border px-4 py-2">Not possible; requires all constructor args</td>
          <td class="border px-4 py-2">Allows partial injection</td>
        </tr>
        <tr>
          <td class="border px-4 py-2">Circular Dependencies</td>
          <td class="border px-4 py-2">May cause issues with circular references</td>
          <td class="border px-4 py-2">Easier to resolve circular dependencies</td>
        </tr>
      </tbody>
    </table>

    <h3 class="text-xl font-semibold mt-4">Can Spring inject collections like List or Map into beans?</h3>
    <p>Yes! Spring supports injecting collections like <code>List</code>, <code>Set</code>, <code>Map</code>, or arrays. You can define them in XML or Java config.</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Bean
public UserService userService() {
  UserService service = new UserService();
  List&lt;String&gt; roles = Arrays.asList("USER", "ADMIN");
  service.setRoles(roles);
  return service;
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">How do you inject a bean into another bean in Spring?</h3>
    <p>By declaring the dependency as a parameter in the constructor with <code>@Autowired</code>:</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Component
public class OrderService {
  private final PaymentService paymentService;

  @Autowired
  public OrderService(PaymentService paymentService) {
    this.paymentService = paymentService;
  }
}</code></pre>
    </div>

    <p>Or by using setter-based injection:</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Component
public class OrderService {
  private PaymentService paymentService;

  @Autowired
  public void setPaymentService(PaymentService paymentService) {
    this.paymentService = paymentService;
  }
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4 text-green-600">🔎 Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside">
      <li>✔ Emphasize <strong>DI reduces coupling</strong> between classes, making code flexible and easier to test.</li>
      <li>✔ Highlight <strong>constructor injection</strong> is preferred for mandatory dependencies.</li>
      <li>✔ Be prepared to explain <strong>setter injection vs. constructor injection</strong> differences.</li>
      <li>✔ Mention Spring supports <strong>collections injection</strong> and using <code>@Autowired</code> on constructors, setters, or fields.</li>
    </ul>
  `
}, 'Bean Scope': {
  id: 'bean-scopes',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Bean Scopes</h2>

    <h3 class="text-xl font-semibold mt-4">What are the different bean scopes available in Spring?</h3>
    <ul class="list-disc list-inside">
      <li><strong>Singleton</strong> — Single shared instance per Spring container (default scope).</li>
      <li><strong>Prototype</strong> — New instance each time the bean is requested.</li>
      <li><strong>Request</strong> — Single bean instance per HTTP request (web apps).</li>
      <li><strong>Session</strong> — Single bean instance per HTTP session (web apps).</li>
      <li><strong>Application</strong> — Single bean instance per ServletContext lifecycle (web apps).</li>
      <li><strong>Websocket</strong> — Single bean instance per WebSocket lifecycle (web apps).</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">How does the singleton scope work in Spring?</h3>
    <p>Singleton scope means <strong>one shared bean instance per container</strong>. Spring creates the bean at container startup and reuses the same instance for every injection.</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Scope("singleton")
@Component
public class MySingletonBean { }</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">What is the prototype scope, and when would you use it?</h3>
    <p>Prototype scope creates a <strong>new bean instance every time it is requested</strong>. Useful for <strong>stateful beans that should not be shared</strong> between users, processes, or threads.</p>

    <h4 class="text-lg font-semibold mt-3">📌 Why use prototype scope for stateful beans?</h4>
    <p>Stateful beans <strong>hold data specific to a user or process</strong>. Using singleton for these leads to shared state → data corruption → bugs. Prototype ensures each injection gets its own instance, isolating state.</p>

    <h4 class="text-lg font-semibold mt-3">🔹 Example use cases:</h4>
    <ul class="list-disc list-inside">
      <li>✅ <strong>Objects with user-specific state</strong>: Beans tracking temporary user data like shopping carts or form drafts.</li>
      <li>✅ <strong>Beans representing UI components</strong>: UI windows or dialogs in apps requiring separate instances for each user interaction.</li>
    </ul>

    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Scope("prototype")
@Component
public class ShoppingCart {
  private List&lt;Product&gt; items = new ArrayList<>();

  public void addItem(Product p) {
    items.add(p);
  }

  public List&lt;Product&gt; getItems() {
    return items;
  }
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">Can you explain request and session scopes in web applications?</h3>
    <p><strong>Request scope:</strong> New bean instance per HTTP request → useful for request-specific data.</p>
    <p><strong>Session scope:</strong> New bean instance per HTTP session → useful for storing user-specific session data.</p>

    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)
@Component
public class RequestBean { }

@Scope(value = WebApplicationContext.SCOPE_SESSION, proxyMode = ScopedProxyMode.TARGET_CLASS)
@Component
public class SessionBean { }</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">Are Spring beans thread-safe? Why or why not?</h3>
    <p><strong>Singleton beans are not thread-safe by default</strong> — multiple threads share the same instance → potential race conditions. Thread safety depends on bean design → developers must handle synchronization explicitly.</p>

    <h3 class="text-xl font-semibold mt-4 text-green-600">🔎 Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside">
      <li>✔ Memorize the <strong>six scopes</strong> and their use cases.</li>
      <li>✔ Highlight <strong>singleton</strong> as the default scope.</li>
      <li>✔ Emphasize <strong>prototype</strong> creates a new instance every time → useful for <strong>stateful beans</strong>.</li>
      <li>✔ Know <strong>request/session scopes</strong> are web-specific.</li>
      <li>✔ Understand <strong>singleton beans are not thread-safe</strong> unless explicitly designed to be.</li>
    </ul>
  `
},'Bean Lifecycle': {
  id: 'bean-lifecycle',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Bean Lifecycle</h2>

    <h3 class="text-xl font-semibold mt-4">What are the different stages in a Spring bean’s lifecycle?</h3>
    <ol class="list-decimal list-inside">
      <li><strong>Instantiation</strong> — Spring creates the bean instance.</li>
      <li><strong>Populate Properties</strong> — Spring injects dependencies via constructor, setter, or field injection.</li>
      <li><strong>Set Bean Name & Factory</strong> — Spring assigns the bean name and passes references to BeanFactory/Aware interfaces if implemented.</li>
      <li><strong>Bean Post-Processing (before initialization)</strong> — Any registered BeanPostProcessor can modify the bean before initialization.</li>
      <li><strong>Initialization</strong> — Custom init methods or lifecycle callbacks like afterPropertiesSet() or @PostConstruct are called.</li>
      <li><strong>Bean Post-Processing (after initialization)</strong> — BeanPostProcessor can modify the bean after initialization.</li>
      <li><strong>Ready for use</strong> — Bean is available for application logic.</li>
      <li><strong>Destruction</strong> — When the container shuts down, Spring calls destroy methods like destroy() or @PreDestroy.</li>
    </ol>

    <h3 class="text-xl font-semibold mt-4">How do you hook into bean lifecycle events?</h3>
    <p>You can hook into the lifecycle by:</p>
    <ul class="list-disc list-inside">
      <li>Implementing InitializingBean or DisposableBean.</li>
      <li>Defining custom init/destroy methods with init-method/destroy-method (XML/Java config).</li>
      <li>Using annotations: @PostConstruct for init logic and @PreDestroy for cleanup logic.</li>
      <li>Registering BeanPostProcessor for advanced interception before/after init.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">What are InitializingBean and DisposableBean interfaces?</h3>
    <p><strong>InitializingBean</strong> provides the <code>afterPropertiesSet()</code> method called after the bean’s properties are set.</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>public class MyBean implements InitializingBean {
  @Override
  public void afterPropertiesSet() {
    // initialization logic here
  }
}</code></pre>
    </div>

    <p class="mt-3"><strong>DisposableBean</strong> provides the <code>destroy()</code> method called when the container destroys the bean.</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>public class MyBean implements DisposableBean {
  @Override
  public void destroy() {
    // cleanup logic here
  }
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">How do @PostConstruct and @PreDestroy annotations fit into the bean lifecycle?</h3>
    <p><code>@PostConstruct</code> marks a method to run <strong>after dependency injection is done</strong> — for initialization.</p>
    <p><code>@PreDestroy</code> marks a method to run <strong>before the bean is destroyed</strong> — for cleanup.</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Component
public class MyBean {
  @PostConstruct
  public void init() {
    // initialization logic
  }

  @PreDestroy
  public void cleanup() {
    // cleanup logic
  }
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4 text-green-600">🔎 Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside">
      <li>✔ Understand <strong>bean lifecycle stages</strong>: instantiation → populate properties → init → ready → destroy.</li>
      <li>✔ Know how to hook into lifecycle with InitializingBean, DisposableBean, @PostConstruct, and @PreDestroy.</li>
      <li>✔ Remember <strong>BeanPostProcessor</strong> can intercept before/after initialization.</li>
    </ul>
  `
},'Spring Configuration: XML vs. Java-based': {
  id: 'spring-configuration',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Spring Configuration: XML vs. Java-based</h2>

    <h3 class="text-xl font-semibold mt-4">How do you configure Spring using XML?</h3>
    <p>You define beans and their dependencies in XML files (e.g., applicationContext.xml):</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>&lt;bean id="myBean" class="com.example.MyBean"&gt;
  &lt;property name="dependency" ref="anotherBean"/&gt;
&lt;/bean&gt;</code></pre>
    </div>
    <p class="mt-2">Load the XML configuration:</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>ApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">How do you configure Spring using Java-based @Configuration classes?</h3>
    <p>Use @Configuration classes with @Bean methods:</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Configuration
public class AppConfig {
  @Bean
  public MyBean myBean() {
    return new MyBean(anotherBean());
  }

  @Bean
  public AnotherBean anotherBean() {
    return new AnotherBean();
  }
}</code></pre>
    </div>
    <p class="mt-2">Load Java config:</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">What are the pros and cons of XML vs. Java configuration?</h3>
    <p><strong>XML configuration:</strong></p>
    <ul class="list-disc list-inside">
      <li>✅ <strong>Pros:</strong> Clear separation between configuration and code; easier to modify without changing Java classes.</li>
      <li>❌ <strong>Cons:</strong> Verbose and harder to maintain for large projects; no type-safety (errors only at runtime).</li>
    </ul>
    <p class="mt-2"><strong>Java-based configuration:</strong></p>
    <ul class="list-disc list-inside">
      <li>✅ <strong>Pros:</strong> Type-safe; refactor-friendly; uses standard Java features (IDE autocomplete, compile-time checks); easier for Java developers.</li>
      <li>❌ <strong>Cons:</strong> Configuration embedded in code, potentially mixing responsibilities.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">Can you mix XML and Java-based configuration in a Spring project?</h3>
    <p>✅ Yes! You can import XML into Java config with @ImportResource, or import Java config into XML using &lt;context:component-scan&gt; or other tags.</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Configuration
@ImportResource("classpath:legacy-config.xml")
public class CombinedConfig { }</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">How does Spring Boot’s auto-configuration relate to Java-based configuration?</h3>
    <p>Spring Boot uses Java-based configuration internally:</p>
    <ul class="list-disc list-inside">
      <li>Auto-configuration uses @Configuration classes with conditions (e.g., @ConditionalOnClass) to create beans automatically.</li>
      <li>This enables rapid setup without manual XML or explicit Java bean declarations.</li>
      <li>You can override or extend auto-configuration with your own @Configuration classes.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4 text-green-600">🔎 Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside">
      <li>✔ Know how to declare beans in both XML and Java config.</li>
      <li>✔ Java config is <strong>type-safe</strong> and easier to maintain.</li>
      <li>✔ XML config is still useful for <strong>legacy systems</strong>.</li>
      <li>✔ Spring Boot auto-configuration is built on Java-based configuration.</li>
    </ul>
  `
},'Spring Annotation': {
  id: 'spring-stereotypes',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">@Component, @Service, @Repository, @Controller</h2>

    <h3 class="text-xl font-semibold mt-4">What is the difference between @Component, @Service, @Repository, and @Controller?</h3>
    <ul class="list-disc list-inside">
      <li><strong>@Component:</strong> Generic stereotype for Spring-managed components.</li>
      <li><strong>@Service:</strong> Specialized for service-layer classes containing business logic.</li>
      <li><strong>@Repository:</strong> Specialized for data-access layer; adds exception translation.</li>
      <li><strong>@Controller:</strong> Specialized for Spring MVC controllers handling web requests.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">When should you use each of these stereotypes?</h3>
    <ul class="list-disc list-inside">
      <li>✅ Use <strong>@Component</strong> for general-purpose beans.</li>
      <li>✅ Use <strong>@Service</strong> for service/business logic.</li>
      <li>✅ Use <strong>@Repository</strong> for DAO/database logic.</li>
      <li>✅ Use <strong>@Controller</strong> for handling HTTP requests in web apps.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">How do these annotations affect Spring’s component scanning?</h3>
    <p>All four are discovered during component scanning (via @ComponentScan) and are meta-annotated with @Component, making them functionally similar for detection.</p>

    <h3 class="text-xl font-semibold mt-4">How do these annotations impact exception translation in Spring?</h3>
    <ul class="list-disc list-inside">
      <li><strong>@Repository</strong> enables automatic exception translation via PersistenceExceptionTranslationPostProcessor, converting DB-specific exceptions into Spring’s DataAccessException.</li>
      <li>The others (<strong>@Component</strong>, <strong>@Service</strong>, <strong>@Controller</strong>) do not provide exception translation.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">What is the difference between @Controller and @RestController?</h3>
    <ul class="list-disc list-inside">
      <li><strong>@Controller:</strong> Used in traditional web apps, returns views (e.g., JSP/Thymeleaf) or JSON manually with @ResponseBody.</li>
      <li><strong>@RestController:</strong> Combines @Controller + @ResponseBody; simplifies RESTful services, returning JSON/XML directly.</li>
    </ul>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Controller
public class ViewController {
  @GetMapping("/home")
  public String homePage() {
    return "home"; // Returns a view name
  }
}

@RestController
public class ApiController {
  @GetMapping("/api/data")
  public Data getData() {
    return new Data("hello");
  }
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">What is the difference between API and REST API?</h3>
    <ul class="list-disc list-inside">
      <li><strong>API (Application Programming Interface):</strong> General interface allowing communication between software components; not limited to web or HTTP.</li>
      <li><strong>REST API:</strong> Specific type of API following REST principles — statelessness, resource URIs, standard HTTP methods, etc.</li>
    </ul>
    <p class="mt-2">✅ Example:</p>
    <ul class="list-disc list-inside">
      <li>A Java library offering methods to calculate interest is an API, but not a REST API.</li>
      <li>An HTTP endpoint exposing <code>/customers/123</code> returning JSON is a REST API.</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4 text-green-600">🔎 Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside">
      <li>✔ Know the purpose of each stereotype: <strong>@Component, @Service, @Repository, @Controller</strong>.</li>
      <li>✔ <strong>@Repository adds exception translation</strong>.</li>
      <li>✔ <strong>@RestController = @Controller + @ResponseBody</strong> simplifies RESTful services.</li>
      <li>✔ <strong>API ≠ REST API</strong> — REST API specifically follows REST constraints.</li>
    </ul>
  `
},'Spring Autowire': {
  id: 'spring-autowire',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">@Autowired, @Qualifier, @Primary</h2>

    <h3 class="text-xl font-semibold mt-4">How does @Autowired work in Spring?</h3>
    <p>@Autowired is Spring’s annotation for <strong>automatic dependency injection</strong>. When Spring sees @Autowired, it looks for a matching bean in the context and injects it automatically. By default, it injects by <strong>type</strong> (the class/interface).</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Autowired
private UserService userService;</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">What happens if multiple beans match when using @Autowired?</h3>
    <p>If multiple beans of the same type exist, Spring throws <code>NoUniqueBeanDefinitionException</code> because it doesn’t know which bean to inject. This is called <strong>bean ambiguity</strong>.</p>

    <h3 class="text-xl font-semibold mt-4">How do @Qualifier and @Primary help resolve bean ambiguity?</h3>
    <p><strong>@Qualifier</strong> explicitly tells Spring which bean to inject by specifying the bean’s name:</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Autowired
@Qualifier("emailService")
private NotificationService notificationService;</code></pre>
    </div>
    <p class="mt-2"><strong>@Primary</strong> marks one bean as the default choice if multiple candidates exist:</p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Bean
@Primary
public NotificationService emailService() {
  return new EmailNotificationService();
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4">Can you use @Autowired on constructors, setters, and fields? Which one is preferred?</h3>
    <ul class="list-disc list-inside">
      <li>Yes! Spring allows @Autowired on <strong>constructors</strong>, <strong>setters</strong>, and <strong>fields</strong>.</li>
      <li><strong>Constructor injection is recommended</strong> because it makes dependencies explicit, encourages immutability, and is easier to test.</li>
    </ul>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Component
public class OrderService {
  private final PaymentService paymentService;

  @Autowired
  public OrderService(PaymentService paymentService) {
    this.paymentService = paymentService;
  }
}</code></pre>
    </div>

    <h3 class="text-xl font-semibold mt-4 text-green-600">🔎 Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside">
      <li>✔ Use <strong>@Autowired</strong> to inject dependencies automatically.</li>
      <li>✔ Use <strong>@Qualifier</strong> or <strong>@Primary</strong> to resolve ambiguity when multiple beans exist.</li>
      <li>✔ Prefer <strong>constructor injection</strong> for better design, immutability, and testability.</li>
    </ul>
  `
},'Read Property from File': {
  id: 'value-and-externalized-configuration',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">@Value and Externalized Configuration</h2>

    <ul class="list-disc list-inside space-y-4">
      <li>
        <strong>How does @Value work in Spring?</strong>
        <p>@Value is used to <em>inject values into fields, methods, or constructor parameters</em> from properties files, system properties, environment variables, or SpEL.</p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>@Value("\${app.name}")
private String appName;</code></pre></div>
      </li>

      <li>
        <strong>How can you inject values from properties files into Spring beans?</strong>
        <p>Define properties in <code>application.properties</code> or <code>application.yml</code>, then inject them using @Value or @ConfigurationProperties.</p>
        <p><strong>Example with @Value:</strong></p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>// application.properties
app.version=1.0.0
// Java
@Value("\${app.version}")
private String version;</code></pre></div>

        <p><strong>Example with @ConfigurationProperties:</strong></p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>// application.properties
app.name=MyApp
app.timeout=5000

// Java
@Component
@ConfigurationProperties(prefix = "app")
public class AppConfig {
  private String name;
  private int timeout;
  // getters and setters
}</code></pre></div>
      </li>

      <li>
        <strong>What is the use of application.properties or application.yml in Spring Boot?</strong>
        <p>These files provide <em>centralized external configuration</em> for your application. Configure ports, DB URLs, security, and custom properties. Spring Boot reads them automatically from <code>src/main/resources</code>.</p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>server.port=8081
spring.datasource.url=jdbc:mysql://localhost:3306/mydb</code></pre></div>
      </li>

      <li>
        <strong>How do you handle default values with @Value if the property isn’t set?</strong>
        <p>Use <code>:</code> in the placeholder to define a <em>default value</em>.</p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>@Value("\${app.description:Default Description}")
private String description;</code></pre></div>
      </li>

      <li>
        <strong>How many ways are there to read properties from properties or YAML files?</strong>
        <p>Spring provides several options:</p>
        <ul class="list-disc ml-6">
          <li>Using <code>@Value</code> for direct injection.</li>
          <li>Using <code>@ConfigurationProperties</code> to map multiple properties into a POJO.</li>
          <li>Using <code>Environment</code> object programmatically.</li>
          <li>Using <code>PropertySourcesPlaceholderConfigurer</code> in older or XML-based configs.</li>
        </ul>

        <p><strong>Example with Environment:</strong></p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>@Autowired
private Environment env;

public void printProperty() {
  System.out.println(env.getProperty("app.name"));
}</code></pre></div>

        <p><strong>Example with PropertySourcesPlaceholderConfigurer (Java Config):</strong></p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>@Configuration
@PropertySource("classpath:application.properties")
public class AppConfig {

  @Bean
  public static PropertySourcesPlaceholderConfigurer propertyConfigurer() {
    return new PropertySourcesPlaceholderConfigurer();
  }

  @Value("\${app.name}")
  private String appName;

  @PostConstruct
  public void printProperty() {
    System.out.println("App Name: " + appName);
  }
}</code></pre></div>

        <p><strong>Example with PropertySourcesPlaceholderConfigurer (XML Config):</strong></p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>&lt;context:property-placeholder location="classpath:application.properties"/&gt;</code></pre></div>
      </li>
    </ul>

    <h3 class="text-xl font-bold mt-6">✅ Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside space-y-2">
      <li>Use <code>@Value</code> for simple, direct injections.</li>
      <li>Use <code>@ConfigurationProperties</code> for grouping related configs.</li>
      <li>Use <code>Environment</code> when you need dynamic or programmatic access to properties.</li>
      <li><code>application.properties</code>/<code>application.yml</code> enable <em>externalized configuration</em> for flexibility across environments.</li>
      <li>Remember <code>@Value("\${property:default}")</code> syntax for default values.</li>
    </ul>
  `
},'Profiles in Spring': {
  id: 'profiles-in-spring',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Profiles in Spring</h2>

    <ul class="list-disc list-inside space-y-4">
      <li>
        <strong>What are Spring profiles?</strong>
        <p>Profiles in Spring let you <em>define different beans and configurations</em> for different environments, like dev, test, or prod. You can enable or disable parts of your application context based on the active profile.</p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>@Profile("dev")
@Bean
public DataSource devDataSource() { ... }

@Profile("prod")
@Bean
public DataSource prodDataSource() { ... }</code></pre></div>
      </li>

      <li>
        <strong>How do you define and activate a profile in Spring Boot?</strong>
        <p>Define profiles using <code>@Profile</code> on beans or configuration classes, and activate them by:</p>
        <ul class="list-disc ml-6">
          <li>Setting <code>spring.profiles.active</code> in <code>application.properties</code>:</li>
          <div class="code-block"><button class="copy-btn">Copy</button><pre><code>spring.profiles.active=dev</code></pre></div>

          <li>Using command-line arguments:</li>
          <div class="code-block"><button class="copy-btn">Copy</button><pre><code>java -jar app.jar --spring.profiles.active=prod</code></pre></div>

          <li>Setting an environment variable:</li>
          <div class="code-block"><button class="copy-btn">Copy</button><pre><code>export SPRING_PROFILES_ACTIVE=prod</code></pre></div>
        </ul>
      </li>

      <li>
        <strong>Why are profiles useful in application environments (e.g., dev, test, prod)?</strong>
        <p>They let you maintain <em>separate configurations for different environments</em>, reducing the risk of mistakes when deploying. Examples include:</p>
        <ul class="list-disc ml-6">
          <li>Use an in-memory DB for <code>dev</code> and a real DB for <code>prod</code>.</li>
          <li>Enable debug logging only in <code>dev</code>.</li>
          <li>Configure different external APIs per environment.</li>
        </ul>
      </li>

      <li>
        <strong>Can you define multiple active profiles at once? How do you do it?</strong>
        <p>Yes! Spring allows multiple profiles to be active simultaneously. Define them as a comma-separated list:</p>
        <p><strong>In <code>application.properties</code>:</strong></p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>spring.profiles.active=dev,feature-x</code></pre></div>

        <p><strong>Or via command-line:</strong></p>
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>java -jar app.jar --spring.profiles.active=dev,feature-x</code></pre></div>

        <p>When multiple profiles are active, beans annotated with any of them will be included.</p>
      </li>
    </ul>

    <h3 class="text-xl font-bold mt-6">✅ Interview Tips & Quick Summary</h3>
    <ul class="list-disc list-inside space-y-2">
      <li>Profiles enable <em>environment-specific configurations</em> with ease.</li>
      <li>Use <code>@Profile</code> for conditional beans or config classes.</li>
      <li>Activate profiles via properties, command-line arguments, or environment variables.</li>
      <li>Combine multiple profiles for precise control over your application's behavior.</li>
    </ul>
  `
},'Singleton Pattern': {
  id: 'singleton-pattern',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Singleton Pattern</h2>
  <p class="mt-4 text-gray-700 dark:text-gray-300">The Singleton Pattern ensures a class has only one instance and provides a global point of access to it.</p>

  <h3 class="text-xl font-semibold mt-4">Why Use Singleton?</h3>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Shared resource management (e.g., configuration, logging)</li>
    <li>Global access point</li>
    <li>Controlled instantiation</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4">Different Ways to Implement Singleton</h3>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li><strong>Eager Initialization</strong> – Instance is created at class loading time</li>
    <li><strong>Lazy Initialization</strong> – Instance is created when needed</li>
    <li><strong>Thread-safe Singleton</strong> – Use synchronized or double-checked locking</li>
    <li><strong>Bill Pugh Singleton</strong> – Uses inner static helper class (Recommended)</li>
    <li><strong>Enum Singleton</strong> – Simplest and most robust way</li>
  </ul>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>// Eager Initialization
public class Singleton {
  private static final Singleton INSTANCE = new Singleton();
  private Singleton() {}
  public static Singleton getInstance() {
    return INSTANCE;
  }
}</code></pre>
  </div>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>// Lazy Initialization
public class Singleton {
  private static Singleton instance;
  private Singleton() {}
  public static Singleton getInstance() {
    if (instance == null) {
      instance = new Singleton();
    }
    return instance;
  }
}</code></pre>
  </div>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>// Thread-safe Singleton with Double-Checked Locking
public class Singleton {
  private static volatile Singleton instance;
  private Singleton() {}
  public static Singleton getInstance() {
    if (instance == null) {
      synchronized (Singleton.class) {
        if (instance == null) {
          instance = new Singleton();
        }
      }
    }
    return instance;
  }
}</code></pre>
  </div>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>// Bill Pugh Singleton
public class Singleton {
  private Singleton() {}
  private static class Holder {
    private static final Singleton INSTANCE = new Singleton();
  }
  public static Singleton getInstance() {
    return Holder.INSTANCE;
  }
}</code></pre>
  </div>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>// Enum Singleton
public enum Singleton {
  INSTANCE;
  public void doSomething() {
    System.out.println("Using enum singleton");
  }
}

// Usage
Singleton.INSTANCE.doSomething();</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Interview Key Points</h3>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Use Bill Pugh or Enum implementation for thread safety</li>
    <li>Prevent reflection using enum or throwing exception in constructor</li>
    <li>Prevent serialization issues by using <code>readResolve()</code> method</li>
    <li>Singleton is useful for shared components like DB connections, loggers</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4">Common Interview Questions with Answers</h3>
  <div class="text-gray-700 dark:text-gray-300 space-y-4">
    <div>
      <p><strong>1. What is the Singleton Pattern? Where have you used it?</strong></p>
      <p>The Singleton pattern ensures a class has only one instance and provides a global access point to it. It is used in logging, caching, configuration, and database connection objects.</p>
    </div>

    <div>
      <p><strong>2. How do you ensure thread safety in Singleton?</strong></p>
      <p>By using synchronized blocks, double-checked locking, static blocks, or inner static helper classes like in Bill Pugh Singleton.</p>
    </div>

    <div>
      <p><strong>3. What's the difference between eager and lazy initialization?</strong></p>
      <p>Eager initialization creates the instance at class load time, while lazy initialization defers it until the first request, saving resources if unused.</p>
    </div>

    <div>
      <p><strong>4. Why is Bill Pugh Singleton preferred in Java?</strong></p>
      <p>It offers lazy initialization and is thread-safe without synchronization overhead. JVM ensures the static inner class is loaded only once.</p>
    </div>

    <div>
      <p><strong>5. Can Enum be used to implement Singleton in Java?</strong></p>
      <p>Yes, Enum is the most secure and recommended way to implement Singleton as it handles serialization and protects against reflection.</p>

      <div class="code-block mt-2 mb-2">
        <button class="copy-btn">Copy</button>
        <pre><code>public enum Singleton {
  INSTANCE;
  public void doSomething() {
    System.out.println("Using enum singleton");
  }
}</code></pre>
      </div>
    </div>

    <div>
      <p><strong>6. How do you prevent reflection from breaking Singleton?</strong></p>
      <p>By throwing an exception if the constructor is already used once, or use Enum which inherently protects against reflection attacks.</p>
    </div>

    <div>
      <p><strong>7. How would you test a Singleton class in a multi-threaded environment?</strong></p>
      <p>Spawn multiple threads calling <code>getInstance()</code> and assert all return the same reference using assertions or comparing hash codes.</p>
    </div>
  </div>
<h3 class="text-xl font-semibold mt-6">Advanced Interview Questions</h3>
<div class="text-gray-700 dark:text-gray-300 space-y-4">

  <div>
    <p><strong>1. How can you break a Singleton pattern?</strong></p>
    <p>Singleton can be broken via reflection, serialization, or cloning. Reflection can invoke the private constructor; serialization can create a new object during deserialization unless <code>readResolve()</code> is implemented.</p>
  </div>

  <div>
    <p><strong>2. How do you prevent Singleton from being broken via serialization?</strong></p>
    <p>Implement <code>readResolve()</code> method in your class to return the same instance during deserialization.</p>
    <div class="code-block mt-2 mb-2">
      <button class="copy-btn">Copy</button>
      <pre><code>protected Object readResolve() {
  return getInstance();
}</code></pre>
    </div>
  </div>

  <div>
    <p><strong>3. Can Singleton be lazy-loaded without synchronization overhead?</strong></p>
    <p>Yes, the Bill Pugh Singleton uses an inner static class that leverages JVM classloader behavior to ensure thread-safe lazy initialization without locking.</p>
  </div>

  <div>
    <p><strong>4. What are the drawbacks of Singleton?</strong></p>
    <ul class="list-disc list-inside ml-4">
      <li>Hidden dependencies (acts as global state)</li>
      <li>Hard to unit test due to tight coupling</li>
      <li>Can lead to memory leaks if not managed properly</li>
    </ul>
  </div>

  <div>
    <p><strong>5. How does Singleton affect testing and DI frameworks like Spring?</strong></p>
    <p>Singleton makes unit testing harder due to its global state. DI frameworks prefer to manage Singleton scope themselves to allow test injection and control lifecycle.</p>
  </div>

  <div>
    <p><strong>6. How is Singleton different from a static class?</strong></p>
    <ul class="list-disc list-inside ml-4">
      <li>Singleton can implement interfaces and be passed around as an object</li>
      <li>Static class cannot be instantiated or extended</li>
      <li>Singleton supports lazy initialization, static class does not</li>
    </ul>
  </div>

</div>

  <h3 class="text-xl font-semibold mt-4">Quick Summary Before Interview</h3>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Singleton limits instantiation to one object only</li>
    <li>Bill Pugh and Enum are the best implementations</li>
    <li>Protect against multithreading, serialization, and reflection issues</li>
    <li>Great for shared configurations and stateless services</li>
  </ul>`
},'Abstract Factory Pattern': {
  id: 'abstract-factory-pattern',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Abstract Factory Pattern</h2>

  <p class="mt-4 text-gray-700 dark:text-gray-300">The Abstract Factory Pattern provides an interface for creating families of related objects without specifying their concrete classes. It is a powerful creational pattern used to enforce consistency and flexibility in object creation.</p>

  <h3 class="text-xl font-semibold mt-4">Core Concepts</h3>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li><strong>What is the Abstract Factory Pattern?</strong> – A pattern that provides an interface to create families of related or dependent objects.</li>
    <li><strong>How is it different from the Factory Method Pattern?</strong> – Factory Method creates a single object, Abstract Factory creates families of related objects.</li>
    <li><strong>When should you use the Abstract Factory Pattern?</strong> – When you need a system that is independent of the way its objects are created and need to enforce consistency.</li>
    <li><strong>What are real-world use cases?</strong> – UI toolkits (buttons, checkboxes), database drivers, cross-platform systems.</li>
    <li><strong>What components are involved?</strong> – AbstractFactory, ConcreteFactory, AbstractProduct, ConcreteProduct, Client.</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4">Code Example</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">This is a complete implementation of Abstract Factory Pattern in Java:</p>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>// Abstract Products
interface Button {
  void render();
}
interface Checkbox {
  void render();
}

// Concrete Products
class WinButton implements Button {
  public void render() {
    System.out.println("Windows Button");
  }
}
class MacButton implements Button {
  public void render() {
    System.out.println("Mac Button");
  }
}
class WinCheckbox implements Checkbox {
  public void render() {
    System.out.println("Windows Checkbox");
  }
}
class MacCheckbox implements Checkbox {
  public void render() {
    System.out.println("Mac Checkbox");
  }
}

// Abstract Factory
interface GUIFactory {
  Button createButton();
  Checkbox createCheckbox();
}

// Concrete Factories
class WinFactory implements GUIFactory {
  public Button createButton() { return new WinButton(); }
  public Checkbox createCheckbox() { return new WinCheckbox(); }
}
class MacFactory implements GUIFactory {
  public Button createButton() { return new MacButton(); }
  public Checkbox createCheckbox() { return new MacCheckbox(); }
}

// Client
class Application {
  private Button button;
  private Checkbox checkbox;
  public Application(GUIFactory factory) {
    button = factory.createButton();
    checkbox = factory.createCheckbox();
  }
  public void render() {
    button.render();
    checkbox.render();
  }
}

// Demo
public class Demo {
  public static void main(String[] args) {
    GUIFactory factory = new WinFactory(); // or new MacFactory()
    Application app = new Application(factory);
    app.render();
  }
}</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Advanced Interview Questions</h3>
  <div class="text-gray-700 dark:text-gray-300 space-y-4">

    <div>
      <p><strong>How does Abstract Factory promote consistency among products?</strong></p>
      <p>It ensures all created objects are from the same family, avoiding mismatched components like mixing Windows buttons with Mac checkboxes.</p>
    </div>

    <div>
      <p><strong>What are the pros and cons of Abstract Factory?</strong></p>
      <ul class="list-disc list-inside">
        <li>✔ Promotes consistency and scalability</li>
        <li>✔ Decouples client from concrete implementations</li>
        <li>❌ Adding new product types requires changing all factories</li>
        <li>❌ Adds complexity due to multiple layers of abstraction</li>
      </ul>
    </div>

    <div>
      <p><strong>How does it follow the Open-Closed and Dependency Inversion Principles?</strong></p>
      <p>Clients depend on abstractions (not concrete classes), and new families can be introduced without changing existing code.</p>
    </div>

    <div>
      <p><strong>How does Abstract Factory fit with Dependency Injection frameworks like Spring?</strong></p>
      <p>Spring promotes injecting abstract factories or interfaces, allowing seamless swapping of implementations and making code testable, configurable, and flexible.</p>
    </div>

  </div>

  <h3 class="text-xl font-semibold mt-4">Quick Summary Before Interview</h3>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Used for creating families of related objects</li>
    <li>Ensures consistent use of product families (e.g., UI components)</li>
    <li>Decouples object creation from usage</li>
    <li>Best paired with frameworks that support Dependency Injection</li>
    <li>Trade-off: higher complexity but greater flexibility</li>
  </ul>`
},'Factory Method Pattern': {
    id: 'design-pattern-factory-method',
    html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Design Pattern: Factory Method Pattern</h2>
    <p class="mt-4 text-gray-700 dark:text-gray-300">The <strong>Factory Method Pattern</strong> is a creational design pattern that defines an interface for creating an object, but lets subclasses alter the type of objects that will be created. It essentially defers the instantiation of an object to its subclasses.</p>
    <p class="mt-2 text-gray-700 dark:text-gray-300"><strong>Core Idea:</strong> Instead of directly creating objects using the <code>new</code> keyword, you use a special "factory method" (defined in an interface or abstract class) which concrete subclasses then implement to produce specific types of objects. This decouples the client code from the concrete classes it instantiates, promoting flexibility and extensibility.</p>

    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Code Example: Notification Factory</h3>
    <p class="mt-4 text-gray-700 dark:text-gray-300">Here's a Java example demonstrating the Factory Method Pattern for creating different types of notifications.</p>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">1. Product Interface: <code>Notification</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Defines the common interface for all products that the factory method will create.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Product Interface
interface Notification {
    void notifyUser();
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">2. Concrete Products: <code>EmailNotification</code>, <code>SMSNotification</code>, <code>PushNotification</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Concrete implementations of the <code>Notification</code> interface.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Concrete Products
class EmailNotification implements Notification {
    @Override
    public void notifyUser() {
        System.out.println("Sending an Email notification.");
    }
}

class SMSNotification implements Notification {
    @Override
    public void notifyUser() {
        System.out.println("Sending an SMS notification.");
    }
}

class PushNotification implements Notification {
    @Override
    public void notifyUser() {
        System.out.println("Sending a Push notification.");
    }
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">3. Creator Abstract Class: <code>NotificationCreator</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Declares the factory method (<code>createNotification()</code>), which returns an object of type <code>Notification</code>. It can also define default behavior or operations that use the factory method.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Creator Abstract Class
abstract class NotificationCreator {
    public abstract Notification createNotification();

    // An operation that might use the factory method
    public void sendNotificationMessage() {
        Notification notification = createNotification(); // Calls the factory method
        notification.notifyUser();
    }
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">4. Concrete Creators: <code>EmailNotificationCreator</code>, <code>SMSNotificationCreator</code>, <code>PushNotificationCreator</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Subclasses that implement the factory method to return specific concrete product instances.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Concrete Creators
class EmailNotificationCreator extends NotificationCreator {
    @Override
    public Notification createNotification() {
        return new EmailNotification();
    }
}

class SMSNotificationCreator extends NotificationCreator {
    @Override
    public Notification createNotification() {
        return new SMSNotification();
    }
}

class PushNotificationCreator extends NotificationCreator {
    @Override
    public Notification createNotification() {
        return new PushNotification();
    }
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">5. Client Usage: <code>Main</code> Class</h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">The client code interacts with the <code>NotificationCreator</code> and <code>Notification</code> interfaces, remaining unaware of the concrete product types.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Client Usage
public class Main {
    public static void main(String[] args) {
        NotificationCreator emailCreator = new EmailNotificationCreator();
        emailCreator.sendNotificationMessage(); // Sends an Email notification

        NotificationCreator smsCreator = new SMSNotificationCreator();
        smsCreator.sendNotificationMessage(); // Sends an SMS notification

        NotificationCreator pushCreator = new PushNotificationCreator();
        pushCreator.sendNotificationMessage(); // Sends a Push notification

        // Adding a new notification type (e.g., InAppNotification)
        // would only require new InAppNotification and InAppNotificationCreator classes,
        // without modifying existing code that uses NotificationCreator.
    }
}
</code></pre>
    </div>

    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Interview Questions: Factory Method Pattern</h3>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">Basic Level Questions:</h4>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li>
        <p><strong>What is the primary purpose of the Factory Method Pattern?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: To define an interface for creating an object, but let subclasses decide which class to instantiate. It defers instantiation to subclasses.</em></p>
      </li>
      <li>
        <p><strong>In simple terms, how does the Factory Method Pattern help in creating objects?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Instead of directly calling <code>new</code> to create an object, you call a "factory method" which then handles the creation process, often returning an interface or abstract class type.</em></p>
      </li>
      <li>
        <p><strong>Can you name a common use case where you might apply the Factory Method Pattern?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: When a class can't anticipate the class of objects it needs to create, or when a library needs to provide a standard way to create objects where the exact type is determined by client code (e.g., parsers for different file types).</em></p>
      </li>
      <li>
        <p><strong>What is the main benefit of using a Factory Method over direct object instantiation?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: It promotes loose coupling by decoupling the client code from the concrete classes it instantiates. It also makes the system more flexible and extensible.</em></p>
      </li>
    </ul>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">Intermediate Level Questions:</h4>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li>
        <p><strong>Describe the key components (participants) of the Factory Method Pattern.</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Product:</strong> The interface or abstract class of the objects the factory method creates.</li>
            <li><strong>Concrete Product:</strong> Concrete implementations of the Product interface.</li>
            <li><strong>Creator:</strong> The abstract class or interface that declares the factory method, which returns an object of type Product.</li>
            <li><strong>Concrete Creator:</strong> Subclasses that implement the factory method to return specific Concrete Product instances.</li>
        </ul>
      </li>
      <li>
        <p><strong>How does the Factory Method Pattern adhere to the Open/Closed Principle?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: It allows you to introduce new product types (new concrete products and concrete creators) without modifying the client code that uses the factory method. The system is "open for extension" but "closed for modification."</em></p>
      </li>
      <li>
        <p><strong>What is the difference between the Factory Method Pattern and the Abstract Factory Pattern?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Factory Method:</strong> Deals with creating <em>one</em> product family (or a single product type) through a method defined in an abstract creator class.</li>
            <li><strong>Abstract Factory:</strong> Deals with creating <em>families of related or dependent objects</em> without specifying their concrete classes. It's a "factory of factories."</li>
        </ul>
      </li>
      <li>
        <p><strong>When might you choose <em>not</em> to use the Factory Method Pattern, and what are potential downsides?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Overhead/Complexity:</strong> For very simple object creation, it might introduce unnecessary interfaces and classes, increasing complexity.</li>
            <li><strong>Increased Classes:</strong> It leads to more classes in the design (e.g., a Concrete Creator for each Concrete Product), which can be overkill for small projects.</li>
            <li><strong>When Creation Logic is Trivial:</strong> If the object creation logic is always straightforward and never changes, direct instantiation might be fine.</li>
        </ul>
      </li>
    </ul>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">Advanced Level Questions:</h4>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li>
        <p><strong>Can you describe a real-world scenario where you've personally implemented or seen the Factory Method Pattern in a complex system, and explain its benefits in that context?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Look for examples beyond simple "Car Factory." Good examples might include: Logger Frameworks (different loggers based on config), UI Frameworks (platform-specific UI elements), Document/File Format Handling (different parsers for file types), Database Connection Pools (different DB connections).</em></p>
      </li>
      <li>
        <p><strong>How can the Factory Method Pattern be extended or combined with other patterns to address more sophisticated creational needs or architectural challenges?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Can be combined with Abstract Factory (factory method returns an Abstract Factory), Template Method (factory method as a step), Dependency Injection (factory methods registered with DI container), Strategy Pattern (factory creates different strategy objects).</em></p>
      </li>
      <li>
        <p><strong>Discuss the challenges or pitfalls when evolving a system that heavily relies on the Factory Method Pattern, especially when dealing with product hierarchies or cross-cutting concerns during creation.</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Deep class hierarchies (explosion of concrete creator classes), maintenance overhead, refactoring complexity, configuration management (complex runtime decisions for which creator to use).</em></p>
      </li>
      <li>
        <p><strong>Consider a scenario where you have a legacy system with tightly coupled object creation. How would you incrementally refactor it using the Factory Method Pattern without a complete rewrite, and what are the steps involved?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Steps involve identifying direct instantiations, defining Product interface, creating Abstract Creator, introducing Concrete Creator(s), replacing <code>new</code> calls with factory method calls, and testing incrementally. Might start with a simple factory first.</em></p>
      </li>
    </ul>

    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Summary Points:</h3>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li><strong>Purpose:</strong> Provides an interface for creating objects, but lets subclasses decide which class to instantiate.</li>
      <li><strong>Key Principle:</strong> "Program to an interface, not an implementation." It relies heavily on polymorphism.</li>
      <li><strong>Decoupling:</strong> Decouples the client code from the concrete product classes.</li>
      <li><strong>Extensibility:</strong> Makes it easy to introduce new product types without altering existing client code (adheres to Open/Closed Principle).</li>
      <li><strong>Components:</strong> Product, Concrete Product, Creator, Concrete Creator.</li>
      <li><strong>Usage:</strong> Useful when a class cannot anticipate the type of objects it must create, or when a framework needs to standardize object creation.</li>
    </ul>`
},'Abstract Factory Pattern': {
    id: 'design-pattern-abstract-factory',
    html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Design Pattern: Abstract Factory Pattern</h2>
    <p class="mt-4 text-gray-700 dark:text-gray-300">The <strong>Abstract Factory Pattern</strong> is a creational design pattern that provides an interface for creating families of related or dependent objects without specifying their concrete classes.</p>
    <p class="mt-2 text-gray-700 dark:text-gray-300"><strong>Core Idea:</strong> It acts as a "factory of factories." You define an abstract factory that declares methods for creating a set of related products (e.g., creating a Button AND a Checkbox). Concrete factories then implement these methods to create specific variations of these product families (e.g., Windows Button and Windows Checkbox, or Mac Button and Mac Checkbox). The client interacts only with the abstract factory and abstract products, ensuring consistency across a product family.</p>

    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Code Example: GUI Factory</h3>
    <p class="mt-4 text-gray-700 dark:text-gray-300">Let's illustrate the Abstract Factory Pattern with a GUI example where we create different UI elements (Button, Checkbox) for different operating systems (Windows, macOS).</p>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">1. Abstract Products: <code>Button</code> and <code>Checkbox</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Interfaces for a family of related products (UI elements).</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Abstract Products
interface Button {
    void paint();
}

interface Checkbox {
    void paint();
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">2. Concrete Products: Windows and Mac UI Elements</h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Specific implementations of the abstract products for different platforms.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Concrete Products for Windows
class WinButton implements Button {
    @Override
    public void paint() {
        System.out.println("Rendering a button in Windows style.");
    }
}

class WinCheckbox implements Checkbox {
    @Override
    public void paint() {
        System.out.println("Rendering a checkbox in Windows style.");
    }
}

// Concrete Products for macOS
class MacButton implements Button {
    @Override
    public void paint() {
        System.out.println("Rendering a button in Mac style.");
    }
}

class MacCheckbox implements Checkbox {
    @Override
    public void paint() {
        System.out.println("Rendering a checkbox in Mac style.");
    }
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">3. Abstract Factory: <code>GUIFactory</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Declares creation methods for each abstract product in the family.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Abstract Factory
interface GUIFactory {
    Button createButton();
    Checkbox createCheckbox();
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">4. Concrete Factories: <code>WinFactory</code> and <code>MacFactory</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Implement the abstract factory methods to create specific concrete product families.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Concrete Factories
class WinFactory implements GUIFactory {
    @Override
    public Button createButton() {
        return new WinButton();
    }

    @Override
    public Checkbox createCheckbox() {
        return new WinCheckbox();
    }
}

class MacFactory implements GUIFactory {
    @Override
    public Button createButton() {
        return new MacButton();
    }

    @Override
    public Checkbox createCheckbox() {
        return new MacCheckbox();
    }
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">5. Client Usage: <code>Application</code> Class</h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">The client code uses the abstract factory and abstract product interfaces. It doesn't know the concrete types being created.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Client (Application)
public class Application {
    private Button button;
    private Checkbox checkbox;

    public Application(GUIFactory factory) {
        this.button = factory.createButton();
        this.checkbox = factory.createCheckbox();
    }

    public void paint() {
        button.paint();
        checkbox.paint();
    }

    public static void main(String[] args) {
        // Create a Windows UI
        System.out.println("Creating Windows UI:");
        GUIFactory winFactory = new WinFactory();
        Application winApp = new Application(winFactory);
        winApp.paint();
        System.out.println("---");

        // Create a Mac UI
        System.out.println("Creating Mac UI:");
        GUIFactory macFactory = new MacFactory();
        Application macApp = new Application(macFactory);
        macApp.paint();
    }
}
</code></pre>
    </div>

    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Interview Questions: Abstract Factory Pattern</h3>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">Basic Level Questions:</h4>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li>
        <p><strong>What is the primary goal of the Abstract Factory Pattern?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: To provide an interface for creating families of related or dependent objects without specifying their concrete classes.</em></p>
      </li>
      <li>
        <p><strong>In simple terms, how is the Abstract Factory different from directly creating objects using 'new'?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: It creates entire families of objects through a factory interface, rather than directly creating individual objects. This allows you to swap out whole families of objects without changing client code.</em></p>
      </li>
      <li>
        <p><strong>Can you provide a simple example of where you might use an Abstract Factory?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Creating UI components for different operating systems (e.g., Windows UI vs. Mac UI), or creating different database types (e.g., SQL Server objects vs. Oracle objects).
        <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Simple usage example
GUIFactory factory = new WinFactory(); // or new MacFactory()
Button btn = factory.createButton();
Checkbox cb = factory.createCheckbox();
btn.paint(); // Renders Windows Button
</code></pre>
        </em></p>
      </li>
    </ul>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">Intermediate Level Questions:</h4>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li>
        <p><strong>Describe the key components (participants) of the Abstract Factory Pattern.</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Abstract Factory:</strong> Declares an interface for creating abstract products.</li>
            <li><strong>Concrete Factory:</strong> Implements the abstract factory methods to create concrete products.</li>
            <li><strong>Abstract Product:</strong> Declares an interface for a type of product object.</li>
            <li><strong>Concrete Product:</strong> Defines a product object to be created by the corresponding concrete factory.</li>
            <li><strong>Client:</strong> Uses interfaces declared by Abstract Factory and Abstract Product classes.</li>
        </ul>
      </li>
      <li>
        <p><strong>How does the Abstract Factory Pattern promote consistency among related products?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Each concrete factory is responsible for creating a complete set of compatible products. By using a single concrete factory, you guarantee that all products created within that factory belong to the same family and are compatible with each other. For example, a <code>WinFactory</code> will only produce <code>WinButton</code> and <code>WinCheckbox</code>, never a mix.</em></p>
      </li>
      <li>
        <p><strong>What are the main advantages and disadvantages of using the Abstract Factory Pattern?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Advantages:</strong> Isolates concrete classes from the client, easy to exchange product families (e.g., switch from <code>new WinFactory()</code> to <code>new MacFactory()</code> to change entire UI look and feel), promotes consistency among products.</li>
            <li><strong>Disadvantages:</strong> Adding new types of products (new abstract products) is difficult because it requires changing the Abstract Factory interface and all its Concrete Factory implementations.
            <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Adding a new product (e.g., TextField) requires:
// 1. Modifying GUIFactory interface:
//    interface GUIFactory { ... TextField createTextField(); }
// 2. Modifying ALL Concrete Factories (WinFactory, MacFactory) to implement createTextField().
// This is the "new product" problem.
</code></pre>
            </li>
        </ul>
      </li>
    </ul>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">Advanced Level Questions:</h4>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li>
        <p><strong>When would you choose Abstract Factory over Factory Method, and vice-versa? Illustrate with a concrete example.</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Abstract Factory:</strong> Use when you need to create <em>families</em> of related objects.
            <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Abstract Factory example:
interface CarFactory {
    Engine createEngine();
    Tire createTire();
}
class SportsCarFactory implements CarFactory { ... }
class EconomyCarFactory implements CarFactory { ... }
</code></pre>
            </li>
            <li><strong>Factory Method:</strong> Use when a class can't anticipate the class of objects it needs to create, or when a library wants to let subclasses define the type of object (creates *one* product).
            <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Factory Method example:
abstract class DocumentConverter {
    abstract Document createDocument(String type); // Factory method
}
class PDFConverter extends DocumentConverter { ... }
class DOCXConverter extends DocumentConverter { ... }
</code></pre>
            Factory Method creates a single type of product, while Abstract Factory creates a set of compatible products.
            </li>
        </ul>
      </li>
      <li>
        <p><strong>Discuss how the Abstract Factory Pattern can be implemented using reflection or dependency injection frameworks to overcome the "new product" problem (difficulty in adding new abstract products).</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Reflection or DI can reduce the need to modify the Abstract Factory interface itself. Instead of fixed creation methods like <code>createButton()</code>, the factory might take a string identifier or a class type and use reflection to instantiate the appropriate concrete product.
        <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Reflection-based factory method (simplified):
public &#60;T&#62; T createProduct(Class&#60;T&#62; productType) {
    // Logic to find and instantiate correct implementation
    if (productType == Button.class) return (T) new WinButton();
    // ... or use a map/reflection
}
// This shifts the "new product" burden from interface changes to mapping/configuration.
</code></pre>
        DI containers can manage the mapping of interfaces to concrete implementations dynamically (e.g., binding <code>Button.class</code> to <code>WinButton.class</code>), making it easier to introduce new product types without direct factory code changes in compiled code. However, this often shifts complexity to configuration files or DI module setup.
        </em></p>
      </li>
      <li>
        <p><strong>Consider a scenario where you have a highly configurable system that needs to support various product configurations at runtime. How would you leverage the Abstract Factory Pattern to manage these configurations effectively?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Each configuration (e.g., "High-Performance", "Low-Power", "Cloud-Optimized") could be represented by a specific Concrete Factory. At application startup, based on a configuration setting (e.g., from a properties file, environment variable, or user choice), the appropriate Concrete Factory instance would be created and injected into the client code.
        <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Runtime configuration example
String config = System.getProperty("app.mode"); // "HighPerformance" or "LowPower"
GUIFactory factory;
if ("HighPerformance".equals(config)) {
    factory = new HighPerformanceUIFactory(); // Concrete Factory for high-perf UI family
} else {
    factory = new LowPowerUIFactory();       // Concrete Factory for low-power UI family
}
Application app = new Application(factory);
app.paint(); // Renders UI based on selected configuration
</code></pre>
        This allows the application to dynamically switch between entire sets of compatible components (e.g., different UI styles, different logging implementations, different data storage mechanisms) without modifying core business logic.
        </em></p>
      </li>
    </ul>

    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Summary Points:</h3>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li><strong>Purpose:</strong> Creates families of related or dependent objects without specifying their concrete classes.</li>
      <li><strong>Key Principle:</strong> "Factory of factories." Ensures compatibility among objects within a family.</li>
      <li><strong>Decoupling:</strong> Isolates client code from concrete product classes and concrete factories.</li>
      <li><strong>Consistency:</strong> Guarantees that products created by a factory are compatible with each other.</li>
      <li><strong>Components:</strong> Abstract Factory, Concrete Factory, Abstract Product, Concrete Product, Client.</li>
      <li><strong>Usage:</strong> Ideal when a system needs to be independent of how its products are created, composed, and represented, and when you need to ensure a client uses products only from one family.</li>
    </ul>`
},'Builder Pattern': {
    id: 'design-pattern-builder',
    html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Design Pattern: Builder Pattern</h2>
    <p class="mt-4 text-gray-700 dark:text-gray-300">The <strong>Builder Pattern</strong> is a creational design pattern that allows for the step-by-step construction of a complex object. The pattern separates the construction of a complex object from its representation, enabling the same construction process to create different representations.</p>
    <p class="mt-2 text-gray-700 dark:text-gray-300"><strong>Core Idea:</strong> Instead of creating a complex object with a long, confusing constructor (often called "telescoping constructors" when there are many optional parameters), you use a "builder" object. This builder provides methods to set various parts or configurations of the object. Once all desired parts are set, a final <code>build()</code> or <code>getResult()</code> method is called on the builder to return the fully constructed object.</p>

    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Code Example: Car Builder</h3>
    <p class="mt-4 text-gray-700 dark:text-gray-300">Let's illustrate the Builder Pattern with an example of building different types of cars with various configurations.</p>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">1. Product: <code>Car</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">The complex object being built.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Product: Car
class Car {
    private String engine;
    private int seats;
    private String color;
    private boolean hasGPS;
    private String type; // e.g., "Sports Car", "SUV"

    // Constructor is often private or package-private,
    // only accessible by the Builder.
    public Car(String type, String engine, int seats, String color, boolean hasGPS) {
        this.type = type;
        this.engine = engine;
        this.seats = seats;
        this.color = color;
        this.hasGPS = hasGPS;
    }

    // Getters
    public String getEngine() { return engine; }
    public int getSeats() { return seats; }
    public String getColor() { return color; }
    public boolean hasGPS() { return hasGPS; }
    public String getType() { return type; }

    @Override
    public String toString() {
        return "Car Type: " + type +
               "\\n  Engine: " + engine +
               "\\n  Seats: " + seats +
               "\\n  Color: " + color +
               "\\n  GPS: " + (hasGPS ? "Yes" : "No");
    }
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">2. Builder Interface: <code>CarBuilder</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Declares the methods for building parts of the <code>Car</code> object.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Builder Interface
interface CarBuilder {
    CarBuilder setEngine(String engine);
    CarBuilder setSeats(int seats);
    CarBuilder setColor(String color);
    CarBuilder setGPS(boolean hasGPS);
    Car build(); // Returns the final Car object
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">3. Concrete Builders: <code>SportsCarBuilder</code> and <code>SUVBuilder</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Implement the Builder interface to construct and assemble parts, and provide the method for retrieving the final product.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Concrete Builder: Sports Car
class SportsCarBuilder implements CarBuilder {
    private String engine = "V8"; // Default
    private int seats = 2; // Default
    private String color = "Red";
    private boolean hasGPS = true;

    @Override
    public CarBuilder setEngine(String engine) {
        this.engine = engine;
        return this;
    }

    @Override
    public CarBuilder setSeats(int seats) {
        this.seats = seats;
        return this;
    }

    @Override
    public CarBuilder setColor(String color) {
        this.color = color;
        return this;
    }

    @Override
    public CarBuilder setGPS(boolean hasGPS) {
        this.hasGPS = hasGPS;
        return this;
    }

    @Override
    public Car build() {
        return new Car("Sports Car", engine, seats, color, hasGPS);
    }
}

// Concrete Builder: SUV
class SUVBuilder implements CarBuilder {
    private String engine = "V6"; // Default
    private int seats = 5; // Default
    private String color = "Black";
    private boolean hasGPS = false; // Default

    @Override
    public CarBuilder setEngine(String engine) {
        this.engine = engine;
        return this;
    }

    @Override
    public CarBuilder setSeats(int seats) {
        this.seats = seats;
        return this;
    }

    @Override
    public CarBuilder setColor(String color) {
        this.color = color;
        return this;
    }

    @Override
    public CarBuilder setGPS(boolean hasGPS) {
        this.hasGPS = hasGPS;
        return this;
    }

    @Override
    public Car build() {
        return new Car("SUV", engine, seats, color, hasGPS);
    }
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">4. Director (Optional): <code>CarManufacturer</code></h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">Constructs an object using the Builder interface. Encapsulates common building sequences.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Director (Optional)
class CarManufacturer {
    public Car buildLuxurySportsCar(CarBuilder builder) {
        return builder.setEngine("V12")
                      .setSeats(2)
                      .setColor("White")
                      .setGPS(true)
                      .build();
    }

    public Car buildStandardSUV(CarBuilder builder) {
        return builder.setEngine("V6")
                      .setSeats(7)
                      .setColor("Gray")
                      .setGPS(false)
                      .build();
    }
}
</code></pre>
    </div>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">5. Client Usage: <code>Main</code> Class</h4>
    <p class="mt-2 text-gray-700 dark:text-gray-300">The client interacts with the builder to construct various car configurations.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>// Client Usage
public class Main {
    public static void main(String[] args) {
        CarManufacturer manufacturer = new CarManufacturer();

        // Build a custom Sports Car directly using the builder
        System.out.println("Building Custom Sports Car:");
        CarBuilder sportsCarBuilder = new SportsCarBuilder();
        Car customSportsCar = sportsCarBuilder.setEngine("Turbo V6")
                                              .setColor("Blue")
                                              .setGPS(true)
                                              .build();
        System.out.println(customSportsCar);
        System.out.println("---");

        // Build a Luxury Sports Car using the Director
        System.out.println("Building Luxury Sports Car via Director:");
        Car luxurySportsCar = manufacturer.buildLuxurySportsCar(new SportsCarBuilder());
        System.out.println(luxurySportsCar);
        System.out.println("---");

        // Build a Standard SUV using the Director
        System.out.println("Building Standard SUV via Director:");
        CarBuilder suvBuilder = new SUVBuilder(); // Can use a fresh builder
        Car standardSUV = manufacturer.buildStandardSUV(suvBuilder);
        System.out.println(standardSUV);
        System.out.println("---");

        // Build a basic SUV with minimal configuration
        System.out.println("Building Basic SUV:");
        Car basicSUV = new SUVBuilder().build(); // Uses default values
        System.out.println(basicSUV);
    }
}
</code></pre>
    </div>

    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Interview Questions: Builder Pattern</h3>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">Basic Level Questions:</h4>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li>
        <p><strong>What is the main purpose of the Builder Pattern?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: To construct a complex object step-by-step. It's used when an object has many optional parameters or different ways it can be initialized, making its constructor unwieldy.</em></p>
      </li>
      <li>
        <p><strong>When should you consider using the Builder Pattern over a traditional constructor?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: When an object has a large number of optional parameters (to avoid "telescoping constructors"), when creating immutable objects, or when the object's construction process involves multiple steps that need to be followed in a specific order.</em></p>
      </li>
      <li>
        <p><strong>What are the key benefits of using the Builder Pattern?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Improves readability of object creation code, provides a clear separation between construction logic and the object itself, allows for the creation of immutable objects, and reduces the number of constructors.</em></p>
      </li>
      <li>
        <p><strong>Can you briefly describe the main components of the Builder Pattern?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Product:</strong> The complex object that is being built.</li>
            <li><strong>Builder:</strong> An abstract interface or class that declares the methods for building parts of the Product object.</li>
            <li><strong>Concrete Builder:</strong> Implements the Builder interface to construct and assemble parts of the product, and provides a method for retrieving the final product.</li>
            <li><strong>Director (Optional):</strong> Constructs an object using the Builder interface. It's optional as the client can directly use the builder.</li>
        </ul>
      </li>
    </ul>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">Intermediate Level Questions:</h4>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li>
        <p><strong>How does the Builder Pattern address the problem of "telescoping constructors"? Provide a small code snippet.</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: "Telescoping constructors" occur when you have multiple constructors, each with more parameters than the last, to handle optional fields. The Builder Pattern replaces these with a single constructor taking a builder object (or no parameters, relying on builder methods).
        <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Without Builder (Telescoping Constructor example)
public class User {
    public User(String name) { ... }
    public User(String name, int age) { ... }
    public User(String name, int age, String email) { ... }
    // ... many more constructors for combinations of optional fields
}

// With Builder (Cleaner instantiation)
User user = new UserBuilder("Alice")
                .withAge(30)
                .withEmail("alice@example.com")
                .build();
</code></pre>
        </em></p>
      </li>
      <li>
        <p><strong>Explain the role of the Director in the Builder Pattern. Is it always necessary?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: The Director's role is to encapsulate the logic for constructing a product with a particular configuration or sequence of steps. It works with a Builder object to create the Product. It is <strong>not</strong> always necessary; clients can directly interact with the Concrete Builder if the construction sequence is simple or varied for each client. It becomes useful when you have common, complex construction algorithms (e.g., building a "standard car" or "luxury car" with predefined sets of features).</em></p>
      </li>
      <li>
        <p><strong>How does the Builder Pattern contribute to making objects immutable?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Since all properties of the object are set through the builder's methods before the <code>build()</code> method is called, the Product object itself can be created with all its fields set via its constructor, and those fields can be made <code>final</code>. Once the object is built, its state cannot be changed, ensuring immutability.
        <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Product class designed for immutability with Builder
public class ImmutableProduct {
    private final String partA;
    private final int partB;

    // Private constructor, only called by the builder
    private ImmutableProduct(String partA, int partB) {
        this.partA = partA;
        this.partB = partB;
    }

    // No setters; all fields are final
    public String getPartA() { return partA; }
    public int getPartB() { return partB; }

    // Nested Builder class for constructing ImmutableProduct
    public static class Builder {
        private String partA;
        private int partB;

        public Builder setPartA(String partA) { this.partA = partA; return this; }
        public Builder setPartB(int partB) { this.partB = partB; return this; }

        public ImmutableProduct build() {
            // Optional: validation before building
            if (partA == null || partB == 0) {
                throw new IllegalStateException("Required parts not set.");
            }
            return new ImmutableProduct(partA, partB);
        }
    }
}
</code></pre>
        </em></p>
      </li>
      <li>
        <p><strong>Compare and contrast the Builder Pattern with the Factory Method Pattern.</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Factory Method:</strong> Focuses on creating <em>one</em> type of object, deferring the exact subclass to be instantiated to subclasses. It's about <em>what</em> object to create.
            <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Factory Method: decides WHICH ConcreteProduct to create
interface Product { void operation(); }
class ConcreteProductA implements Product { ... }
abstract class Creator { abstract Product createProduct(); }
class ConcreteCreatorA extends Creator { Product createProduct() { return new ConcreteProductA(); } }
</code></pre>
            </li>
            <li><strong>Builder Pattern:</strong> Focuses on constructing a <em>complex</em> object step-by-step, allowing different representations of the <em>same</em> product type. It's about <em>how</em> to build an object.
            <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Builder: defines HOW a complex Product is assembled
class ComplexProduct { String p1; int p2; }
interface ProductBuilder { ProductBuilder withP1(String p1); ProductBuilder withP2(int p2); ComplexProduct build(); }
class ConcreteProductBuilder implements ProductBuilder { ... }
</code></pre>
            *Analogy:* A Factory Method might decide to build a "Car" vs. a "Motorcycle." A Builder would take that "Car" and build it as a "Sports Car" or an "SUV" by configuring its specific parts (engine, seats, color, etc.).
            </li>
        </ul>
      </li>
    </ul>

    <h4 class="text-lg font-medium text-gray-800 dark:text-gray-100 mt-4">Advanced Level Questions:</h4>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li>
        <p><strong>Describe a real-world scenario (beyond simple car/pizza) where the Builder Pattern would be highly beneficial in a complex software system you've encountered or designed.</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer: Look for scenarios with many configuration options. Good examples include:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Query Builders:</strong> Building complex SQL queries with multiple <code>WHERE</code>, <code>JOIN</code>, <code>ORDER BY</code> clauses dynamically.
            <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// SQL Query Builder snippet
String query = new SqlQueryBuilder()
                    .select("id", "name")
                    .from("users")
                    .where("age > ?", 25)
                    .orderBy("name ASC")
                    .build();
</code></pre>
            </li>
            <li><strong>Configuration Objects:</strong> Creating configuration objects for services (e.g., <code>HttpClientConfig</code> with timeouts, headers, authentication details).</li>
            <li><strong>Report Generation:</strong> Building reports with various sections, filters, and output formats.</li>
            <li><strong>Complex Message/Request Objects:</strong> Constructing detailed API request objects with numerous optional headers, body elements, and query parameters.</li>
        </ul>
      </li>
      <li>
        <p><strong>How can you ensure that a complex object built using the Builder Pattern is always in a valid state? What mechanisms would you employ?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Builder-level Validation:</strong> Validate inputs to the builder's <code>withX()</code>/<code>setX()</code> methods immediately.</li>
            <li><strong><code>build()</code> Method Validation:</strong> Perform final, comprehensive validation inside the <code>build()</code> method of the Concrete Builder before returning the Product. Throw an <code>IllegalStateException</code> or <code>IllegalArgumentException</code> if the state is invalid (e.g., required fields are missing, or incompatible options are selected).
            <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Validation in build() method
public Product build() {
    if (this.requiredField == null) {
        throw new IllegalStateException("Required 'requiredField' is not set.");
    }
    if (this.partA != null && this.partB == null) {
        throw new IllegalArgumentException("Cannot have PartA without PartB.");
    }
    return new Product(this); // Pass builder state to Product constructor
}
</code></pre>
            </li>
            <li><strong>Fluent Interface Design:</strong> Design builder methods to return <code>this</code> to allow chaining, but ensure the <code>build()</code> method is distinct and performs the final construction.</li>
            <li><strong>Type Safety (Advanced):</strong> For very complex builders, one might use a type-safe builder pattern (e.g., using enums or sealed interfaces in Kotlin/Java) where the type system guides you through the necessary steps and prevents invalid states at compile time.</li>
        </ul>
      </li>
      <li>
        <p><strong>Discuss the advantages and disadvantages of making the Director class optional in the Builder Pattern. When would you prefer to omit it?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Advantages of Omitting Director:</strong> Simplifies the pattern for less complex constructions, client has full control over the building process, less classes in the design.</li>
            <li><strong>Disadvantages of Omitting Director:</strong> Client code might become repetitive if common construction sequences exist across different parts of the application. Lack of a central place to define standard build configurations (e.g., "standard gaming PC build").</li>
            <li><strong>When to Omit:</strong> When the construction process is simple and doesn't require predefined steps, or when the client itself needs maximum flexibility to define unique construction sequences on a case-by-case basis. If you don't have multiple "recipes" for building the product that you want to centralize, the Director adds unnecessary overhead. The client can directly use the builder's fluent interface.
            <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Direct client usage without Director
Car basicSUV = new SUVBuilder()
                    .setSeats(5)
                    .setColor("Green")
                    .build();
// This is fine if there's no complex, reusable build 'recipe'.
</code></pre>
            </li>
        </ul>
      </li>
      <li>
        <p><strong>How does the Builder Pattern relate to or differ from the Prototype Pattern?</strong></p>
        <p class="ml-4 italic text-gray-600 dark:text-gray-400"><em>Expected Answer:</em></p>
        <ul class="list-circle list-inside ml-8 text-gray-600 dark:text-gray-400">
            <li><strong>Builder:</strong> Focuses on constructing a new complex object step-by-step, often from scratch or from various components, and separates construction from representation. It's about creating <em>new</em> instances with <em>different configurations</em>.</li>
            <li><strong>Prototype:</strong> Focuses on creating new objects by <em>cloning</em> an existing object (the prototype). It's about creating <em>new</em> instances that are <em>copies</em> of an existing one, often with slight modifications.
            <pre class="bg-gray-700 p-2 rounded text-sm mt-2"><code>// Prototype example:
Product original = new Product("A", "B");
Product clone = original.clone(); // Creates a copy
clone.modifyPartA("C"); // Then modifies the copy
</code></pre>
            </li>
        </ul>
        <em>Key difference:</em> Builder constructs a new object from its components. Prototype clones an existing object. Builder is for varied, step-by-step creation. Prototype is for efficient copying of existing, possibly already complex, objects.
      </li>
    </ul>

    <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Summary Points:</h3>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li><strong>Purpose:</strong> Constructs a complex object step-by-step, separating construction from representation.</li>
      <li><strong>Key Principle:</strong> Avoids "telescoping constructors" and improves object creation readability.</li>
      <li><strong>Benefits:</strong> Cleaner code, supports immutable objects, provides fine-grained control, flexible.</li>
      <li><strong>Components:</strong> Product, Builder (interface/abstract class), Concrete Builder, Director (optional).</li>
      <li><strong>Usage:</strong> Ideal when an object has many optional parameters, requires a specific construction sequence, or needs to produce different representations of the same object.</li>
    </ul>`
},'Spring Boot Intro': {
  id: 'spring-boot-intro',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Spring Boot Introduction</h2>

  <h3 class="text-xl font-semibold mt-4">✅ What is Spring Boot? Why was it created?</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Spring Boot is a framework built on top of the Spring Framework that simplifies the setup, development, and deployment of Spring applications.
    It was created to eliminate boilerplate configurations and reduce development time by providing production-ready defaults.
  </p>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Auto-configuration for Spring projects</li>
    <li>Embedded servers (Tomcat, Jetty)</li>
    <li>Minimal Spring configuration</li>
    <li>Opinionated starter dependencies</li>
  </ul>
  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>@SpringBootApplication
public class HelloApplication {
  public static void main(String[] args) {
    SpringApplication.run(HelloApplication.class, args);
  }
}</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">✅ Spring Boot Starters — what are they and why are they useful?</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Starters are a set of convenient dependency descriptors provided by Spring Boot to include all required libraries for a specific functionality.
    They reduce the need to search for compatible libraries manually.
  </p>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li><code>spring-boot-starter-web</code> – For building web applications</li>
    <li><code>spring-boot-starter-data-jpa</code> – For Spring Data JPA</li>
    <li><code>spring-boot-starter-security</code> – For authentication/authorization</li>
  </ul>
  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">✅ Spring Boot Auto-configuration — how does it work?</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Auto-configuration attempts to automatically configure your Spring application based on the libraries in your classpath.
    It uses <code>@Conditional</code> annotations and metadata under <code>META-INF/spring.factories</code> to conditionally enable beans.
  </p>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Triggered by <code>@SpringBootApplication</code></li>
    <li>Customizable via <code>application.properties</code> or <code>application.yml</code></li>
    <li>Internally uses annotations like <code>@ConditionalOnClass</code>, <code>@ConditionalOnMissingBean</code></li>
  </ul>
  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>@Bean
@ConditionalOnMissingBean(DispatcherServlet.class)
public DispatcherServlet dispatcherServlet() {
  return new DispatcherServlet();
}</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-4">Interview Tips</h3>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Explain the benefits of convention over configuration.</li>
    <li>Mention embedded server support and reduced boilerplate.</li>
    <li>Be ready to explain how auto-configuration works internally.</li>
    <li>Compare starters with traditional Maven dependency management.</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4">Quick Summary Before Interview</h3>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Spring Boot simplifies development and promotes best practices.</li>
    <li>Starters bundle compatible libraries together.</li>
    <li>Auto-configuration leverages classpath scanning and conditions.</li>
  </ul>`
},'SpringBoot Configuration':{
  id: 'spring-boot-configurations',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Spring Boot: Key Configuration Concepts</h2>

  <h3 class="text-xl font-semibold mt-4">application.properties vs. application.yml</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Spring Boot allows external configuration via <code>application.properties</code> and <code>application.yml</code> files. Both serve the same purpose, and you can use either based on preference.
  </p>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li><strong>application.properties</strong> uses key-value pair format.</li>
    <li><strong>application.yml</strong> uses YAML syntax which supports hierarchical data better.</li>
  </ul>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>// application.properties
server.port=8081
spring.datasource.url=jdbc:mysql://localhost:3306/mydb</code></pre>
  </div>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code># application.yml
server:
  port: 8081
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-6">Spring Boot Profiles</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Spring Boot supports multiple environments using <strong>profiles</strong>. You can define environment-specific configurations like <code>application-dev.yml</code>, <code>application-prod.yml</code>.
  </p>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Activate a profile using:
  </p>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>// in application.properties
spring.profiles.active=dev</code></pre>
  </div>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code># or via command line
java -jar myapp.jar --spring.profiles.active=prod</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-6">Spring Boot Actuator</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Spring Boot Actuator</strong> provides production-ready features like health checks, metrics, environment, thread dumps, etc.
  </p>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    To enable Actuator, add the dependency:
  </p>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
  </div>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Access endpoints:
  </p>
  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>http://localhost:8080/actuator/health
http://localhost:8080/actuator/info</code></pre>
  </div>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    You can customize exposed endpoints in <code>application.properties</code>:
  </p>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>management.endpoints.web.exposure.include=*</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-6">Spring Boot CLI</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    The <strong>Spring Boot CLI</strong> is a command-line tool to quickly run Spring applications using Groovy. It’s great for prototyping and fast testing.
  </p>
  <p class="mt-2 text-gray-700 dark:text-gray-300">Install CLI from SDKMAN or direct download.</p>

  <div class="code-block mt-2">
    <button class="copy-btn">Copy</button>
    <pre><code>spring run app.groovy</code></pre>
  </div>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Pros of Spring Boot CLI:
  </p>
  <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
    <li>Rapid application prototyping.</li>
    <li>No boilerplate — less setup.</li>
    <li>Auto-import of Spring starters.</li>
  </ul>

  <h3 class="text-xl font-semibold mt-6">Interview Tips</h3>
  <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
    <li>Be ready to compare <code>.properties</code> vs <code>.yml</code> — advantages, readability, and environment-specific configuration.</li>
    <li>Explain how profiles simplify deployment for multiple environments.</li>
    <li>Mention Actuator endpoints for health monitoring, and how they help in production readiness.</li>
    <li>Clarify when you would use Spring Boot CLI over Maven or Gradle (mainly for demos and POCs).</li>
  </ul>`
},'Spring Boot Advanced Topics 1': {
  id: 'spring-boot-advanced-topics',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Spring Boot Advanced Topics</h2>

    <h3 class="mt-4 text-xl font-semibold text-gray-800 dark:text-gray-100">✅ Spring Boot Initializr — how does it simplify project setup?</h3>
    <p class="mt-2 text-gray-700 dark:text-gray-300">
      Spring Initializr is a web-based tool (also available in IDEs) that helps developers quickly bootstrap a new Spring Boot project.
      It allows you to select the Spring Boot version, dependencies, metadata, and build tool (Maven or Gradle), and generates a starter project with all configurations.
    </p>
    <p class="mt-1 text-gray-700 dark:text-gray-300">
      🔗 URL: <a href="https://start.spring.io" target="_blank" class="text-blue-600 dark:text-blue-400">https://start.spring.io</a>
    </p>

    <h3 class="mt-6 text-xl font-semibold text-gray-800 dark:text-gray-100">✅ Customizing Spring Boot Banner</h3>
    <p class="mt-2 text-gray-700 dark:text-gray-300">
      Spring Boot shows a default banner at startup. You can customize it by adding a <code>banner.txt</code> file under <code>src/main/resources</code>.
      You can include ASCII art or placeholders like <code>\${spring.boot.version}</code>, <code>\${java.version}</code>, etc.
    </p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>__       __     ____        _ __            
/ /___  _/ /_   / __ )____  (_) /_____  _____ 
/ / __ \\/ __/  / __  / __ \\/ / __/ __ \\/ ___/
/ / /_/ / /_   / /_/ / /_/ / / /_/ /_/ (__  ) 
\\____/\\__/  /_____/ .___/_/\\__/\\____/____/  
                /_/ Spring Boot \${spring.boot.version}</code></pre>
    </div>
    <p class="mt-2 text-gray-700 dark:text-gray-300">
      To disable the banner, set the following in <code>application.properties</code>:
    </p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>spring.main.banner-mode=off</code></pre>
    </div>

    <h3 class="mt-6 text-xl font-semibold text-gray-800 dark:text-gray-100">✅ Overriding Default Spring Boot Configurations</h3>
    <p class="mt-2 text-gray-700 dark:text-gray-300">
      You can override Spring Boot's auto-configured beans and properties in multiple ways:
    </p>
    <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
      <li><strong>application.properties:</strong> For example, override the server port using <code>server.port=9090</code></li>
      <li><strong>Java Config:</strong> You can provide your own bean to replace the default one.</li>
      <li><strong>Conditional Configuration:</strong> Use <code>@ConditionalOnMissingBean</code> to define beans only if one doesn't already exist.</li>
    </ul>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>@Bean
@ConditionalOnMissingBean
public DataSource dataSource() {
  return new HikariDataSource();
}</code></pre>
    </div>

    <h3 class="mt-6 text-xl font-semibold text-gray-800 dark:text-gray-100">✅ How to Enable HTTPS in Spring Boot Applications</h3>
    <p class="mt-2 text-gray-700 dark:text-gray-300">
      To enable HTTPS, generate a Java KeyStore (.jks) file and update your <code>application.properties</code> like so:
    </p>
    <div class="code-block mt-2">
      <button class="copy-btn">Copy</button>
      <pre><code>server.port=8443
server.ssl.enabled=true
server.ssl.key-store=classpath:keystore.jks
server.ssl.key-store-password=yourpassword
server.ssl.key-store-type=JKS
server.ssl.key-alias=tomcat</code></pre>
    </div>
    <p class="mt-2 text-gray-700 dark:text-gray-300">
      Now your app is accessible securely via <code>https://localhost:8443</code>
    </p>
  `
},'Spring Boot Advanced Topics 2': {
  id: 'spring-boot-advanced-runtime',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Spring Boot Advanced Runtime Features</h2>

  <h3 class="text-xl font-semibold mt-4 text-gray-800 dark:text-gray-100">✅ Spring Boot DevTools — What Are Its Benefits?</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">Spring Boot DevTools enhances the developer experience with:</p>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Automatic restart of the application on classpath changes.</li>
    <li>LiveReload support for automatic browser refresh.</li>
    <li>Disables template and static resource caching in dev.</li>
    <li>Enables remote debugging via secure connection.</li>
  </ul>
  <p class="mt-2 text-gray-700 dark:text-gray-300">To include it in Maven:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
  &lt;scope&gt;runtime&lt;/scope&gt;
  &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-6 text-gray-800 dark:text-gray-100">✅ Spring Boot Embedded Servers</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">Spring Boot includes embedded servers (Tomcat by default) allowing standalone deployment:</p>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li>Supports Tomcat, Jetty, and Undertow.</li>
    <li>No need to deploy WAR to an external server.</li>
    <li>Switch server by changing dependencies.</li>
  </ul>
  <p class="mt-2 text-gray-700 dark:text-gray-300">To switch from Tomcat to Jetty:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
  &lt;exclusions&gt;
    &lt;exclusion&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
    &lt;/exclusion&gt;
  &lt;/exclusions&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
  </div>

  <h3 class="text-xl font-semibold mt-6 text-gray-800 dark:text-gray-100">✅ Externalized Configuration — Advanced Options</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">Spring Boot supports advanced configuration strategies:</p>
  <ul class="list-disc list-inside mt-2 text-gray-700 dark:text-gray-300">
    <li><strong>Command-line args</strong>: <code>--server.port=8081</code></li>
    <li><strong>Environment variables</strong>: <code>SPRING_PROFILES_ACTIVE=prod</code></li>
    <li><strong>JVM args</strong>: <code>-Dserver.port=9090</code></li>
    <li><strong>External files</strong>: <code>--spring.config.location=/opt/configs/</code></li>
    <li><strong>Spring Cloud Config Server</strong> for centralized config</li>
  </ul>
  <p class="mt-2 text-gray-700 dark:text-gray-300">Order of precedence ensures values are overridden from top priority source.</p>

  <h3 class="text-xl font-semibold mt-6 text-gray-800 dark:text-gray-100">✅ How to Build and Run a Spring Boot Executable JAR</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">You can package a Spring Boot application as a self-contained executable JAR:</p>
  <p class="mt-2 text-gray-700 dark:text-gray-300">Build the JAR:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>mvn clean package</code></pre>
  </div>
  <p class="mt-2 text-gray-700 dark:text-gray-300">Run the JAR:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>java -jar target/myapp-0.0.1-SNAPSHOT.jar</code></pre>
  </div>
  <p class="mt-2 text-gray-700 dark:text-gray-300">Make sure this plugin is in your <code>pom.xml</code>:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
  </div>`
}
,'Spring Boot Advanced Topics 3': {
  id: 'spring-boot-deployment-testing',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Spring Boot Deployment, Testing, Security & Logging</h2>

  <h3 class="mt-4 text-xl font-semibold text-gray-800 dark:text-gray-100">Differences between traditional WAR deployment vs. executable JAR in Spring Boot</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300"><strong>WAR Deployment:</strong></p>
  <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
    <li>Requires an external servlet container (like Tomcat, JBoss, WebLogic).</li>
    <li>More setup-heavy: application is packaged as a .war and deployed manually.</li>
    <li>Common in older Java EE environments or large enterprise setups.</li>
  </ul>
  <p class="mt-2 text-gray-700 dark:text-gray-300"><strong>Executable JAR:</strong></p>
  <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
    <li>Self-contained: includes embedded server (Tomcat/Jetty/Undertow).</li>
    <li>Easier to deploy: just run with <code>java -jar myapp.jar</code>.</li>
    <li>Simpler CI/CD and containerization.</li>
  </ul>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Spring Boot Advantage:</strong> Favors executable JARs for faster development and fewer deployment dependencies.
  </p>

  <h3 class="mt-6 text-xl font-semibold text-gray-800 dark:text-gray-100">@SpringBootTest, @DataJpaTest and Spring Boot Testing</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Spring Boot offers powerful testing annotations:
  </p>
  <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
    <li><code>@SpringBootTest</code>: Loads full application context, used for integration tests.</li>
    <li><code>@DataJpaTest</code>: Configures in-memory database, scans repositories only — good for JPA tests.</li>
    <li><code>@WebMvcTest</code>: Focuses only on controller layer, mocking other components.</li>
    <li><code>@MockBean</code>: Replaces a bean in the application context with a Mockito mock.</li>
  </ul>

  <h3 class="mt-6 text-xl font-semibold text-gray-800 dark:text-gray-100">Spring Boot Security Basics</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Spring Boot uses Spring Security under the hood. Out-of-the-box it secures all endpoints with basic authentication.
  </p>
  <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
    <li>Default credentials: <code>user</code> with auto-generated password (printed in console).</li>
    <li>Configure custom login in <code>application.properties</code> or use a <code>SecurityFilterChain</code> bean.</li>
    <li>To disable security (for development): <code>spring.security.enabled=false</code> or configure permitted endpoints.</li>
  </ul>

  <h3 class="mt-6 text-xl font-semibold text-gray-800 dark:text-gray-100">Spring Boot Logging Configuration</h3>
  <p class="mt-2 text-gray-700 dark:text-gray-300">
    Spring Boot uses Logback as the default logging framework.
  </p>
  <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
    <li>Default log level is <code>INFO</code>. Configure via <code>application.properties</code>:</li>
  </ul>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>logging.level.org.springframework=DEBUG
logging.level.com.yourapp=TRACE</code></pre>
  </div>
  <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-2">
    <li>Use <code>logback-spring.xml</code> for advanced logging configurations.</li>
    <li>Log to file by adding: <code>logging.file.name=app.log</code></li>
  </ul>`
},'Spring MVC Core': {
  id: 'spring-mvc-overview',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Spring MVC Overview: Core Concepts with Enhanced Insight</h2>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>1. What is Spring MVC and how does it work?</strong><br><br>
    <strong>Enhanced Answer:</strong><br>
    Spring MVC (Model-View-Controller) is a web framework that separates the application logic (Model), UI (View), and request handling (Controller) to promote decoupled development.
  </p>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Request Lifecycle:</strong><br>
    Client sends an HTTP request → routed through DispatcherServlet.<br>
    DispatcherServlet delegates to HandlerMapping to find the right @Controller.<br>
    The selected controller executes and returns a ModelAndView or ResponseEntity.<br>
    The ViewResolver (for HTML) or HttpMessageConverter (for JSON/XML) renders the response.
  </p>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Senior Insight:</strong><br>
    Spring MVC works seamlessly with IoC Container, AOP, and Bean Validation.<br>
    Integrates well with Thymeleaf, Freemarker, or REST APIs via @RestController.<br>
    You can intercept requests globally via HandlerInterceptor or filter responses.
  </p>

  <p class="mt-6 text-gray-700 dark:text-gray-300">
    <strong>2. How is Spring MVC different from other MVC frameworks?</strong><br><br>
    <strong>Enhanced Answer:</strong><br>
    <table class="table-auto border border-collapse border-gray-400 dark:border-gray-600 text-sm mt-2">
      <thead>
        <tr>
          <th class="border border-gray-400 dark:border-gray-600 px-2 py-1">Feature</th>
          <th class="border border-gray-400 dark:border-gray-600 px-2 py-1">Spring MVC</th>
          <th class="border border-gray-400 dark:border-gray-600 px-2 py-1">Other Frameworks (e.g., Struts, JSF)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Loose coupling</td>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Favors POJO-based development</td>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">May require framework-specific base classes</td>
        </tr>
        <tr>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">REST Support</td>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Built-in with annotations like @RestController</td>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Often requires add-ons or plugins</td>
        </tr>
        <tr>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Integration</td>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Seamless with Spring Boot, Security, Data</td>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Integration is more manual</td>
        </tr>
        <tr>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Extensibility</td>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Easily extend HandlerInterceptor, ViewResolver, etc.</td>
          <td class="border border-gray-400 dark:border-gray-600 px-2 py-1">Limited or complex</td>
        </tr>
      </tbody>
    </table>
  </p>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Real-world Edge:</strong><br>
    Spring MVC allows granular customization without overriding the entire flow — e.g., plug in custom HttpMessageConverter for protobuf or CSV.
  </p>

  <p class="mt-6 text-gray-700 dark:text-gray-300">
    <strong>3. What are the main components of Spring MVC architecture?</strong><br><br>
    <strong>Enhanced Answer:</strong><br>
    - <code>DispatcherServlet</code> – Front controller that handles all requests.<br>
    - <code>HandlerMapping</code> – Maps requests to controllers.<br>
    - <code>Controller</code> (@Controller/@RestController) – Handles business logic.<br>
    - <code>Model</code> – Data passed to views or JSON response.<br>
    - <code>ViewResolver</code> – Resolves logical view names to actual templates (HTML/Thymeleaf).<br>
    - <code>HttpMessageConverter</code> – Converts objects to JSON/XML for REST APIs.<br>
    - <code>HandlerInterceptor</code> – Pre-/post-processing logic (e.g., logging, auth).
  </p>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Bonus:</strong><br>
    You can register custom components via <code>WebMvcConfigurer</code>.
  </p>

  <p class="mt-6 text-gray-700 dark:text-gray-300">
    <strong>4. What happens if you don’t annotate your class with @Controller or @RestController?</strong><br><br>
    <strong>Enhanced Answer:</strong><br>
    Spring won't detect it during component scanning, so:<br>
    - It won't be registered as a Spring Bean.<br>
    - No request mapping will be processed for that class.<br>
    - You'll likely get a 404 Not Found.
  </p>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Tip:</strong><br>
    Ensure the class is in a package scanned by Spring Boot (<code>@SpringBootApplication</code> does component scanning on its package and subpackages).
  </p>

  <p class="mt-6 text-gray-700 dark:text-gray-300">
    <strong>5. Can Spring MVC be used without Spring Boot?</strong><br><br>
    <strong>Enhanced Answer:</strong><br>
    Yes, Spring MVC can be used standalone by manually configuring:<br>
    - <code>DispatcherServlet</code> in <code>web.xml</code> (or via JavaConfig in Servlet 3.0+).<br>
    - View resolvers, handler mappings, component scanning.<br>
    - Requires setting up a servlet container (e.g., Tomcat, Jetty).
  </p>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Real-world usage:</strong><br>
    This was common in legacy apps pre-Spring Boot. Today, Spring Boot handles all that via <code>@SpringBootApplication</code> and <code>application.properties</code>, making configuration minimal.
  </p>

  <p class="mt-6 text-gray-700 dark:text-gray-300">
    <strong>Trap: Is Spring MVC a full-stack framework like Angular?</strong><br><br>
    <strong>Enhanced Answer:</strong><br>
    No. Spring MVC is server-side. It handles:<br>
    - Backend logic<br>
    - Data persistence<br>
    - Request/response handling<br><br>
    Frameworks like Angular/React are client-side — responsible for rendering UI in browsers and interacting with backend APIs.
  </p>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Interviewer Expectation:</strong><br>
    They want to see if you confuse frontend-backend responsibilities. A strong answer includes how they can integrate via REST APIs (e.g., Angular consumes Spring MVC’s JSON APIs).
  </p>`
}
,'Dispatcher Servlet Architecture': {
  id: 'dispatcher-servlet-architecture',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">DispatcherServlet Architecture in Spring MVC</h2>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>1. What is the role of DispatcherServlet in Spring MVC?</strong><br>
    <strong>Enhanced Answer:</strong><br>
    <code>DispatcherServlet</code> is the front controller in Spring MVC. It receives all incoming HTTP requests and delegates them to appropriate components such as controllers, handler mappings, and view resolvers.<br><br>

    <strong>Responsibilities:</strong><br>
    - Intercepts incoming requests.<br>
    - Delegates to HandlerMapping to identify the controller.<br>
    - Delegates to a suitable HandlerAdapter to invoke the controller.<br>
    - Processes response via ViewResolver or HttpMessageConverter.<br><br>

    <strong>Analogy:</strong> Think of DispatcherServlet as the “traffic cop” that routes web traffic inside the Spring MVC application.
  </p>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>2. Can you explain the request flow handled by DispatcherServlet?</strong><br>
    <strong>Enhanced Answer:</strong><br>
    1. <strong>Client</strong> sends a request → <code>DispatcherServlet</code> receives it.<br>
    2. It consults <strong>HandlerMapping</strong> to find the controller (<code>@Controller</code>, <code>@RestController</code>).<br>
    3. <strong>HandlerAdapter</strong> is used to execute the controller method.<br>
    4. The method returns a <strong>ModelAndView</strong> (for UI) or <strong>ResponseEntity</strong> (for REST).<br>
    5. <strong>ViewResolver</strong> or <strong>HttpMessageConverter</strong> processes the response.<br>
    6. Response is returned to the client.<br><br>

    <strong>Senior Tip:</strong> Internally, it uses the Strategy Design Pattern for handler mapping, view resolution, etc.
  </p>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>3. How does DispatcherServlet interact with handler mappings and view resolvers?</strong><br>
    <strong>Enhanced Answer:</strong><br>
    - <code>DispatcherServlet</code> consults <strong>HandlerMapping</strong> to identify the controller method.<br>
    - After controller execution, it consults <strong>ViewResolver</strong> to map logical view names to actual templates like Thymeleaf or JSP.<br>
    - For REST APIs, it uses <strong>HttpMessageConverter</strong> to convert Java objects to JSON/XML.<br><br>

    <strong>Flexibility:</strong> You can register custom HandlerMappings or ViewResolvers using <code>WebMvcConfigurer</code>.
  </p>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>4. Can you override the default DispatcherServlet?</strong><br>
    <strong>Enhanced Answer:</strong><br>
    Yes. In Spring Boot:<br>
    - The default servlet is registered automatically, but you can define your own <code>DispatcherServlet</code> bean in configuration.
  </p>

  <div class="code-block my-2">
    <button class="copy-btn">Copy</button>
    <pre><code>@Bean
public DispatcherServlet dispatcherServlet() {
    DispatcherServlet servlet = new DispatcherServlet();
    servlet.setThrowExceptionIfNoHandlerFound(true);
    return servlet;
}</code></pre>
  </div>

  <p class="text-gray-700 dark:text-gray-300">
    <strong>Why override it?</strong><br>
    - Custom error handling<br>
    - Modify dispatching behavior (e.g., throw 404 if no handler found)
  </p>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>5. What would happen if there are multiple DispatcherServlets in a Spring Boot app?</strong><br>
    <strong>Enhanced Answer:</strong><br>
    Each <code>DispatcherServlet</code> handles requests with its own URL mapping and application context.<br>
    - Useful for modular apps where different modules have separate request flows.<br>
    - But it increases configuration complexity.<br><br>

    <strong>Tip:</strong> Use multiple DispatcherServlets only when isolation of configuration/flows is needed. Otherwise, a single DispatcherServlet is sufficient.
  </p>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>Trap: Is DispatcherServlet a filter or a servlet?</strong><br>
    <strong>Enhanced Answer:</strong><br>
    It is a <strong>servlet</strong>, not a filter.<br>
    - It extends <code>HttpServlet</code> and is registered like any servlet.<br>
    - Filters (like <code>OncePerRequestFilter</code>) can sit <strong>before</strong> DispatcherServlet in the filter chain.<br><br>

    <strong>Interviewer Trap:</strong><br>
    They want to check if you understand the difference in lifecycle. Filters intercept all requests at the container level; DispatcherServlet is a part of Spring’s MVC framework and starts handling after filters.
  </p>`
},'Controller vs Restcontroller': {
  id: 'controller-vs-restcontroller',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Controller vs RestController</h2>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>1. What is the difference between @Controller and @RestController?</strong><br>
    <strong>@Controller:</strong> Returns a view (HTML/jsp/Thymeleaf). Used in traditional MVC web applications.<br>
    <strong>@RestController:</strong> A combination of @Controller + @ResponseBody. Returns data (usually JSON) directly.<br>
    <strong>Use Case:</strong> Use @Controller for web pages, @RestController for REST APIs.
  </p>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>2. When should you use @RestController over @Controller?</strong><br>
    Use @RestController when building REST APIs that return JSON/XML.<br>
    Use @Controller when rendering HTML views using templates like Thymeleaf or JSP.<br>
    <em>Tip:</em> Returning complex data from @Controller without @ResponseBody will cause view resolution errors.
  </p>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>3. How do you return JSON or view pages from a controller?</strong><br>
    <strong>Returning JSON:</strong>
  </p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@RestController
public class ApiController {
    @GetMapping("/user")
    public User getUser() {
        return new User("John", 30);
    }
}</code></pre>
  </div>

  <p class="mt-2 text-gray-700 dark:text-gray-300">
    <strong>Returning View:</strong>
  </p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@Controller
public class PageController {
    @GetMapping("/home")
    public String homePage(Model model) {
        model.addAttribute("name", "John");
        return "home"; // resolved by ViewResolver
    }
}</code></pre>
  </div>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>4. What if you use both @ResponseBody and @RestController?</strong><br>
    It’s redundant. @RestController already includes @ResponseBody on all methods.<br>
    No harm, but unnecessary duplication.
  </p>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>5. Is it okay to mix @Controller and @RestController in the same class?</strong><br>
    Technically possible, but not recommended.<br>
    It may confuse developers about the return type — view vs JSON.<br>
    <strong>Best Practice:</strong> Keep them separate to maintain clean architecture.
  </p>

  <p class="mt-4 text-gray-700 dark:text-gray-300">
    <strong>6. Trap: Can @RestController return a view name?</strong><br>
    No. @RestController serializes the return value as JSON or string.<br>
    Returning "home" will literally respond with "home", not a view.<br>
    <strong>Tip:</strong> Use @Controller if you need view rendering.
  </p>`
}
,'Spring Request Mapping': {
  id: 'spring-mvc-request-mapping-annotations',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Request Mapping Annotations in Spring MVC</h2>

  <p><strong>1. What is the purpose of @RequestMapping?</strong> @RequestMapping is a Spring annotation used to map web requests to handler methods based on URL patterns, HTTP methods, headers, and more. It’s highly flexible and can be placed at both class and method levels. It supports a wide range of attributes such as method, consumes, produces, params, and headers, giving fine-grained control over routing. It's the foundation for all request mapping in Spring MVC, including REST APIs.</p>

  <p><strong>2. How do @GetMapping and @PostMapping differ from @RequestMapping?</strong> @GetMapping and @PostMapping are specialized annotations introduced in Spring 4.3 that act as shortcuts for @RequestMapping(method = RequestMethod.GET) and @RequestMapping(method = RequestMethod.POST) respectively. They provide more readable and intention-revealing code, aligning well with RESTful principles.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@GetMapping("/users") // clearer than @RequestMapping(method = GET)
@PostMapping("/users")</code></pre>
  </div>

  <p>These annotations improve clarity and are preferred in most modern Spring Boot apps unless complex mapping is needed.</p>

  <p><strong>3. Can you define multiple mappings for the same controller method?</strong> Yes, Spring allows multiple URL paths to be mapped to a single method using an array:</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@GetMapping({"/home", "/index"})
public String home() { return "home"; }</code></pre>
  </div>

  <p>This is useful when you want backward compatibility (e.g., /dashboard and /admin/dashboard) or when supporting aliases. But overusing it may reduce clarity and cause ambiguity.</p>

  <p><strong>4. What’s the difference between @RequestMapping(method = RequestMethod.GET) and @GetMapping?</strong> Functionally, both are the same. @GetMapping is a meta-annotation that simplifies @RequestMapping(method = RequestMethod.GET). While both generate the same behavior at runtime, @GetMapping is more expressive and concise. Use @RequestMapping only when you need extra attributes like headers or multiple methods.</p>

  <p><strong>5. What happens if two methods are mapped to the same URL path?</strong> Spring will throw a runtime error (IllegalStateException) indicating ambiguous mapping if two controller methods handle the same URL and HTTP method. This is checked during application startup. To avoid this, always ensure unique combinations of URL path and HTTP method across all controllers.</p>

  <p><strong>Trap: Can you map multiple HTTP methods using @GetMapping?</strong> No, @GetMapping only supports the GET method. If you want to map multiple methods like GET and POST to a single handler, use:</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@RequestMapping(value = "/multi", method = {RequestMethod.GET, RequestMethod.POST})</code></pre>
  </div>

  <p>Trying to do this with @GetMapping will result in a compile-time limitation — it's purpose-built for only one method.</p>`
}

,'Path Variable': {
  id: 'path-variable-request-param',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">@PathVariable and @RequestParam in Spring MVC</h2>

  <p><strong>1. What is the difference between path variables and request parameters?</strong> Path variables are part of the URL path (e.g., /user/42), while request parameters are passed as query strings (e.g., ?id=42). Path variables are typically used for identifying resources, whereas request parameters are for filtering or additional input.</p>

  <p><strong>2. How do you bind a path variable using @PathVariable?</strong> You can bind a path segment directly to a method argument using @PathVariable.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@GetMapping("/user/{id}")
public String getUser(@PathVariable("id") int userId) {
    return "User ID: " + userId;
}</code></pre>
  </div>

  <p><strong>3. How do you access query parameters using @RequestParam?</strong> Use @RequestParam to extract query parameters from the request URL.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@GetMapping("/search")
public String search(@RequestParam("q") String query) {
    return "Query: " + query;
}</code></pre>
  </div>

  <p><strong>4. What happens if a required @RequestParam is missing?</strong> If @RequestParam is required (default behavior) and not present, Spring will throw a MissingServletRequestParameterException.</p>

  <p><strong>5. How do you provide default values to request parameters?</strong> You can provide a default value using the defaultValue attribute to avoid errors when a parameter is missing.</p>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@GetMapping("/page")
public String page(@RequestParam(defaultValue = "1") int number) {
    return "Page number: " + number;
}</code></pre>
  </div>

  <p><strong>6. Trap: Can you use both @PathVariable and @RequestParam for the same value?</strong> No. @PathVariable is used for binding from the URI path, while @RequestParam extracts from query parameters. They are distinct and cannot be used interchangeably for the same input.</p>`
}
,'Response Entity': {
  "id": "responseentity-http-status",
  "html": `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">ResponseEntity and HTTP Status Handling in Spring MVC</h2>

<p><strong>1. What is ResponseEntity and when should you use it?</strong><br>
<code>ResponseEntity&lt;T&gt;</code> is a Spring class used to represent the full HTTP response, including the response body, HTTP status code, and headers like <code>Location</code> or <code>ETag</code>. Unlike simply returning a POJO (which becomes just the body), <code>ResponseEntity</code> gives complete control over the response. Use it in REST APIs when you need to:<br>
- Return custom HTTP status codes<br>
- Add headers like <code>Cache-Control</code>, <code>ETag</code>, etc.<br>
- Return empty body for <code>204 No Content</code><br>
- Handle conditional logic within a method<br>
It's especially useful in RESTful services, error handling, and when clear HTTP semantics are needed.</p>

<p><strong>2. How do you customize HTTP status codes in Spring MVC responses?</strong><br>
You can set status codes using either constructors or static builder methods:</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>return new ResponseEntity&lt;&gt;(data, HttpStatus.CREATED);</code></pre>
</div>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>return ResponseEntity.status(HttpStatus.ACCEPTED).body(data);
return ResponseEntity.status(422).body("Validation failed");</code></pre>
</div>
<p>This allows more precise responses than the default <code>200 OK</code>, such as <code>201 Created</code>, <code>204 No Content</code>, or <code>400 Bad Request</code>.</p>

<p><strong>3. What’s the difference between returning a POJO vs. using ResponseEntity?</strong><br>
Returning a POJO (e.g., <code>User</code>) causes Spring to serialize it to JSON and wrap it with a <code>200 OK</code> and <code>Content-Type: application/json</code>. However, you can't customize headers or status easily. With <code>ResponseEntity</code>, you gain full control over:<br>
- Status code<br>
- Headers<br>
- Conditional or error responses<br>
It's more suitable when flexibility and RESTful behavior is needed.</p>

<p><strong>4. When should you prefer ResponseEntity over directly returning a DTO?</strong><br>
Use <code>ResponseEntity</code> when:<br>
- You want to return <code>201 Created</code> after saving<br>
- You need <code>204 No Content</code> for empty responses<br>
- You want to include headers like <code>Location</code>, <code>ETag</code>, or <code>Cache-Control</code><br>
- You're handling exceptions with custom status codes like <code>400</code> or <code>500</code><br>
Use direct DTOs when you're returning simple data with no need for special headers or status customization.</p>

<p><strong>5. How can you send a 204 No Content response?</strong><br>
A <code>204 No Content</code> status indicates the request was successful but there’s no response body (common in <code>DELETE</code> or <code>PUT</code> endpoints). Use:</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>return ResponseEntity.noContent().build();</code></pre>
</div>
<p>This sends a 204 response with an empty body and appropriate headers. It saves bandwidth and communicates intent clearly to the client.</p>

<p><strong>6. Trap: Does returning ResponseEntity.ok() always imply status 200?</strong><br>
Yes. <code>ResponseEntity.ok()</code> is a shortcut for <code>ResponseEntity.status(HttpStatus.OK)</code> and always results in <code>200 OK</code>. If a different status is needed, use:</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>ResponseEntity.status(HttpStatus.CREATED).body(data);</code></pre>
</div>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>ResponseEntity.accepted().body(data);</code></pre>
</div>
<p>While convenient, <code>ok()</code> is not appropriate when semantic clarity (e.g., <code>201 Created</code> for POST) is important.</p>`
}
,'Global Exception Handling': {
  id: 'spring-mvc-global-exception-handling',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Global Exception Handling in Spring MVC</h2>

  <p><strong>1. How does Spring MVC handle exceptions globally?</strong><br>
  Spring MVC allows centralized exception handling using <code>@ControllerAdvice</code>, <code>@RestControllerAdvice</code>, and <code>@ExceptionHandler</code>. When a controller throws an exception, Spring first checks for a matching <code>@ExceptionHandler</code> in the controller. If not found, it checks globally in any class annotated with <code>@ControllerAdvice</code>. If still not found, it falls back to default exception resolvers which may result in a 500 error or default error view/JSON.</p>

  <p><strong>2. What is @ControllerAdvice and how does it work?</strong><br>
  <code>@ControllerAdvice</code> is a specialization of <code>@Component</code> used to define global exception handlers, model attributes, or data binding logic. At runtime, Spring scans and wires all <code>@ControllerAdvice</code> classes and invokes their <code>@ExceptionHandler</code> methods when matching exceptions occur.</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@ControllerAdvice
public class GlobalExceptionHandler {

  @ExceptionHandler(IllegalArgumentException.class)
  public ResponseEntity&lt;String&gt; handleIllegalArgument(IllegalArgumentException ex) {
    return ResponseEntity.badRequest().body("Invalid input: " + ex.getMessage());
  }
}</code></pre>
  </div>

  <p><strong>3. How do you define custom exception handlers with @ExceptionHandler?</strong><br>
  You can define a method annotated with <code>@ExceptionHandler</code> to catch and process specific exceptions locally (within a controller) or globally (within <code>@ControllerAdvice</code>).</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@ExceptionHandler(SomeException.class)
public ResponseEntity&lt;ErrorResponse&gt; handleSomeException(SomeException ex) {
  ErrorResponse error = new ErrorResponse("Failed", ex.getMessage());
  return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(error);
}</code></pre>
  </div>

  <p><strong>4. How is @ControllerAdvice different from @RestControllerAdvice?</strong><br>
  <code>@RestControllerAdvice</code> is a shortcut for <code>@ControllerAdvice</code> + <code>@ResponseBody</code>. It’s meant for REST APIs where you want JSON responses by default. In contrast, <code>@ControllerAdvice</code> is used in web applications where views (like Thymeleaf) are returned.</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@RestControllerAdvice
public class ApiExceptionHandler {
  @ExceptionHandler(ResourceNotFoundException.class)
  public ResponseEntity&lt;String&gt; handleNotFound(ResourceNotFoundException ex) {
    return ResponseEntity.status(HttpStatus.NOT_FOUND).body("Not found: " + ex.getMessage());
  }
}</code></pre>
  </div>

  <p><strong>5. What happens if no exception handler is found?</strong><br>
  If Spring doesn't find a matching <code>@ExceptionHandler</code>, it uses internal resolvers (like <code>DefaultHandlerExceptionResolver</code>). This may result in a default error page (for web apps) or JSON error response (in REST APIs). In Spring Boot, it may fall back to the <code>BasicErrorController</code> and map the error to the <code>/error</code> endpoint.</p>

  <p><strong>6. Trap: Can one controller override the global exception handler?</strong><br>
  Yes. A controller’s local <code>@ExceptionHandler</code> method takes precedence over a global one defined in <code>@ControllerAdvice</code>. This allows specific exception behavior in one controller while maintaining generic behavior globally.</p>`
}
,'Data Binding Validation': {
  "id": "springmvc-data-binding-validation",
  "html": `
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Data Binding and Validation in Spring MVC</h2>

<p><strong>1. How does Spring MVC perform data binding from request to object?</strong><br>
Spring MVC uses its data binding mechanism to automatically map incoming request parameters to Java object properties. This is handled by <code>WebDataBinder</code>. 
<br><br>
When you use <code>@ModelAttribute</code>, Spring reads form parameters like <code>name=John&amp;age=30</code> and maps them to fields of the corresponding object.
<br><br>
When you use <code>@RequestBody</code>, Spring maps the JSON payload (e.g., <code>{"name":"John","age":30}</code>) to a Java object using <code>HttpMessageConverters</code> (Jackson for JSON).
<br><br>
It supports field-name matching, public setters, or constructor binding using records or <code>@ConstructorBinding</code>. Nested objects and lists are recursively bound when request structure matches the Java class hierarchy.
</p>

<p><strong>2. What is the purpose of the @Valid or @Validated annotations?</strong><br>
<code>@Valid</code> (javax.validation) and <code>@Validated</code> (Spring-specific) are used to trigger bean validation on objects after binding.
They check constraints like:
<ul class="list-disc list-inside">
  <li><code>@NotNull</code></li>
  <li><code>@Size</code></li>
  <li><code>@Email</code></li>
  <li><code>@Min</code>, <code>@Pattern</code>, etc.</li>
</ul>
Violations are captured in <code>BindingResult</code> or thrown as <code>MethodArgumentNotValidException</code>.<br>
<code>@Validated</code> also supports validation groups: <code>@Validated(GroupA.class)</code>. Use them to enforce constraints automatically during request binding.
</p>

<p><strong>3. How do you handle validation errors in controllers?</strong><br>
Use <code>BindingResult</code> immediately after the <code>@Valid</code> or <code>@Validated</code> argument. Spring populates it with validation errors.
</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>@PostMapping("/submit")
public String handleForm(@Valid User user, BindingResult result) {
    if (result.hasErrors()) {
        return "form-view";
    }
    return "success";
}</code></pre>
</div>
<p>This allows you to return the form again with field-level messages or return structured errors in REST APIs.</p>

<p><strong>4. How does Spring MVC bind nested objects and lists?</strong><br>
Spring supports nested object binding using matching field names. For example:
</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>public class User {
    private Address address;
    private List&lt;Phone&gt; phones;
}</code></pre>
</div>
<p>Spring can bind:
<ul class="list-disc list-inside">
  <li><code>address.city=Delhi</code></li>
  <li><code>phones[0].number=1234</code></li>
  <li><code>phones[1].number=5678</code></li>
</ul>
As long as setters exist and the structure matches, Spring binds nested fields recursively—useful for complex forms or JSON payloads.
</p>

<p><strong>5. How do you return field-specific validation messages?</strong><br>
After validation, use <code>bindingResult.getFieldErrors()</code> to access each field-level error. You can return JSON like:
</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>{
  "email": "must not be empty",
  "age": "must be greater than 18"
}</code></pre>
</div>
<p>You can also map messages to input fields in your UI. Spring integrates with <code>MessageSource</code> to externalize validation messages.</p>

<p><strong>6. Trap: Will validation annotations like @NotNull work without @Valid?</strong><br>
No. If you skip <code>@Valid</code> or <code>@Validated</code>, Spring binds the data but skips validation—annotations like <code>@NotNull</code> are ignored. Always annotate your method parameters to trigger validation checks.</p>
`
}
,'View Resolver and Template Engine': {
  "id": "spring-mvc-view-resolvers-and-template-engines",
  "html": `<h2 class='text-2xl font-semibold text-gray-800 dark:text-gray-100'>Spring MVC View Resolvers and Template Engines</h2>

<p><strong>What is a view resolver in Spring MVC?</strong> In Spring MVC, a <code>ViewResolver</code> is a component that maps a <em>logical view name</em> returned by a controller to a <em>physical view template</em>. For example:</p>
<div class='code-block'>
  <button class='copy-btn'>Copy</button>
  <pre><code>return "home";</code></pre>
</div>
<p>Spring uses the configured <code>ViewResolver</code> to resolve "home" to:</p>
<ul class='list-disc list-inside'>
  <li><code>home.jsp</code></li>
  <li><code>home.html</code></li>
  <li><code>/WEB-INF/views/home.jsp</code> (based on config)</li>
</ul>
<p>Common ViewResolvers:</p>
<ul class='list-disc list-inside'>
  <li><code>InternalResourceViewResolver</code> – for JSP</li>
  <li><code>ThymeleafViewResolver</code> – for Thymeleaf</li>
  <li><code>FreeMarkerViewResolver</code> – for Freemarker</li>
</ul>
<p>This decouples controller logic from view rendering and enables flexible templating.</p>

<p><strong>How do you configure and use Thymeleaf in Spring MVC?</strong> To use Thymeleaf:</p>
<ul class='list-disc list-inside'>
  <li>Add dependency:
<div class='code-block'>
  <button class='copy-btn'>Copy</button>
  <pre><code>&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div></li>
  <li>Place templates in <code>src/main/resources/templates/</code></li>
  <li>Spring Boot auto-configures the resolver:
<div class='code-block'>
  <button class='copy-btn'>Copy</button>
  <pre><code>spring:
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    mode: HTML
    cache: false</code></pre>
</div></li>
  <li>Controller usage:
<div class='code-block'>
  <button class='copy-btn'>Copy</button>
  <pre><code>@GetMapping("/greet")
public String greet(Model model) {
    model.addAttribute("name", "John");
    return "greeting";
}</code></pre>
</div></li>
  <li>Template (greeting.html):
<div class='code-block'>
  <button class='copy-btn'>Copy</button>
  <pre><code>&lt;p&gt;Hello, &lt;span th:text="\${name}"&gt;User&lt;/span&gt;!&lt;/p&gt;</code></pre>
</div></li>
</ul>

<p><strong>What’s the difference between Thymeleaf and Freemarker in Spring?</strong></p>
<div class='overflow-x-auto'>
  <table class='table-auto border border-collapse border-gray-400 text-sm'>
    <thead class='bg-gray-100 dark:bg-gray-700'>
      <tr>
        <th class='border px-2 py-1'>Feature</th>
        <th class='border px-2 py-1'>Thymeleaf</th>
        <th class='border px-2 py-1'>Freemarker</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class='border px-2 py-1'>Syntax</td>
        <td class='border px-2 py-1'>HTML5-friendly</td>
        <td class='border px-2 py-1'>Custom tag-based</td>
      </tr>
      <tr>
        <td class='border px-2 py-1'>Previewable</td>
        <td class='border px-2 py-1'>Yes (pure HTML)</td>
        <td class='border px-2 py-1'>No</td>
      </tr>
      <tr>
        <td class='border px-2 py-1'>Integration</td>
        <td class='border px-2 py-1'>Tight Spring Boot support</td>
        <td class='border px-2 py-1'>Manual setup</td>
      </tr>
      <tr>
        <td class='border px-2 py-1'>Use-case</td>
        <td class='border px-2 py-1'>Web apps, HTML</td>
        <td class='border px-2 py-1'>Documents, emails</td>
      </tr>
      <tr>
        <td class='border px-2 py-1'>Learning curve</td>
        <td class='border px-2 py-1'>Easy for frontend devs</td>
        <td class='border px-2 py-1'>Steeper</td>
      </tr>
    </tbody>
  </table>
</div>

<p><strong>What happens if multiple view resolvers are configured?</strong> Spring uses ViewResolvers in the order of their <code>order</code> property. First that can resolve the view is used. Example:</p>
<div class='code-block'>
  <button class='copy-btn'>Copy</button>
  <pre><code>resolver.setOrder(1); // Thymeleaf
resolver.setOrder(2); // JSP</code></pre>
</div>
<p>If none can resolve, Spring throws an error: <code>HTTP 500 - View [xyz] could not be resolved</code>.</p>

<p><strong>How does Spring decide which template engine to use?</strong> Spring picks the first registered ViewResolver that can handle the view name. It uses:</p>
<ul class='list-disc list-inside'>
  <li>View name patterns (prefix/suffix)</li>
  <li>File extensions (e.g. .html, .ftl)</li>
</ul>
<p>Order matters. You must prioritize resolvers using <code>setOrder()</code>.</p>

<p><strong>Trap: Can you use both Thymeleaf and Freemarker together?</strong> Yes, Spring allows multiple template engines. But:</p>
<ul class='list-disc list-inside'>
  <li>You must configure ViewResolvers with different <code>order</code></li>
  <li>Ensure no view name conflicts</li>
</ul>
<p>Although technically supported, it's recommended to stick to one engine for consistency unless there's a specific use case like migration.</p>`
}

,'Sql Intro': {
  id: 'sql-overview-and-types',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">What is SQL?</h2>
    <p><strong>SQL (Structured Query Language):</strong> A standard language used to interact with relational databases. It is primarily used to perform <strong>CRUD</strong> operations: Create, Read, Update, and Delete data.</p>

    <h2 class="text-2xl font-semibold mt-6 text-gray-800 dark:text-gray-100">Types of SQL Statements</h2>
    <p>SQL statements are classified into five main types:</p>

    <h3 class="mt-4 font-bold text-lg text-gray-700 dark:text-gray-200">1. DDL (Data Definition Language)</h3>
    <ul class="list-disc pl-5">
      <li><strong>CREATE:</strong> Creates a new table or database.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>CREATE TABLE students (id INT, name VARCHAR(50));</code></pre></div>
      </li>
      <li><strong>ALTER:</strong> Modifies an existing table.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>ALTER TABLE students ADD age INT;</code></pre></div>
      </li>
      <li><strong>DROP:</strong> Deletes a table or database.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>DROP TABLE students;</code></pre></div>
      </li>
      <li><strong>TRUNCATE:</strong> Removes all rows from a table.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>TRUNCATE TABLE students;</code></pre></div>
      </li>
    </ul>

    <h3 class="mt-4 font-bold text-lg text-gray-700 dark:text-gray-200">2. DML (Data Manipulation Language)</h3>
    <ul class="list-disc pl-5">
      <li><strong>INSERT:</strong> Adds new records.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>INSERT INTO students VALUES (1, 'John');</code></pre></div>
      </li>
      <li><strong>UPDATE:</strong> Modifies existing records.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>UPDATE students SET name = 'Jane' WHERE id = 1;</code></pre></div>
      </li>
      <li><strong>DELETE:</strong> Deletes records.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>DELETE FROM students WHERE id = 1;</code></pre></div>
      </li>
    </ul>

    <h3 class="mt-4 font-bold text-lg text-gray-700 dark:text-gray-200">3. DQL (Data Query Language)</h3>
    <ul class="list-disc pl-5">
      <li><strong>SELECT:</strong> Retrieves data from the database.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT * FROM students;</code></pre></div>
      </li>
    </ul>

    <h3 class="mt-4 font-bold text-lg text-gray-700 dark:text-gray-200">4. DCL (Data Control Language)</h3>
    <ul class="list-disc pl-5">
      <li><strong>GRANT:</strong> Provides access rights.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>GRANT SELECT ON students TO user1;</code></pre></div>
      </li>
      <li><strong>REVOKE:</strong> Removes access rights.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>REVOKE SELECT ON students FROM user1;</code></pre></div>
      </li>
    </ul>

    <h3 class="mt-4 font-bold text-lg text-gray-700 dark:text-gray-200">5. TCL (Transaction Control Language)</h3>
    <ul class="list-disc pl-5">
      <li><strong>COMMIT:</strong> Saves changes.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>COMMIT;</code></pre></div>
      </li>
      <li><strong>ROLLBACK:</strong> Undoes changes.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>ROLLBACK;</code></pre></div>
      </li>
      <li><strong>SAVEPOINT:</strong> Sets a save point.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>SAVEPOINT sp1;</code></pre></div>
      </li>
      <li><strong>SET TRANSACTION:</strong> Sets properties.
        <div class="code-block"><button class="copy-btn">Copy</button><pre><code>SET TRANSACTION READ ONLY;</code></pre></div>
      </li>
    </ul>
  `
},'Type of Keys': {
  id: 'types-of-keys-sql',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">🔑 Types of Keys in SQL (With Examples & Differences)</h2>

    <p><strong>Keys</strong> are used to uniquely identify records and manage relationships between tables.</p>

    <h3 class="text-xl font-semibold mt-4">1. Primary Key</h3>
    <p><strong>Definition:</strong> Uniquely identifies each row in a table. Cannot be NULL or duplicate. One per table.</p>
    <p><strong>Use Case:</strong> Used in joins, indexing, and unique row access.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>CREATE TABLE students (
  id INT PRIMARY KEY,
  name VARCHAR(50)
);</code></pre>
    </div>
    <p><strong>Constraints:</strong> ✅ Unique, ❌ Not Null, ⚠️ Only one per table</p>
    <p><strong>Interview Trap Qs:</strong></p>
    <ul class="list-disc ml-6">
      <li>Can a table have two primary keys? ❌ No</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">2. Candidate Key</h3>
    <p><strong>Definition:</strong> A column or combination of columns that can uniquely identify rows. Multiple allowed.</p>
    <p><strong>Use Case:</strong> Acts as potential primary key. One becomes PK, rest alternate keys.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>CREATE TABLE users (
  user_id INT,
  email VARCHAR(100),
  phone VARCHAR(15),
  PRIMARY KEY (user_id),
  UNIQUE (email),
  UNIQUE (phone)
);</code></pre>
    </div>
    <p><strong>Constraints:</strong> ✅ Unique, ❌ Not Null (if PK)</p>
    <p><strong>Interview Trap Qs:</strong></p>
    <ul class="list-disc ml-6">
      <li>Are all candidate keys super keys? ✅ Yes</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">3. Alternate Key</h3>
    <p><strong>Definition:</strong> A candidate key not chosen as the primary key. Must still be unique and non-null.</p>
    <p><strong>Use Case:</strong> Acts as fallback for unique record identification.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>CREATE TABLE users (
  id INT PRIMARY KEY,
  email VARCHAR(100) UNIQUE
);</code></pre>
    </div>
    <p><strong>Constraints:</strong> ✅ Unique, ❌ Not Null (logically)</p>
    <p><strong>Interview Trap Qs:</strong></p>
    <ul class="list-disc ml-6">
      <li>Can alternate key be null? ❌ No</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">4. Foreign Key</h3>
    <p><strong>Definition:</strong> A key used to reference a column in another table.</p>
    <p><strong>Use Case:</strong> Enforces referential integrity between parent-child tables.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>CREATE TABLE orders (
  order_id INT,
  user_id INT,
  FOREIGN KEY (user_id) REFERENCES users(user_id)
);</code></pre>
    </div>
    <p><strong>Constraints:</strong> ✅ Can be null, ✅ Can be duplicate</p>
    <p><strong>Interview Trap Qs:</strong></p>
    <ul class="list-disc ml-6">
      <li>Can a foreign key reference a unique key? ✅ Yes</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">5. Composite Key</h3>
    <p><strong>Definition:</strong> A key formed by combining multiple columns to uniquely identify a row.</p>
    <p><strong>Use Case:</strong> Many-to-many relationship resolution</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>CREATE TABLE enrollments (
  student_id INT,
  course_id INT,
  PRIMARY KEY (student_id, course_id)
);</code></pre>
    </div>
    <p><strong>Constraints:</strong> ✅ Unique together, ❌ Not Null</p>
    <p><strong>Interview Trap Qs:</strong></p>
    <ul class="list-disc ml-6">
      <li>Can composite key have nulls? ❌ No</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">6. Super Key</h3>
    <p><strong>Definition:</strong> Any combination of columns that can uniquely identify a record. Includes candidate keys and extra columns.</p>
    <p><strong>Use Case:</strong> Uniqueness check with redundant fields</p>
    <p>Example: (id), (id, email), (id, email, phone)</p>
    <p><strong>Constraints:</strong> ✅ Unique, ⚠️ Not minimal</p>
    <p><strong>Interview Trap Qs:</strong></p>
    <ul class="list-disc ml-6">
      <li>Are super keys minimal? ❌ Not always</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">7. Surrogate Key</h3>
    <p><strong>Definition:</strong> Artificial key with no business meaning. Auto-generated.</p>
    <p><strong>Use Case:</strong> Best for performance and consistent indexing</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>CREATE TABLE employees (
  emp_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
  name VARCHAR(100),
  ssn VARCHAR(20)
);</code></pre>
    </div>
    <p><strong>Constraints:</strong> ✅ Unique, ❌ Not Null, ⚠️ Auto-generated</p>
    <p><strong>Interview Trap Qs:</strong></p>
    <ul class="list-disc ml-6">
      <li>Is surrogate key reusable? ❌ No</li>
    </ul>

    <h3 class="text-xl font-semibold mt-4">8. Natural Key</h3>
    <p><strong>Definition:</strong> A meaningful key from real-world data (e.g., email, ssn, country_code).</p>
    <p><strong>Use Case:</strong> When business logic allows stable, unique identifiers.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>CREATE TABLE countries (
  country_code CHAR(2) PRIMARY KEY,
  country_name VARCHAR(50)
);</code></pre>
    </div>
    <p><strong>Constraints:</strong> ✅ Unique, ❌ Can’t be null if used as PK, ⚠️ Can be sensitive to business changes</p>
    <p><strong>Interview Trap Qs:</strong></p>
    <ul class="list-disc ml-6">
      <li>Which is better: natural or surrogate key? ✅ Depends (natural if stable, surrogate if not)</li>
      <li>Can natural keys change? ✅ Sometimes, which may cause issues</li>
    </ul>
  `
},'Delete Vs Truncate': {
  id: 'delete-vs-truncate-oracle',
  html: `
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">🧹 DELETE vs TRUNCATE in Oracle DB</h2>
    <p><strong>Definition:</strong> Both remove data, but behave differently in terms of performance, rollback, and logging.</p>

    <h4 class="text-lg font-semibold mt-4">1. DELETE</h4>
    <p><strong>Behavior:</strong> Removes rows based on condition or all rows if no WHERE clause.</p>
    <p><strong>Rollback:</strong> ✅ Yes, it's DML and supports ROLLBACK.</p>
    <p><strong>Triggers:</strong> ✅ Fires DELETE triggers.</p>
    <p><strong>Performance:</strong> Slower due to logging and row-level operations.</p>
    <p><strong>Use Case:</strong> Conditional deletion or when triggers/audit is needed.</p>
    <p><strong>Constraints:</strong> Respects all constraints; can fail if FK constraints exist.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>DELETE FROM employees WHERE department_id = 10;</code></pre>
    </div>
    <p><strong>Example with FK:</strong></p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>DELETE FROM employees WHERE employee_id = 101;
-- ❌ This will fail if FK in attendance table exists and ON DELETE CASCADE is not set.</code></pre>
    </div>

    <h4 class="text-lg font-semibold mt-4">2. TRUNCATE</h4>
    <p><strong>Behavior:</strong> Removes all rows from a table instantly.</p>
    <p><strong>Rollback:</strong> ❌ No, it's DDL and cannot be rolled back.</p>
    <p><strong>Triggers:</strong> ❌ Does not fire DELETE triggers.</p>
    <p><strong>Performance:</strong> ✅ Faster — deallocates data pages directly.</p>
    <p><strong>Use Case:</strong> When full table cleanup is required for staging/log tables.</p>
    <p><strong>Constraints:</strong> Fails if child FK exists, unless disabled or ON DELETE CASCADE is defined.</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>TRUNCATE TABLE employees;</code></pre>
    </div>
    <p><strong>Example with FK:</strong></p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>TRUNCATE TABLE employees;
-- ❌ This will fail unless FK constraint is disabled or uses ON DELETE CASCADE</code></pre>
    </div>

    <h4 class="text-md font-semibold mt-4">Interview Trap Qs:</h4>
    <ul class="list-disc ml-6">
      <li>Can DELETE be rolled back in Oracle? ✅ Yes</li>
      <li>Can TRUNCATE be rolled back? ❌ No</li>
      <li>Will TRUNCATE fire triggers? ❌ No</li>
      <li>Which is faster: DELETE or TRUNCATE? ✅ TRUNCATE</li>
      <li>Can we use WHERE clause with TRUNCATE? ❌ No</li>
      <li>Can TRUNCATE be used on a table with FK constraint? ❌ No, unless FK is disabled</li>
      <li>Can DELETE violate constraints? ✅ Yes, if referential integrity is broken</li>
    </ul>

    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8">🔔 Triggers in Oracle DB</h2>
    <p><strong>Definition:</strong> A trigger is a stored PL/SQL block that automatically executes when a specific event occurs on a table or view.</p>

    <h4 class="text-lg font-semibold mt-4">Types of Triggers</h4>
    <ul class="list-disc ml-6">
      <li><strong>BEFORE Trigger:</strong> Executes before the DML operation.</li>
      <li><strong>AFTER Trigger:</strong> Executes after the DML operation.</li>
      <li><strong>INSTEAD OF Trigger:</strong> Used for views to allow DML indirectly.</li>
      <li><strong>ROW-level Trigger:</strong> Executes once per affected row.</li>
      <li><strong>STATEMENT-level Trigger:</strong> Executes once per SQL statement.</li>
    </ul>

    <p class="mt-4 font-semibold">Example: BEFORE DELETE Trigger</p>
    <div class="code-block">
      <button class="copy-btn">Copy</button>
      <pre><code>CREATE OR REPLACE TRIGGER emp_delete_log
BEFORE DELETE ON employees
FOR EACH ROW
BEGIN
  INSERT INTO emp_delete_audit(emp_id, deleted_on)
  VALUES (:OLD.emp_id, SYSDATE);
END;</code></pre>
    </div>

    <h4 class="text-md font-semibold mt-4">Use Cases:</h4>
    <ul class="list-disc ml-6">
      <li>Enforce business logic</li>
      <li>Maintain audit logs</li>
      <li>Sync data to backup/history tables</li>
      <li>Validate or block unwanted data changes</li>
    </ul>

    <h4 class="text-md font-semibold mt-4">Constraints/Notes:</h4>
    <ul class="list-disc ml-6">
      <li>Cannot use COMMIT/ROLLBACK inside trigger</li>
      <li>Do not fire on TRUNCATE</li>
      <li>May cause performance overhead if overused</li>
    </ul>

    <h4 class="text-md font-semibold mt-4">Interview Trap Qs:</h4>
    <ul class="list-disc ml-6">
      <li>Do triggers fire on TRUNCATE? ❌ No</li>
      <li>Can we use triggers on views? ✅ Yes, with INSTEAD OF</li>
      <li>What’s the difference between row-level and statement-level? ✅ One per row vs one per statement</li>
      <li>Can we block updates using triggers? ✅ Yes, using BEFORE triggers with exception</li>
    </ul>
  `
},'Subqueries vs Joins':  {
  id: 'subqueries-vs-joins',
  html: `
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8">🔀 Subqueries vs Joins</h2>

<p><strong>Tables used:</strong></p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>CREATE TABLE departments (
  dept_id NUMBER PRIMARY KEY,
  dept_name VARCHAR2(50)
);

CREATE TABLE employees (
  emp_id NUMBER PRIMARY KEY,
  emp_name VARCHAR2(50),
  dept_id NUMBER,
  salary NUMBER,
  FOREIGN KEY (dept_id) REFERENCES departments(dept_id)
);

-- Sample Data Insert
INSERT INTO departments VALUES (10, 'HR');
INSERT INTO departments VALUES (20, 'IT');
INSERT INTO departments VALUES (30, 'Finance');

INSERT INTO employees VALUES (1, 'Alice', 10, 50000);
INSERT INTO employees VALUES (2, 'Bob', 20, 60000);
INSERT INTO employees VALUES (3, 'Carol', 30, 55000);
INSERT INTO employees VALUES (4, 'Dave', 10, 52000);
</code></pre>
</div>

<p><strong>Expected Table Data:</strong></p>

<p><strong>departments</strong></p>
<table border="1" cellpadding="6">
  <thead><tr><th>dept_id</th><th>dept_name</th></tr></thead>
  <tbody>
    <tr><td>10</td><td>HR</td></tr>
    <tr><td>20</td><td>IT</td></tr>
    <tr><td>30</td><td>Finance</td></tr>
  </tbody>
</table>

<p><strong>employees</strong></p>
<table border="1" cellpadding="6">
  <thead><tr><th>emp_id</th><th>emp_name</th><th>dept_id</th><th>salary</th></tr></thead>
  <tbody>
    <tr><td>1</td><td>Alice</td><td>10</td><td>50000</td></tr>
    <tr><td>2</td><td>Bob</td><td>20</td><td>60000</td></tr>
    <tr><td>3</td><td>Carol</td><td>30</td><td>55000</td></tr>
    <tr><td>4</td><td>Dave</td><td>10</td><td>52000</td></tr>
  </tbody>
</table>

<h3 class="text-lg font-semibold mt-4">Subqueries</h3>
<p>A subquery is a query inside another SQL query and is used for intermediate filtering or aggregation.</p>

<p><strong>Example 1:</strong> Get employees in HR department</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT emp_name
FROM employees
WHERE dept_id = (
  SELECT dept_id FROM departments WHERE dept_name = 'HR'
);</code></pre>
</div>
<p><strong>Output:</strong> Alice, Dave — Subquery fetches dept_id 10 for HR and the outer query fetches employees with that dept_id.</p>
<p><strong>Explanation:</strong> The subquery runs first and finds dept_id of HR. Then outer query checks employees with dept_id = 10.</p>

<p><strong>Example 2:</strong> Employees earning above average salary</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT emp_name, salary
FROM employees
WHERE salary > (
  SELECT AVG(salary) FROM employees
);</code></pre>
</div>
<p><strong>Output:</strong> Bob (60000), Carol (55000) — The subquery calculates the average salary and the outer query filters employees above that value.</p>
<p><strong>Explanation:</strong> First, the average salary is calculated. Then all employees earning more than that value are returned.</p>

<p><strong>When to use subqueries over joins:</strong> Subqueries are preferred when filtering or aggregating data before comparing, especially when nested logic is involved. JOINs are better when combining rows across related tables.</p>

<h3 class="text-lg font-semibold mt-4">Joins</h3>
<p>Joins combine data from multiple tables using a related column.</p>

<p><strong>INNER JOIN:</strong> Returns only matching rows from both tables.</p>
<p><em>Use case:</em> Show employees with valid departments only.</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT e.emp_name, d.dept_name
FROM employees e
JOIN departments d ON e.dept_id = d.dept_id;</code></pre>
</div>
<p><strong>Output:</strong></p>
<table border="1" cellpadding="6">
  <thead><tr><th>emp_name</th><th>dept_name</th></tr></thead>
  <tbody>
    <tr><td>Alice</td><td>HR</td></tr>
    <tr><td>Bob</td><td>IT</td></tr>
    <tr><td>Carol</td><td>Finance</td></tr>
    <tr><td>Dave</td><td>HR</td></tr>
  </tbody>
</table>
<p><strong>Explanation:</strong> Only rows with matching dept_id in both tables are shown. All employees here have valid departments.</p>

<p><strong>LEFT JOIN:</strong> Returns all rows from the left table and matched rows from the right table. Nulls if no match.</p>
<p><em>Use case:</em> Show all employees even if their department is missing.</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT e.emp_name, d.dept_name
FROM employees e
LEFT JOIN departments d ON e.dept_id = d.dept_id;</code></pre>
</div>
<p><strong>Output:</strong> Same as INNER JOIN (all employees have departments). If any employee lacks dept_id, their dept_name would be NULL.</p>
<p><strong>Explanation:</strong> All employees are returned. If dept_id has no match, dept_name will be NULL.</p>

<p><strong>RIGHT JOIN:</strong> Returns all rows from the right table and matched rows from the left table. Nulls if no match.</p>
<p><em>Use case:</em> Show all departments even if they have no employees.</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT e.emp_name, d.dept_name
FROM employees e
RIGHT JOIN departments d ON e.dept_id = d.dept_id;</code></pre>
</div>
<p><strong>Output:</strong> All departments listed, with employees shown where available. If a department has no employees, emp_name will be NULL.</p>
<p><strong>Explanation:</strong> All departments are returned. If dept_id has no matching employee, emp_name will be NULL.</p>

<p><strong>FULL OUTER JOIN:</strong> Returns all rows from both tables. If no match, shows NULLs.</p>
<p><em>Use case:</em> List all employees and departments with match or mismatch.</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT e.emp_name, d.dept_name
FROM employees e
FULL OUTER JOIN departments d ON e.dept_id = d.dept_id;</code></pre>
</div>
<p><strong>Output:</strong> Same as RIGHT JOIN + unmatched employees and departments (if any). Each row has employee or department info or both.</p>
<p><strong>Explanation:</strong> Combines LEFT and RIGHT JOINs. All unmatched rows are shown with NULLs in corresponding columns.</p>

<p><strong>CROSS JOIN:</strong> Returns Cartesian product (every row of first table with every row of second table).</p>
<p><em>Use case:</em> Pair each employee with every department (rarely used in real apps).</p>
<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT e.emp_name, d.dept_name
FROM employees e
CROSS JOIN departments d;</code></pre>
</div>
<p><strong>Output:</strong> 12 rows — Each of 4 employees is paired with 3 departments.</p>
<table border="1" cellpadding="6">
  <thead><tr><th>emp_name</th><th>dept_name</th></tr></thead>
  <tbody>
    <tr><td>Alice</td><td>HR</td></tr>
    <tr><td>Alice</td><td>IT</td></tr>
    <tr><td>Alice</td><td>Finance</td></tr>
    <tr><td>Bob</td><td>HR</td></tr>
    <tr><td>Bob</td><td>IT</td></tr>
    <tr><td>Bob</td><td>Finance</td></tr>
    <tr><td>Carol</td><td>HR</td></tr>
    <tr><td>Carol</td><td>IT</td></tr>
    <tr><td>Carol</td><td>Finance</td></tr>
    <tr><td>Dave</td><td>HR</td></tr>
    <tr><td>Dave</td><td>IT</td></tr>
    <tr><td>Dave</td><td>Finance</td></tr>
  </tbody>
</table>
<p><strong>Explanation:</strong> CROSS JOIN creates all possible combinations between employees and departments. Useful in scenarios like product bundles, testing. Results in N x M rows where N = number of rows in first table, M = in second.</p>

<p>Understanding these types of JOINs is crucial for crafting accurate and efficient SQL queries during interviews.</p>
<h4 class="text-md font-semibold mt-4">Interview Trap Qs:</h4>
<ul class="list-disc ml-6">
  <li>Which is better: JOIN or Subquery? 👉 Depends on use case — JOINs are generally more readable and efficient for related data.</li>
  <li>Can subqueries be used in FROM clause? ✅ Yes, called inline views.</li>
  <li>Will JOINs return unmatched data? ❌ Not unless LEFT/RIGHT/FULL JOIN is used.</li>
  <li>What if both tables have same column name? 👉 Use alias or qualify with table name.</li>
  <li>Can we use JOIN inside subquery? ✅ Yes, nesting is allowed.</li>
  <li>Can subquery return multiple rows? 👉 Only in IN/EXISTS, not in = unless scalar.</li>
  <li>Can subqueries be used in SELECT clause? ✅ Yes, useful for scalar lookups.</li>
  <li>Is CROSS JOIN same as FULL JOIN? ❌ No, CROSS JOIN returns cartesian product, FULL JOIN combines LEFT + RIGHT JOINs.</li>
</ul>
`
},'SQL Pagination': {
  id: 'pagination-spring-oracle',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Pagination in Oracle and Spring Data JPA</h2>

  <p><strong>1. What is pagination and why is it important?</strong></p>
  <p>Pagination breaks large datasets into smaller chunks (pages) to improve performance, reduce memory load, and enhance user experience.</p>

  <p><strong>2. How do you implement pagination in Oracle SQL?</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>SELECT * FROM employee
ORDER BY id
OFFSET 10 ROWS FETCH NEXT 10 ROWS ONLY;</code></pre>
  </div>

  <p><strong>3. How is pagination done in Spring Data JPA?</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>Pageable pageable = PageRequest.of(0, 10);
Page&lt;Employee&gt; page = repo.findAll(pageable);</code></pre>
  </div>

  <p><strong>4. What are the different interfaces used for pagination in Spring Data JPA?</strong></p>
  <p>- <code>Pageable</code>: defines page number, size, sort <br>
  - <code>Page&lt;T&gt;</code>: contains data and metadata <br>
  - <code>Slice&lt;T&gt;</code>: like Page but no total count</p>

  <p><strong>5. What is the difference between Page&lt;T&gt; and Slice&lt;T&gt;?</strong></p>
  <table>
    <tr><th>Page&lt;T&gt;</th><th>Slice&lt;T&gt;</th></tr>
    <tr><td>Has total count</td><td>No total count</td></tr>
    <tr><td>Heavier</td><td>Lighter</td></tr>
    <tr><td>.getTotalPages() available</td><td>Not available</td></tr>
  </table>

  <p><strong>6. Can you write a method for paginated search in JPA?</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>Page&lt;Employee&gt; findByDepartmentId(Long deptId, Pageable pageable);</code></pre>
  </div>

  <p><strong>7. Trap: What happens if ORDER BY is missed in paginated query?</strong></p>
  <p>Results may be inconsistent between pages. ORDER BY is mandatory for stable pagination.</p>

  <p><strong>8. Trap: For millions of rows, OFFSET-FETCH vs keyset pagination?</strong></p>
  <p>Keyset pagination is better. It avoids full scan and improves performance.</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>SELECT * FROM employee 
WHERE id &gt; :lastSeenId 
ORDER BY id 
FETCH NEXT 10 ROWS ONLY;</code></pre>
  </div>

  <p><strong>9. How to implement pagination using native SQL in Spring JPA?</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>@Query(value = "SELECT * FROM employee ORDER BY id OFFSET ?1 ROWS FETCH NEXT ?2 ROWS ONLY", nativeQuery = true)
List&lt;Employee&gt; getEmployees(int offset, int size);</code></pre>
  </div>

  <p><strong>10. How do you send pagination data to frontend?</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>{
  "content": [ { ... }, { ... } ],
  "totalElements": 128,
  "totalPages": 13,
  "size": 10,
  "number": 0
}</code></pre>
  </div>

  <hr class="my-4">

  <p><strong>11. Pagination using ROWNUM (Oracle 11g)</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>SELECT * FROM (
  SELECT e.*, ROWNUM rn FROM (
    SELECT * FROM employee ORDER BY id
  ) e WHERE ROWNUM &lt;= 20
) WHERE rn &gt; 10;</code></pre>
  </div>

  <p><strong>12. Oracle 12c Pagination with Filter + Sorting</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>SELECT * FROM employee
WHERE department = 'SALES'
ORDER BY salary DESC
OFFSET 20 ROWS FETCH NEXT 10 ROWS ONLY;</code></pre>
  </div>

  <p><strong>13. How to filter + paginate in JPA query?</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>Page&lt;Employee&gt; findByDepartmentIdAndStatus(Long deptId, String status, Pageable pageable);</code></pre>
  </div>

  <p><strong>14. Dynamic filtering + pagination?</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>Specification&lt;Employee&gt; spec = (root, query, cb) -&gt;
  cb.equal(root.get("status"), "ACTIVE");

Page&lt;Employee&gt; result = repo.findAll(spec, PageRequest.of(0, 10));</code></pre>
  </div>

  <p><strong>15. Trap: Unknown total count — Page or Slice?</strong></p>
  <p>Use <code>Slice</code>: lighter and faster when total pages not needed.</p>

  <p><strong>16. Real-world: You have 1 million rows — how to paginate efficiently?</strong></p>
  <ul>
    <li>Use keyset pagination (id &gt; lastSeenId)</li>
    <li>Avoid OFFSET for large skips</li>
    <li>Index the sort field</li>
    <li>Project only required fields</li>
  </ul>

  <hr class="my-4">

  <h3 class="text-xl font-semibold mt-6">🧾 Summary Table</h3>
  <table>
    <tr><th>Scenario</th><th>Approach</th></tr>
    <tr><td>Page number-based</td><td>OFFSET + FETCH / ROWNUM</td></tr>
    <tr><td>Cursor/keyset pagination</td><td>WHERE id &gt; :lastSeenId</td></tr>
    <tr><td>Filtering + pagination</td><td>JPA methods or @Query</td></tr>
    <tr><td>Large datasets</td><td>Index + keyset + projection</td></tr>
    <tr><td>Frontend metadata</td><td>Return Page&lt;T&gt;</td></tr>
  </table>
  `
},'SQL Pagination Real World Ex': {
  "id": "pagination-interview-usecases",
  "html": `
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Advanced & Tricky Pagination Interview Questions</h2>

<p><strong>Q1: What is the performance drawback of OFFSET in pagination for large datasets?</strong></p>
<p><strong>Answer:</strong> OFFSET causes the database to scan and skip rows even if not returned, so high offsets result in slower queries.</p>

<p><strong>Q2: How would you paginate if the dataset keeps changing (new rows inserted during pagination)?</strong></p>
<p><strong>Answer:</strong> Use keyset (cursor-based) pagination to ensure consistent results across pages by tracking the last record ID.</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT * FROM orders 
WHERE id &gt; :lastSeenId 
ORDER BY id 
FETCH NEXT 10 ROWS ONLY;</code></pre>
</div>

<p><strong>Q3: What is keyset pagination and how is it different from OFFSET-FETCH?</strong></p>
<p><strong>Answer:</strong> Keyset uses a WHERE clause to continue from the last seen record, avoiding row scans and maintaining consistency.</p>

<p><strong>Q4: Can you combine filtering, sorting, and pagination in a single query?</strong></p>
<p><strong>Answer:</strong> Yes, Spring Data JPA supports combining all three using the <code>Pageable</code> object.</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>Page&lt;Order&gt; findByStatusOrderByDateDesc(String status, Pageable pageable);</code></pre>
</div>

<p><strong>Q5: How can you paginate using composite keys?</strong></p>
<p><strong>Answer:</strong> Track both keys and apply them in the WHERE clause to support proper ordering.</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>WHERE (key1, key2) &gt; (:k1, :k2)</code></pre>
</div>

<p><strong>Q6: How do you implement infinite scroll with Spring Data JPA?</strong></p>
<p><strong>Answer:</strong> Use <code>Slice&lt;T&gt;</code> instead of <code>Page&lt;T&gt;</code> to only load the current chunk and reduce overhead.</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>Slice&lt;Order&gt; findByStatus(String status, Pageable pageable);</code></pre>
</div>

<p><strong>Q7: How do you prevent duplicate records in keyset pagination?</strong></p>
<p><strong>Answer:</strong> Always order by a unique column (e.g., ID) to ensure stable results between pages.</p>

<p><strong>Q8: How to paginate if the sorting field is not unique?</strong></p>
<p><strong>Answer:</strong> Combine the non-unique field with a unique field like ID to avoid repeating or missing rows.</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>ORDER BY created_at DESC, id DESC</code></pre>
</div>

<p><strong>Q9: How do you paginate using a stored procedure in Oracle?</strong></p>
<p><strong>Answer:</strong> Use <code>SYS_REFCURSOR</code> with input parameters like offset/limit inside a procedure.</p>

<p><strong>Q10: How would you paginate a huge table (500M+ rows) efficiently?</strong></p>
<ul class="list-disc ml-6">
  <li>Prefer keyset pagination over OFFSET</li>
  <li>Use filtering and indexed columns</li>
  <li>Fetch only required fields (no <code>SELECT *</code>)</li>
  <li>Use partitioned tables or materialized views</li>
</ul>

<hr class="my-6">

<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8">Real-World Pagination Use Cases (with Explanation)</h2>

<p><strong>Scenario 1: OFFSET very high (e.g., page 100000)</strong></p>
<p><strong>Issue:</strong> Oracle still scans 999,999 rows before giving results → slow!</p>
<p><strong>Solution:</strong> Use keyset pagination to skip directly to desired ID</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT * FROM employee 
WHERE emp_id &gt; :lastSeenId 
ORDER BY emp_id 
FETCH NEXT 20 ROWS ONLY;</code></pre>
</div>

<p><strong>Scenario 2: Filtering + pagination causes unstable results</strong></p>
<p><strong>Issue:</strong> New records added while browsing cause duplicates/missing entries</p>
<p><strong>Solution:</strong> Combine filter + keyset to preserve consistency</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT * FROM orders 
WHERE status = 'DELIVERED' AND order_id &gt; :lastSeenOrderId 
ORDER BY order_id 
FETCH NEXT 10 ROWS ONLY;</code></pre>
</div>

<p><strong>Scenario 3: Paginate a join query with filters</strong></p>
<p><strong>Issue:</strong> OFFSET on JOIN queries is slow due to row construction cost</p>
<p><strong>Solution:</strong> Use indexed columns in WHERE/ORDER, avoid SELECT *</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT o.id, o.date, c.name 
FROM orders o 
JOIN customers c ON o.customer_id = c.id 
WHERE o.date &gt; TO_DATE('2024-01-01','YYYY-MM-DD') 
ORDER BY o.date DESC 
OFFSET 20 ROWS FETCH NEXT 10 ROWS ONLY;</code></pre>
</div>

<p><strong>Scenario 4: Pageable via Spring Data JPA</strong></p>
<p><strong>Explanation:</strong> Backend can create Pageable with page number, size, sort — passed directly to JPA</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>Pageable pageable = PageRequest.of(0, 10, Sort.by("createdAt").descending());
Page&lt;Order&gt; orders = orderRepo.findByStatus("SHIPPED", pageable);</code></pre>
</div>

<p><strong>Scenario 5: Oracle Stored Procedure with pagination</strong></p>
<p><strong>Explanation:</strong> Use ROWNUM inside nested subqueries to simulate offset + limit in Oracle PL/SQL</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>CREATE OR REPLACE PROCEDURE fetch_page(p_offset IN NUMBER, p_limit IN NUMBER, p_cursor OUT SYS_REFCURSOR) AS
BEGIN
  OPEN p_cursor FOR
  SELECT * FROM (
    SELECT a.*, ROWNUM rnum FROM (
      SELECT * FROM employee ORDER BY emp_id
    ) a WHERE ROWNUM &lt;= p_offset + p_limit
  ) WHERE rnum &gt; p_offset;
END;</code></pre>
</div>
`
},'Data Types': {
  id: 'oracle-datatypes',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Oracle Data Types</h2>

  <p><strong>Key Data Types (with Explanation, Differences, and Examples):</strong></p>
	<br>
  <ul class="list-disc list-inside">
    <li><strong>VARCHAR2(n)</strong>: Variable-length character string. Stores only the actual input length, not padded. Best for dynamic data such as names, addresses.<br/>
    Example: <code>VARCHAR2(20)</code> can store 'John', 'Christopher', etc. without wasting space.<br/>
    Java Mapping: <code>String</code></li><br/>

    <li><strong>CHAR(n)</strong>: Fixed-length string. Always stores n bytes. Pads with spaces if input is shorter. Used for things like country codes, where uniform length is expected.<br/>
    Example: <code>CHAR(10)</code> storing 'HR' becomes 'HR        '.<br/>
    <strong>Difference</strong>: CHAR is fixed-size; VARCHAR2 is space-optimized for variable-length input.<br/>
    Java Mapping: <code>String</code></li><br/>

    <li><strong>VARCHAR</strong>: ANSI-compliant but deprecated in Oracle. Always prefer VARCHAR2.</li><br/>
  </ul>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>| Feature        | CHAR            | VARCHAR        | VARCHAR2        |
| -------------- | --------------- | -------------- | --------------- |
| Length Type    | Fixed           | Variable       | Variable        |
| Padding        | Yes (spaces)    | No             | No              |
| Max Size       | 2000 bytes      | 4000 bytes     | 4000 bytes      |
| Use Case       | Uniform codes   | Avoid (legacy) | Dynamic strings |
| Oracle Support | Fully supported | Deprecated     | Fully supported |</code></pre>
  </div>

  <ul class="list-disc list-inside">
    <li><strong>NUMBER(p,s)</strong>: Precision (p) is total digits, scale (s) is digits after decimal. Used for prices, percentages, etc.<br/>
    Example: <code>NUMBER(5,2)</code> allows 123.45.<br/>
    Java Mapping: <code>BigDecimal</code>, <code>int</code>, <code>long</code>, <code>double</code></li><br/>

    <li><strong>FLOAT</strong>: Approximate binary floating point. Less accurate. Used when exact precision isn’t critical.<br/>
    Java Mapping: <code>float</code>, <code>double</code></li><br/>

    <li><strong>DATE</strong>: Stores date and time (to the second). Format: <code>DD-MON-YY HH:MI:SS</code>.<br/>
    Example: '26-JUL-25 03:12:45'<br/>
    Java Mapping: <code>java.sql.Date</code>, <code>java.sql.Timestamp</code></li><br/>

    <li><strong>TIMESTAMP</strong>: Like DATE but with fractional seconds (up to 9 digits). Useful for logs.<br/>
    Example: '26-JUL-25 03:12:45.123456'<br/>
    Java Mapping: <code>java.sql.Timestamp</code></li><br/>

    <li><strong>CLOB</strong>: Character Large Object. For large text data (up to 4GB).<br/>
    Java Mapping: <code>java.sql.Clob</code>, <code>String</code></li><br/>

    <li><strong>NCLOB</strong>: Like CLOB but Unicode. For multilingual text.<br/>
    Java Mapping: <code>java.sql.NClob</code></li><br/>

    <li><strong>BLOB</strong>: Binary Large Object. Stores images, audio, etc.<br/>
    Java Mapping: <code>java.sql.Blob</code>, <code>byte[]</code></li><br/>

    <li><strong>BFILE</strong>: Points to external binary file (read-only). Not stored inside DB.<br/>
    Java Mapping: Usually handled through <code>oracle.sql.BFILE</code> or custom streaming</li><br/>
  </ul>

  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>| Data Type   | Fixed/Variable | Max Size        | Use Case                        | Java Mapping          |
| ----------- | -------------- | --------------- | ------------------------------- | --------------------- |
| CHAR(n)     | Fixed          | 2000 bytes      | Codes, fixed identifiers        | String                |
| VARCHAR2(n) | Variable       | 4000 bytes      | Names, addresses                | String                |
| NUMBER(p,s) | N/A            | Up to 38 digits | Prices, counts, percentages     | BigDecimal, int       |
| DATE        | Fixed          | 7 bytes         | Timestamps                      | java.sql.Date         |
| TIMESTAMP   | Fixed          | 11 bytes        | Logs, high-precision time       | java.sql.Timestamp    |
| CLOB        | Variable       | Up to 4GB       | Long text like articles         | String, java.sql.Clob |
| BLOB        | Variable       | Up to 4GB       | Media, binary data              | byte[], java.sql.Blob |</code></pre>
  </div>

  <p><strong>Interview Tips:</strong></p>
  <ul class="list-disc list-inside">
    <li>Use <code>VARCHAR2</code> for strings; prefer over CHAR unless fixed-length is necessary.</li><br/>
    <li>Use <code>TIMESTAMP</code> instead of DATE when fractional seconds or high precision is required.</li><br/>
    <li>Avoid <code>FLOAT</code> for currency-related values due to precision errors. Use <code>NUMBER(p,s)</code> instead.</li><br/>
    <li>Use <code>CLOB</code> for large textual content like articles, logs, descriptions, etc.</li><br/>
    <li>For multi-language or Unicode content, use <code>NCLOB</code> instead of CLOB.</li><br/>
    <li>Use <code>BLOB</code> for storing binary data like images, documents, and audio files.</li><br/>
    <li>Use <code>BFILE</code> when you need to access binary data stored outside the DB (read-only).</li><br/>
    <li>Always define appropriate precision and scale for NUMBER to avoid over-allocating space.</li><br/>
    <li>Remember DATE in Oracle includes time by default. Use trunc(date) if only date is needed in queries.</li><br/>
    <li>VARCHAR is deprecated in Oracle. Always use VARCHAR2 for variable-length character data.</li><br/>
  </ul>`
},'Contraints': {
  id: "oracle-sql-constraints",
  html: `
<h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">Oracle SQL Interview Guide</h1>
<br>
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-6">Oracle Constraints</h2>
<br>
<p><strong>Why Constraints are Used:</strong><br>
Constraints in Oracle SQL enforce rules at the table level to ensure data integrity and consistency. They help prevent invalid or inconsistent data from being entered into the database, ensuring correctness and reducing the need for manual checks in application code.</p>
<br>
<h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-4">Types of Constraints with Explanations and Examples</h3>
<br>
<p><strong>1. PRIMARY KEY</strong><br>
Ensures each row has a unique, non-null value. A table can have only one primary key.<br>
<strong>Example:</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>CREATE TABLE employees (
  emp_id NUMBER PRIMARY KEY,
  name VARCHAR2(100)
);</code></pre></div>
<br>
<p><strong>2. UNIQUE</strong><br>
Ensures all values in a column or group of columns are unique across rows. Unlike PRIMARY KEY, multiple UNIQUE constraints are allowed and NULLs are permitted.<br>
<strong>Important:</strong> Oracle allows multiple <code>NULL</code> values in a column with a UNIQUE constraint because <code>NULL</code> is treated as an unknown value and does not violate uniqueness.<br>
<strong>Example:</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>CREATE TABLE users (
  user_id NUMBER,
  email VARCHAR2(100) UNIQUE
);</code></pre></div>
<br>
<p><strong>3. NOT NULL</strong><br>
Ensures a column cannot have NULL values. Typically used alongside other constraints.<br>
<strong>Example:</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>CREATE TABLE products (
  product_id NUMBER,
  name VARCHAR2(50) NOT NULL
);</code></pre></div>
<br>
<p><strong>4. CHECK</strong><br>
Ensures that all values in a column satisfy a specific condition. If the condition fails, Oracle will raise an error and reject the operation.<br>
<strong>Example:</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>CREATE TABLE accounts (
  account_id NUMBER,
  balance NUMBER CHECK (balance >= 0)
);</code></pre></div>
<br>
<p><strong>5. FOREIGN KEY</strong><br>
Ensures that values in one table must match existing values in another, maintaining data consistency between related tables. This is critical for preserving referential integrity.<br>
<strong>Example:</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>CREATE TABLE orders (
  order_id NUMBER PRIMARY KEY,
  customer_id NUMBER,
  CONSTRAINT fk_customer FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);</code></pre></div>
<br>
<h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mt-6">✅ Interview Tip Explanations</h3>
<br><br>
<ul class="list-disc list-inside space-y-2 mt-2">
  <li>
    <strong>Explain the difference between PRIMARY KEY and UNIQUE</strong><br>
    👉 <strong>What to say:</strong><br>
    - <code>PRIMARY KEY</code> enforces uniqueness <strong>and</strong> non-nullability.<br>
    - <code>UNIQUE</code> enforces only uniqueness — it <strong>allows multiple NULLs</strong>.<br>
    - A table can have <strong>only one PRIMARY KEY</strong>, but can have <strong>multiple UNIQUE</strong> constraints.<br>
    📌 <em>Interview example:</em><br>
    "The PRIMARY KEY is a combination of UNIQUE and NOT NULL. For instance, email may be UNIQUE but can be NULL — not acceptable for a primary identifier."
  </li><br>

  <li>
    <strong>Can FOREIGN KEY reference a UNIQUE column</strong><br>
    👉 <strong>What to say:</strong><br>
    - In Oracle, a <code>FOREIGN KEY</code> can reference a column with a <code>UNIQUE</code> constraint — it doesn't always need to be the <code>PRIMARY KEY</code>.<br>
    📌 <em>Interview scenario:</em><br>
    "If the <code>customers</code> table uses <code>email</code> as a UNIQUE key, another table can use that column as a foreign key."
  </li><br>

  <li>
    <strong>CHECK constraints are often overlooked but useful for enforcing domain rules</strong><br>
    👉 <strong>What to say:</strong><br>
    - <code>CHECK</code> is ideal for business rules (e.g., salary > 0, age >= 18).<br>
    - They prevent invalid data even before it reaches application logic.<br>
    📌 <em>Example:</em><br>
    <div class="code-block"><button class="copy-btn">Copy</button><pre><code>CHECK (age >= 18)</code></pre></div>
    "This ensures only adults are registered, adding a layer of validation at DB level."
  </li><br>

  <li>
    <strong>Is NOT NULL a constraint by default in all database systems</strong><br>
    👉 <strong>What to say:</strong><br>
    - Some databases don’t consider <code>NOT NULL</code> a formal "constraint", but Oracle does treat it as one.<br>
    - It ensures that a column <strong>must always have a value</strong>.<br>
    📌 <em>Clarification to interviewer:</em><br>
    "In Oracle, NOT NULL is treated as a constraint, but in others like MySQL, it's more of a column attribute."
  </li>
</ul>
`
}
,'Indexes': {
  id: 'oracle-indexes-detailed',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Indexes in Oracle SQL</h2>

  <h3 class="text-xl font-bold mt-4 text-blue-700">✅ 1. B-Tree Index (Default)</h3>
  <p><strong>What it is:</strong> Balanced Tree structure for fast lookup.</p>
  <p><strong>Use case:</strong> Ideal for OLTP systems where quick read/write is needed.</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE INDEX idx_emp_name ON employee(name);
SELECT * FROM employee WHERE name = 'John';</code></pre>
  </div>
  <p><strong>Pros:</strong><br/>
  - Fast for exact match queries.<br/>
  - Supports range scans.<br/>
  - Automatically maintained.</p>
  <p><strong>Cons:</strong><br/>
  - Slower for columns with few distinct values (low cardinality).<br/>
  - Extra overhead during INSERT/UPDATE/DELETE.</p>
  <p><strong>OLTP Suitability:</strong> ✅ Best suited for high transaction systems.</p>

  <h3 class="text-xl font-bold mt-4 text-blue-700">✅ 2. Bitmap Index</h3>
  <p><strong>What it is:</strong> Stores index entries as bitmaps.</p>
  <p><strong>Use case:</strong> Best for columns with low cardinality (few distinct values).</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE BITMAP INDEX idx_gender ON employee(gender);
SELECT COUNT(*) FROM employee WHERE gender = 'F';</code></pre>
  </div>
  <p><strong>Pros:</strong><br/>
  - Extremely efficient for low-cardinality columns (e.g., gender, status).<br/>
  - Performs well in complex, multi-column filters.</p>
  <p><strong>Cons:</strong><br/>
  - Not suitable for concurrent updates (OLTP).<br/>
  - Best for read-heavy OLAP systems.</p>
  <p><strong>OLTP Suitability:</strong> ❌ Avoid in high-concurrency systems.</p>

  <h3 class="text-xl font-bold mt-4 text-blue-700">✅ 3. Composite Index</h3>
  <p><strong>What it is:</strong> Index built on multiple columns.</p>
  <p><strong>Use case:</strong> When queries filter/sort on multiple fields.</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE INDEX idx_emp_dept ON employee(dept_id, name);
SELECT * FROM employee WHERE dept_id = 10 AND name = 'John';</code></pre>
  </div>
  <p><strong>Pros:</strong><br/>
  - Helps in covering queries involving multiple columns.<br/>
  - Reduces table access if all query columns are in index.</p>
  <p><strong>Cons:</strong><br/>
  - Order matters – if not used left to right, index may not help.</p>
  <p><strong>OLTP Suitability:</strong> ✅ Works well if designed carefully.</p>

  <h3 class="text-xl font-bold mt-4 text-blue-700">✅ 4. Function-Based Index</h3>
  <p><strong>What it is:</strong> Index on expressions or functions.</p>
  <p><strong>Use case:</strong> Used when query uses functions in WHERE clause.</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE INDEX idx_upper_name ON employee(UPPER(name));
SELECT * FROM employee WHERE UPPER(name) = 'JOHN';</code></pre>
  </div>
  <p><strong>Pros:</strong><br/>
  - Helps when filtering via functions.</p>
  <p><strong>Cons:</strong><br/>
  - Consumes space and must be explicitly created.</p>
  <p><strong>OLTP Suitability:</strong> ✅ Useful for optimized filtering.</p>

  <h3 class="text-xl font-bold mt-6 text-green-700">🔍 Cardinality (Bonus Concept)</h3>
  <p><strong>What is Cardinality?</strong><br/>
  Number of distinct values in a column.</p>
  <table class="w-full mt-2 border border-collapse text-sm">
    <thead>
      <tr class="bg-gray-200 dark:bg-gray-800">
        <th class="border px-2 py-1">Type</th>
        <th class="border px-2 py-1">Meaning</th>
        <th class="border px-2 py-1">Example</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border px-2 py-1">High Cardinality</td>
        <td class="border px-2 py-1">Many unique values</td>
        <td class="border px-2 py-1">Email, Emp_ID</td>
      </tr>
      <tr>
        <td class="border px-2 py-1">Medium Cardinality</td>
        <td class="border px-2 py-1">Moderate unique values</td>
        <td class="border px-2 py-1">City</td>
      </tr>
      <tr>
        <td class="border px-2 py-1">Low Cardinality</td>
        <td class="border px-2 py-1">Few unique values</td>
        <td class="border px-2 py-1">Gender, Status</td>
      </tr>
    </tbody>
  </table>

  <p class="mt-2"><strong>Index Strategy:</strong></p>
  <ul class="list-disc ml-6">
    <li>High Cardinality → <strong>B-Tree Index</strong></li>
    <li>Low Cardinality → <strong>Bitmap Index</strong></li>
  </ul>
  <p class="mt-2"><strong>Example:</strong><br/>
  Gender: Only 'M' or 'F' → Low Cardinality<br/>
  Email: Unique per person → High Cardinality</p>

  <h3 class="text-xl font-bold mt-4 text-red-600">💡 Interview Tips</h3>
  <ul class="list-disc ml-6">
    <li>Always prefer B-Tree for OLTP systems.</li>
    <li>Bitmap Index can cause locks — avoid in concurrent systems.</li>
    <li>Function-based index only works if function is used exactly as defined in query.</li>
    <li>Composite index only helps if left-most column is used.</li>
  </ul>
  <br>
  <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">🔐 Unique Index in Oracle (Interview Perspective)</h2>

  <p><strong>✅ What is a Unique Index?</strong><br>
  A <code>Unique Index</code> in Oracle ensures that the values in one or more columns are <strong>always unique</strong>. It prevents duplicate entries and is often used to maintain data integrity — especially for columns like <code>email</code>, <code>username</code>, or <code>employee_id</code>.</p>

  <p><strong>✅ Why is it Important?</strong><br>
  - Helps enforce business rules (e.g., no two users should have the same email)<br>
  - Improves query performance by indexing unique values<br>
  - Automatically created when you define a <code>UNIQUE</code> constraint on a column</p>

  <p><strong>✅ Real-World Example:</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE UNIQUE INDEX emp_email_idx ON employees(email);</code></pre>
  </div>
  <p>This ensures that no two employees can have the same <code>email</code> address.</p>

  <p><strong>✅ Behind the Scenes:</strong><br>
  When you create a table like this:</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE TABLE employees (
  emp_id NUMBER PRIMARY KEY,
  email VARCHAR2(100) UNIQUE
);</code></pre>
  </div>
  <p>Oracle automatically creates a <strong>unique index</strong> on the <code>email</code> column to enforce the uniqueness.</p>

  <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mt-4">🎯 Interview Questions & Tricky Concepts</h3>

  <p><strong>Q1: Can a column with a unique index contain multiple NULLs?</strong><br>
  ✅ <strong>Yes.</strong> Oracle treats each NULL as a distinct value, so multiple NULLs are allowed in a column with a unique index.</p>

  <p><strong>Q2: What error do you get when inserting a duplicate value?</strong><br>
  ❌ You’ll get: <code>ORA-00001: unique constraint violated</code></p>

  <p><strong>Q3: Can you create a unique index on multiple columns?</strong><br>
  ✅ <strong>Yes.</strong> This enforces uniqueness across the combination of values.</p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE UNIQUE INDEX emp_name_dept_idx ON employees(name, department_id);</code></pre>
  </div>
  <p>Now, the same <code>name</code> can exist in different departments, but not the same <code>name</code> in the same <code>department_id</code>.</p>

  <p><strong>Q4: Does a unique index improve performance?</strong><br>
  ✅ Yes, especially for queries that filter by the indexed column. But it also adds overhead during inserts/updates due to uniqueness checks.</p>

  <p><strong>Q5: Can you drop a unique index without dropping the constraint?</strong><br>
  ❌ No. If the index was created by a <code>UNIQUE</code> constraint, dropping it will also drop the constraint.</p>

  <p><strong>Q6: What’s the difference between a unique index and a primary key?</strong><br>
  - Both enforce uniqueness<br>
  - <code>PRIMARY KEY</code> also enforces <strong>NOT NULL</strong><br>
  - A table can have multiple unique indexes but only one primary key</p>

  <p><strong>✅ Summary:</strong><br>
  Unique indexes are essential for maintaining clean, reliable data. They’re automatically created with <code>UNIQUE</code> constraints and help enforce business rules while improving query performance. Understanding how they work — especially with NULLs and composite columns — is key for interviews and real-world database design.</p>`
},'Views vs Materialized Views': {
  id: 'views-vs-materialized-views',
  html: `
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">
  Views & Materialized Views (MV) — For Interview Preparation
</h2>

<p><strong>View:</strong> A <em>virtual table</em> based on an SQL query that doesn't store data. It fetches <strong>real-time data</strong> from base tables when queried.</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>CREATE VIEW emp_dept_view AS
SELECT e.emp_id, e.name, d.dept_name
FROM employee e
JOIN department d ON e.dept_id = d.dept_id;

-- Usage
SELECT * FROM emp_dept_view WHERE dept_name = 'HR';</code></pre>
</div>

<p><strong>Java/JPA:</strong> Use native queries on views with projections or DTOs.</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>@Query(value = "SELECT * FROM emp_dept_view WHERE dept_name = :deptName", nativeQuery = true)
List&lt;EmployeeDeptDTO&gt; findByDeptName(@Param("deptName") String deptName);</code></pre>
</div>

<p><strong>Materialized View:</strong> Stores data physically. Improves performance on complex joins and aggregates. Needs refresh to stay updated.</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>CREATE MATERIALIZED VIEW mv_emp_dept AS
SELECT e.emp_id, e.name, d.dept_name
FROM employee e
JOIN department d ON e.dept_id = d.dept_id;

-- Usage
SELECT * FROM mv_emp_dept WHERE dept_name = 'IT';</code></pre>
</div>

<p><strong>Refresh Options:</strong></p>
<ul>
  <li><strong>ON COMMIT</strong> – refreshes automatically on DB commit.</li>
  <li><strong>ON DEMAND</strong> – needs manual or scheduled refresh.</li>
</ul>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>-- ON COMMIT
CREATE MATERIALIZED VIEW mv_emp_dept_commit
REFRESH FAST ON COMMIT
AS
SELECT e.emp_id, e.name, d.dept_name
FROM employee e
JOIN department d ON e.dept_id = d.dept_id;

-- ON DEMAND
CREATE MATERIALIZED VIEW mv_emp_dept_demand
REFRESH FAST ON DEMAND
AS
SELECT e.emp_id, e.name, d.dept_name
FROM employee e
JOIN department d ON e.dept_id = d.dept_id;

-- Manual refresh
BEGIN
  DBMS_MVIEW.REFRESH('MV_EMP_DEPT_DEMAND');
END;

-- Scheduled refresh example
CREATE MATERIALIZED VIEW mv_sales_summary
BUILD IMMEDIATE
REFRESH COMPLETE
START WITH SYSDATE
NEXT SYSDATE + 1/24
AS
SELECT region, SUM(sales) total_sales
FROM sales
GROUP BY region;</code></pre>
</div>

<p><strong>Java/JPA:</strong> Same usage as View:</p>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>@Query(value = "SELECT * FROM mv_emp_dept WHERE dept_name = :deptName", nativeQuery = true)
List&lt;EmployeeDeptDTO&gt; fetchMVData(@Param("deptName") String deptName);</code></pre>
</div>

<h3 class="text-xl font-semibold mt-4 mb-2">Key Differences</h3>

<div class="code-block">
  <button class="copy-btn">Copy</button>
  <pre><code>| Feature     | View           | Materialized View         |
|-------------|----------------|----------------------------|
| Storage     | No             | Yes (physical)             |
| Performance | Slower         | Faster (precomputed)       |
| Real-time   | Yes            | No (unless refreshed)      |
| Use Case    | Abstraction    | Performance, reporting     |</code></pre>
</div>

<h3 class="text-xl font-semibold mt-4 mb-2">Interview Questions & Answers</h3>

<ul class="list-disc pl-5 space-y-1">
  <li><strong>Does view show updated data if base table changes?</strong> ✅ Yes, always real-time.</li>
  <li><strong>When does view fetch data?</strong> 👉 At query time.</li>
  <li><strong>Does MV auto-update?</strong> ❌ No, unless ON COMMIT is used.</li>
  <li><strong>Can you use WHERE in JPA with views/MVs?</strong> ✅ Yes.</li>
  <li><strong>Can views/MVs use joins/group by?</strong> ✅ Yes.</li>
  <li><strong>Need entity for views/MVs?</strong> ❌ Not if using DTO/projections.</li>
  <li><strong>Tricky: MV shows outdated data?</strong> 👉 Refresh might be pending.</li>
  <li><strong>Pass params in MV?</strong> ❌ Not directly, but queries can filter.</li>
  <li><strong>How does MV help performance?</strong> ✅ Stores precomputed results.</li>
  <li><strong>Can you modify data in view/MV?</strong> 🔸 View: Sometimes; MV: No.</li>
  <li><strong>Which is faster — view or MV?</strong> 👉 MV if refreshed; else view is still faster than rewriting queries.</li>
  <li><strong>ON COMMIT vs ON DEMAND?</strong> ✅ ON COMMIT is auto-refresh; ON DEMAND needs manual/scheduled refresh.</li>
</ul>
`
}
,'Triggers': {
  id: 'triggers',
  html: `
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-4">🔔 Triggers in Oracle DB</h2>

<p><strong>Definition:</strong> A trigger is a stored PL/SQL block or stored procedure that automatically executes when a specific DML event (<code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>) occurs on a table or view.</p>

<h4 class="text-lg font-semibold mt-4">Types of Triggers</h4>
<ul class="list-disc ml-6">
  <li><strong>BEFORE Trigger:</strong> Executes before the DML operation.</li>
  <li><strong>AFTER Trigger:</strong> Executes after the DML operation.</li>
  <li><strong>INSTEAD OF Trigger:</strong> Used for views to allow DML indirectly.</li>
  <li><strong>ROW-level Trigger:</strong> Executes once per affected row.</li>
  <li><strong>STATEMENT-level Trigger:</strong> Executes once per SQL statement.</li>
  <li><strong>Compound Trigger:</strong> Combines multiple timing points (BEFORE, AFTER, INSTEAD OF).</li>
</ul>

<p class="mt-4 font-semibold">Example: BEFORE DELETE Trigger</p>
<div class="code-block mb-6">
  <button class="copy-btn">Copy</button>
  <pre><code>CREATE OR REPLACE TRIGGER emp_delete_log
BEFORE DELETE ON employees
FOR EACH ROW
BEGIN
  INSERT INTO emp_delete_audit(emp_id, deleted_on)
  VALUES (:OLD.emp_id, SYSDATE);
END;</code></pre>
</div>

<p class="mt-4 font-semibold">Example: AFTER INSERT Trigger</p>
<div class="code-block mb-6">
  <button class="copy-btn">Copy</button>
  <pre><code>CREATE TRIGGER trg_emp_audit
AFTER INSERT ON employee
FOR EACH ROW
BEGIN
  INSERT INTO audit_log(emp_id, action) VALUES(:NEW.emp_id, 'INSERT');
END;</code></pre>
</div>

<h4 class="text-md font-semibold mt-4">Use Cases</h4>
<ul class="list-disc ml-6 mb-6">
  <li>Auditing data changes</li>
  <li>Enforcing business logic</li>
  <li>Auto-updating related tables</li>
  <li>Logging user actions or timestamps</li>
  <li>Sync data to backup/history tables</li>
  <li>Validate or block unwanted data changes</li>
</ul>

<h4 class="text-md font-semibold mt-4">Java Use Case</h4>
<p>Triggers work behind the scenes. No changes are needed in JPA code, but they’re useful when the database enforces logic automatically.</p>
<ul class="list-disc ml-6 mt-2 mb-6">
  <li>Auto-fill <code>last_updated_by</code> in DB on <code>UPDATE</code></li>
  <li>Log to audit tables on <code>DELETE</code></li>
</ul>

<h4 class="text-md font-semibold mt-4">Constraints/Notes</h4>
<ul class="list-disc ml-6 mb-6">
  <li>Cannot use COMMIT/ROLLBACK inside trigger</li>
  <li>Do not fire on TRUNCATE</li>
  <li>May cause performance overhead if overused</li>
  <li>Avoid putting heavy logic inside triggers — better in app/business layer</li>
</ul>

<h4 class="text-md font-semibold mt-4">Interview Questions</h4>
<ul class="list-disc ml-6 mb-6">
  <li><strong>Q: Can triggers modify data on other tables?</strong><br>✅ Yes, but should be used cautiously to avoid infinite loops.</li>
  <li><strong>Q: What’s the difference between BEFORE and AFTER trigger?</strong><br>✅ BEFORE: Executes before DML action.<br>✅ AFTER: Executes after DML action.</li>
  <li><strong>Q: What’s a compound trigger?</strong><br>✅ A trigger with multiple timing points (BEFORE, AFTER, INSTEAD OF).</li>
  <li><strong>Q: Can a trigger call a stored procedure?</strong><br>✅ Yes. Logic can be moved to reusable procedures/functions.</li>
  <li><strong>Q: Are triggers suitable for complex logic?</strong><br>⚠️ Better to keep complex logic in the business layer.</li>
  <li><strong>Q: Do triggers fire on TRUNCATE?</strong><br>❌ No</li>
  <li><strong>Q: Can we use triggers on views?</strong><br>✅ Yes, with INSTEAD OF triggers</li>
  <li><strong>Q: What’s the difference between row-level and statement-level?</strong><br>✅ One per row vs one per statement</li>
  <li><strong>Q: Can we block updates using triggers?</strong><br>✅ Yes, using BEFORE triggers with exception</li>
</ul>
`
},'Synonyms': {
  id: 'synonyms',
  html: `
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8">🔹 Synonyms</h2>

<p>A Synonym is an alias for a database object like a table, view, sequence, or procedure. It allows users to reference objects without needing to specify the full schema name.</p>

<p class="mt-4 font-semibold">-- Private Synonym (only for current user)</p>
<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>CREATE SYNONYM emp_syn FOR hr.employee;</code></pre>
</div>

<p class="font-semibold">-- Public Synonym (accessible to all users)</p>
<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>CREATE PUBLIC SYNONYM emp_pub FOR hr.employee;</code></pre>
</div>

<p class="font-semibold">-- Usage</p>
<div class="code-block mb-6">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT * FROM emp_syn;
SELECT * FROM emp_pub;</code></pre>
</div>

<h4 class="text-md font-semibold mt-4">✅ Use Cases:</h4>
<ul class="list-disc ml-6 mb-6">
  <li>Hide object owner/schema (like hr.employee → emp_syn)</li>
  <li>Provide simpler object names across applications</li>
  <li>Allow cross-schema access without rewriting SQL logic</li>
</ul>

<h4 class="text-md font-semibold mt-4">🔸 Java/JPA Use Case:</h4>
<p>When a synonym exists for a table or view, you can access it via JPA just like a normal table using entity or native queries:</p>

<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>@Query(value = "SELECT * FROM emp_syn WHERE status = 'ACTIVE'", nativeQuery = true)
List&lt;Employee&gt; findActiveEmployees();</code></pre>
</div>

<p>No need to change entity mappings if synonym name is same as table.</p>
<p>Useful in multi-schema environments or for abstracting data sources.</p>

<h4 class="text-md font-semibold mt-4">🧠 Interview Questions:</h4>
<ul class="list-disc ml-6 mb-6">
  <li><strong>Q: Can we create a synonym for another synonym?</strong><br>✅ Yes, but it creates confusion — avoid nested synonyms.</li>
  <li><strong>Q: Are public synonyms accessible to all users?</strong><br>✅ Yes, if proper privileges are granted.</li>
  <li><strong>Q: Can synonyms reference objects in other schemas?</strong><br>✅ Yes, that’s one of their primary purposes.</li>
  <li><strong>Q: What’s the difference between private and public synonym?</strong><br>🔹 Private: available only to creator. 🔹 Public: accessible by all users.</li>
  <li><strong>Q: If underlying object of synonym is dropped, what happens?</strong><br>❌ Query fails. Synonym must be recreated or repointed.</li>
</ul>
`
},'Sequences': {
  id: 'sequences',
  html: `
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8">🔢 Sequences in Oracle DB</h2>

<p><strong>Definition:</strong> A <code>Sequence</code> is a database object used to generate unique numeric values, commonly for auto-incrementing primary keys. It ensures that each value is distinct, even across multiple sessions.</p>

<h4 class="text-md font-semibold mt-4">📌 Basic Syntax</h4>
<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>CREATE SEQUENCE emp_seq START WITH 1 INCREMENT BY 1;</code></pre>
</div>

<h4 class="text-md font-semibold mt-4">🧪 Usage Example</h4>
<p>Use the sequence to insert a new employee with a unique ID:</p>
<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>INSERT INTO employee(emp_id, name) VALUES(emp_seq.NEXTVAL, 'John');</code></pre>
</div>

<h4 class="text-md font-semibold mt-4">☕ Java/JPA Integration</h4>
<p>Sequences are commonly used with JPA annotations to auto-generate primary keys:</p>
<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>@Id
@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "emp_seq")
@SequenceGenerator(name = "emp_seq", sequenceName = "emp_seq", allocationSize = 1)
private Long empId;</code></pre>
</div>

<h4 class="text-md font-semibold mt-4">✅ Why Use Sequences?</h4>
<ul class="list-disc ml-6 mb-6">
  <li>Guarantees uniqueness across transactions and sessions</li>
  <li>Efficient for generating surrogate keys</li>
  <li>Works independently of table logic</li>
  <li>Can be customized with START, INCREMENT, MIN/MAX values, caching, cycling</li>
</ul>
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8">🔁 CURRVAL vs NEXTVAL in Oracle</h2>

<p>In Oracle, <code>CURRVAL</code> and <code>NEXTVAL</code> are <strong>pseudocolumns</strong> used to interact with <strong>sequences</strong>—objects that generate unique, sequential numbers, often for primary keys.</p>

<h4 class="text-md font-semibold mt-4">🚀 NEXTVAL</h4>
<ul class="list-disc ml-6 mb-4">
  <li>Increments the sequence and returns the next available value.</li>
  <li>First call returns the <code>START WITH</code> value; subsequent calls increment by <code>INCREMENT BY</code>.</li>
</ul>
<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT my_sequence.NEXTVAL FROM dual;</code></pre>
</div>

<h4 class="text-md font-semibold mt-4">🔄 CURRVAL</h4>
<ul class="list-disc ml-6 mb-4">
  <li>Returns the current value of the sequence in the current session.</li>
  <li>Does <strong>not</strong> increment the sequence.</li>
  <li>Can only be used <strong>after</strong> <code>NEXTVAL</code> has been called in the same session.</li>
</ul>
<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>SELECT my_sequence.CURRVAL FROM dual;</code></pre>
</div>

<h4 class="text-md font-semibold mt-4">📌 Key Interview Points</h4>
<ul class="list-disc ml-6 mb-6">
  <li><strong>CURRVAL is session-specific</strong>: It reflects the last value generated by <code>NEXTVAL</code> in that session, not globally.</li>
  <li><strong>CURRVAL throws an error</strong> if used before <code>NEXTVAL</code> in the same session.</li>
  <li><strong>Both must be qualified</strong> with the sequence name: <code>sequence_name.CURRVAL</code>, <code>sequence_name.NEXTVAL</code>.</li>
  <li><strong>Common use case:</strong> Auto-generating unique IDs for primary keys.</li>
</ul>

<h4 class="text-md font-semibold mt-4">🧠 Tricky Interview Questions</h4>
<ul class="list-disc ml-6 mb-6">
  <li><strong>Q: Can CURRVAL be used before NEXTVAL?</strong><br>
    ❌ No. CURRVAL is undefined until NEXTVAL is called in the session.
  </li>

  <li><strong>Q: Is CURRVAL always the highest value of the sequence?</strong><br>
    ❌ No. It only reflects the last value fetched in the current session.
  </li>

  <li><strong>Q: Can CURRVAL be shared across sessions?</strong><br>
    ❌ No. CURRVAL is session-specific. Each session maintains its own CURRVAL.
  </li>

  <li><strong>Q: What happens if a transaction using NEXTVAL rolls back?</strong><br>
    ✅ The value is lost; sequences are independent of transactions.
  </li>
</ul>

<h4 class="text-md font-semibold mt-4">🧩 Real-World Tip</h4>
<p>Use <code>NEXTVAL</code> in <code>INSERT</code> statements or triggers to auto-generate IDs. Use <code>CURRVAL</code> when you need to reference the same value later in the session (e.g., inserting into child tables).</p>
<h4 class="text-md font-semibold mt-4">🧠 Interview Questions & Explanations</h4>
<ul class="list-disc ml-6 mb-6">
  <li><strong>Q: What happens if two sessions use the same sequence?</strong><br>
    ✅ Each session gets a unique value. Sequences are globally managed and thread-safe.
  </li>

  <li><strong>Q: Can a sequence generate gaps?</strong><br>
    ✅ Yes. Gaps can occur due to rollbacks, caching, or unused values. For example, if a transaction fetches <code>NEXTVAL</code> but rolls back, that number is lost.
  </li>

  <li><strong>Q: Can we use a sequence in a composite key?</strong><br>
    ✅ Technically yes, but sequences are best suited for surrogate keys. Composite keys often involve business logic or multiple fields.
  </li>

  <li><strong>Q: Can we reset a sequence?</strong><br>
    ✅ Yes, by dropping and recreating it or using <code>ALTER SEQUENCE</code> with <code>RESTART</code> in newer Oracle versions.
  </li>

  <li><strong>Q: What’s the difference between CURRVAL and NEXTVAL?</strong><br>
    ✅ <code>NEXTVAL</code> increments and returns the next value. <code>CURRVAL</code> returns the last value fetched in the current session.<br>
    🔍 <strong>Example:</strong><br>
    <code>SELECT emp_seq.NEXTVAL FROM dual;</code> → returns 1<br>
    <code>SELECT emp_seq.CURRVAL FROM dual;</code> → returns 1 (same session)<br>
    ❗ <strong>Important:</strong> CURRVAL can only be used after NEXTVAL has been called in the same session. Otherwise, it throws an error.
  </li>

  <li><strong>Q: Can a sequence be shared across multiple tables?</strong><br>
    ✅ Yes. For example, a global sequence can be used for IDs in multiple tables to ensure uniqueness across the system.
  </li>

  <li><strong>Q: What is the impact of caching in sequences?</strong><br>
    ✅ Cached sequences improve performance but may lose values if the database crashes before cache is flushed.
  </li>

  <li><strong>Q: Can we use sequences in triggers?</strong><br>
    ✅ Absolutely. You can assign <code>NEXTVAL</code> inside a <code>BEFORE INSERT</code> trigger to auto-populate primary keys.
  </li>

  <li><strong>Q: Tricky — Can CURRVAL be used before calling NEXTVAL?</strong><br>
    ❌ No. CURRVAL is only available after NEXTVAL has been called in the session.
  </li>

  <li><strong>Q: Tricky — Can a sequence generate duplicate values?</strong><br>
    ❌ No, unless manually reset or misused. Oracle sequences are designed to avoid duplication.
  </li>
</ul>

<h4 class="text-md font-semibold mt-4">🧩 Real-World Tip</h4>
<p>In high-concurrency systems, sequences are preferred over application-generated IDs because they scale better and avoid race conditions.</p>
`
},'PL/SQL Basics': {
  id: 'plsql_basics',
  html: `
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8">🧠 PL/SQL Basics (Oracle Procedural Language)</h2>

<p><strong>PL/SQL</strong> stands for <em>Procedural Language extensions to SQL</em>. It allows you to write procedural code (like loops, conditions, and error handling) directly inside Oracle Database. It's used to create powerful scripts, stored procedures, functions, and triggers.</p>

<h4 class="text-md font-semibold mt-4">📦 PL/SQL Block Structure</h4>
<p>Every PL/SQL program is made of blocks. A block has four optional sections:</p>
<ul class="list-disc ml-6 mb-4">
  <li><strong>DECLARE</strong> – Declare variables, cursors, constants</li>
  <li><strong>BEGIN</strong> – Main executable code</li>
  <li><strong>EXCEPTION</strong> – Error handling logic</li>
  <li><strong>END</strong> – Marks the end of the block</li>
</ul>

<h4 class="text-md font-semibold mt-4">🧪 Simple Example</h4>
<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>BEGIN
  DBMS_OUTPUT.PUT_LINE('Hello from PL/SQL');
END;</code></pre>
</div>

<h4 class="text-md font-semibold mt-4">🔧 What Can You Build with PL/SQL?</h4>
<ul class="list-disc ml-6 mb-6">
  <li><strong>Procedures</strong> – Reusable blocks that perform actions</li>
  <li><strong>Functions</strong> – Return a value and can be used in SQL queries</li>
  <li><strong>Triggers</strong> – Automatically execute on table events (INSERT, UPDATE, DELETE)</li>
  <li><strong>Packages</strong> – Group related procedures/functions together</li>
</ul>
<br>

<h4 class="text-md font-semibold mt-4">📋 PL/SQL Features Overview</h4>
<table class="table-auto border-collapse border border-gray-400 mb-6">
  <thead class="bg-gray-200 dark:bg-gray-700">
    <tr>
      <th class="border border-gray-400 px-4 py-2 text-left">Feature</th>
      <th class="border border-gray-400 px-4 py-2 text-left">Category</th>
      <th class="border border-gray-400 px-4 py-2 text-left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr><td class="border px-4 py-2">Block Structure</td><td class="border px-4 py-2">Core Syntax</td><td class="border px-4 py-2">Consists of DECLARE, BEGIN, EXCEPTION, and END sections</td></tr>
    <tr><td class="border px-4 py-2">Variables & Constants</td><td class="border px-4 py-2">Data Handling</td><td class="border px-4 py-2">Supports scalar, composite, reference, and large object types</td></tr>
    <tr><td class="border px-4 py-2">Control Structures</td><td class="border px-4 py-2">Flow Control</td><td class="border px-4 py-2">Includes IF, CASE, LOOP, WHILE, FOR, and EXIT statements</td></tr>
    <tr><td class="border px-4 py-2">Cursors</td><td class="border px-4 py-2">Data Access</td><td class="border px-4 py-2">Used to fetch multiple rows from a query; supports explicit and implicit</td></tr>
    <tr><td class="border px-4 py-2">Exception Handling</td><td class="border px-4 py-2">Error Management</td><td class="border px-4 py-2">Handles runtime errors using EXCEPTION block with predefined or custom errors</td></tr>
    <tr><td class="border px-4 py-2">Procedures</td><td class="border px-4 py-2">Modular Programming</td><td class="border px-4 py-2">Named blocks that perform actions; reusable and parameterized</td></tr>
    <tr><td class="border px-4 py-2">Functions</td><td class="border px-4 py-2">Modular Programming</td><td class="border px-4 py-2">Similar to procedures but return a value; can be used in SQL queries</td></tr>
    <tr><td class="border px-4 py-2">Triggers</td><td class="border px-4 py-2">Event Handling</td><td class="border px-4 py-2">Automatically execute code on DML events like INSERT, UPDATE, DELETE</td></tr>
    <tr><td class="border px-4 py-2">Packages</td><td class="border px-4 py-2">Code Organization</td><td class="border px-4 py-2">Group related procedures/functions; support public/private scope</td></tr>
    <tr><td class="border px-4 py-2">Records & Collections</td><td class="border px-4 py-2">Data Structures</td><td class="border px-4 py-2">Support for RECORD, TABLE, VARRAY, and ASSOCIATIVE ARRAY types</td></tr>
    <tr><td class="border px-4 py-2">PL/SQL Tables</td><td class="border px-4 py-2">Data Structures</td><td class="border px-4 py-2">Index-by tables (associative arrays) for in-memory data manipulation</td></tr>
    <tr><td class="border px-4 py-2">Bulk Processing</td><td class="border px-4 py-2">Performance</td><td class="border px-4 py-2">BULK COLLECT and FORALL for efficient multi-row operations</td></tr>
    <tr><td class="border px-4 py-2">Dynamic SQL</td><td class="border px-4 py-2">Flexibility</td><td class="border px-4 py-2">Use EXECUTE IMMEDIATE to run SQL statements dynamically</td></tr>
    <tr><td class="border px-4 py-2">DBMS_OUTPUT</td><td class="border px-4 py-2">Debugging</td><td class="border px-4 py-2">Displays output from PL/SQL blocks (mainly for development/debugging)</td></tr>
    <tr><td class="border px-4 py-2">Autonomous Transactions</td><td class="border px-4 py-2">Transaction Control</td><td class="border px-4 py-2">Allows independent commits/rollbacks within a block</td></tr>
    <tr><td class="border px-4 py-2">Savepoints</td><td class="border px-4 py-2">Transaction Control</td><td class="border px-4 py-2">Marks logical points in a transaction for partial rollback</td></tr>
    <tr><td class="border px-4 py-2">Nested Blocks</td><td class="border px-4 py-2">Modularity</td><td class="border px-4 py-2">PL/SQL blocks can be nested inside others for structured logic</td></tr>
    <tr><td class="border px-4 py-2">Triggers on Views</td><td class="border px-4 py-2">Advanced Features</td><td class="border px-4 py-2">INSTEAD OF triggers allow DML operations on views</td></tr>
    <tr><td class="border px-4 py-2">Security Features</td><td class="border px-4 py-2">Access Control</td><td class="border px-4 py-2">Supports AUTHID CURRENT_USER, roles, and privilege management</td></tr>
    <tr><td class="border px-4 py-2">Compiler Optimization</td><td class="border px-4 py-2">Performance</td><td class="border px-4 py-2">Native compilation and optimization levels for faster execution</td></tr>
    <tr><td class="border px-4 py-2">PL/SQL Engine</td><td class="border px-4 py-2">Architecture</td><td class="border px-4 py-2">Executes procedural code inside Oracle Database (server-side)</td></tr>
  </tbody>
</table>


<br>
<h4 class="text-md font-semibold mt-4">🧠 Interview Questions & Explanations</h4>
<ul class="list-disc ml-6 mb-6">
  <li><strong>Q: What is the difference between a procedure and a function?</strong><br>
    ✅ A <strong>function</strong> returns a value and can be used in SQL statements. A <strong>procedure</strong> performs an action but does not return a value directly.
  </li>
  <li><strong>Q: Can we use DML (INSERT/UPDATE/DELETE) inside PL/SQL?</strong><br>
    ✅ Yes. PL/SQL supports full SQL operations inside blocks.
  </li>
  <li><strong>Q: What is the use of the EXCEPTION block?</strong><br>
    ✅ It handles runtime errors gracefully. You can catch and respond to specific exceptions like <code>NO_DATA_FOUND</code> or <code>TOO_MANY_ROWS</code>.
  </li>
  <li><strong>Q: Can PL/SQL be used to write triggers?</strong><br>
    ✅ Yes. Triggers are written in PL/SQL and execute automatically on table events.
  </li>
  <li><strong>Q: What is DBMS_OUTPUT?</strong><br>
    ✅ It's a built-in package used to display output from PL/SQL blocks, mainly for debugging.
  </li>
  <li><strong>Q: Can we nest PL/SQL blocks?</strong><br>
    ✅ Yes. You can write blocks inside other blocks for modular logic.
  </li>
</ul>

<h4 class="text-md font-semibold mt-4">🧩 Tricky Questions</h4>
<ul class="list-disc ml-6 mb-6">
  <li><strong>Q: Can a function modify database tables?</strong><br>
    ⚠️ Technically yes, but it's discouraged. Functions used in SQL queries should be free of side effects.
  </li>
  <li><strong>Q: What happens if you forget the END keyword?</strong><br>
    ❌ Compilation error. Every block must be properly closed with <code>END;</code>.
  </li>
  <li><strong>Q: Can you use COMMIT inside a PL/SQL block?</strong><br>
    ✅ Yes, but it's best practice to control transactions outside procedures unless explicitly needed.
  </li>
  <li><strong>Q: What is the default behavior if no EXCEPTION block is defined?</strong><br>
    ❌ The error propagates to the calling environment and may terminate execution.
  </li>
  <li><strong>Q: Can you call a procedure from inside a function?</strong><br>
    ✅ Yes, but be cautious if the procedure performs DML, especially if the function is used in SQL.
  </li>
</ul>

<h4 class="text-md font-semibold mt-4">🧠 Example with DECLARE and EXCEPTION</h4>
<div class="code-block mb-4">
  <button class="copy-btn">Copy</button>
  <pre><code>DECLARE
  v_name VARCHAR2(20);
BEGIN
  v_name := 'Oracle';
  DBMS_OUTPUT.PUT_LINE('Welcome to ' || v_name);
EXCEPTION
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('An error occurred');
END;</code></pre>
</div>

<h4 class="text-md font-semibold mt-4">🧩 Real-World Scenario-Based Interview Questions</h4>
<ul class="list-disc ml-6 mb-6">
  <li><strong>Q: Insert into parent and child tables using same ID?</strong><br>
    ✅ Use <code>NEXTVAL</code> for parent, <code>CURRVAL</code> for child.
    <div class="code-block mt-2 mb-2">
      <pre><code>INSERT INTO orders(order_id, customer_id) VALUES(order_seq.NEXTVAL, 101);
INSERT INTO order_items(order_id, item_name) VALUES(order_seq.CURRVAL, 'Laptop');</code></pre>
    </div>
  </li>

  <li><strong>Q: Prevent partial updates on error?</strong><br>
    ✅ Use EXCEPTION block and let caller handle COMMIT/ROLLBACK.
    <div class="code-block mt-2 mb-2">
      <pre><code>BEGIN
  UPDATE employees SET salary = salary * 1.10 WHERE department_id = 10;
EXCEPTION
  WHEN OTHERS THEN
    RAISE;
END;</code></pre>
    </div>
  </li>

  <li><strong>Q: Trigger fails silently during DELETE?</strong><br>
    ✅ Use <code>:OLD</code> not <code>:NEW</code>; enable DBMS_OUTPUT.
    <div class="code-block mt-2 mb-2">
      <pre><code>CREATE OR REPLACE TRIGGER log_delete
BEFORE DELETE ON employees
FOR EACH ROW
BEGIN
  INSERT INTO audit_log(emp_id, deleted_on)
  VALUES (:OLD.emp_id, SYSDATE);
END;</code></pre>
    </div>
  </li>

  <li><strong>Q: Validate input before insert?</strong><br>
    ✅ Use BEFORE INSERT trigger.
    <div class="code-block mt-2 mb-2">
      <pre><code>CREATE OR REPLACE TRIGGER validate_age
BEFORE INSERT ON users
FOR EACH ROW
BEGIN
  IF :NEW.age < 18 THEN
    RAISE_APPLICATION_ERROR(-20001, 'User must be at least 18 years old');
  END IF;
END;</code></pre>
    </div>
  </li>

  <li><strong>Q: Function to return total sales?</strong><br>
    ✅ Avoid DML; use SELECT logic.
    <div class="code-block mt-2 mb-2">
      <pre><code>CREATE OR REPLACE FUNCTION get_total_sales(p_product_id NUMBER)
RETURN NUMBER IS
  v_total NUMBER;
BEGIN
  SELECT SUM(amount) INTO v_total FROM sales WHERE product_id = p_product_id;
  RETURN v_total;
END;</code></pre>
    </div>
  </li>

  <li><strong>Q: Optimize bulk row updates?</strong><br>
    ✅ Use BULK COLLECT and FORALL.
    <div class="code-block mt-2 mb-2">
      <pre><code>DECLARE
  TYPE t_ids IS TABLE OF employees.emp_id%TYPE;
  v_ids t_ids;
BEGIN
  SELECT emp_id BULK COLLECT INTO v_ids FROM employees WHERE department_id = 10;

  FORALL i IN v_ids.FIRST .. v_ids.LAST
    UPDATE employees SET salary = salary * 1.05 WHERE emp_id = v_ids(i);
END;</code></pre>
    </div>
  </li>
</ul>

<h4 class="text-md font-semibold mt-4">💡 Real-World Tip</h4>
<br>
<p>Use PL/SQL for business logic that must run close to the data—like validations, batch processing, or audit logging. It reduces network overhead and improves performance.</p>
`
},'Performance Optimization': {
  id: 'sql-performance-optimization',
  html: `
<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mt-8">🚀 SQL Performance & Optimization (Oracle)</h2>

<p>Optimizing SQL queries is essential for building fast, scalable applications and for acing technical interviews. Below are key techniques, examples, and explanations to help you master SQL performance tuning.</p>

<h4 class="text-md font-semibold mt-4">📘 Key Techniques with Examples</h4>

<p><strong>1. EXPLAIN PLAN</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>EXPLAIN PLAN FOR SELECT * FROM employees WHERE department_id = 10;
SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY);</code></pre></div>
<p><em>Explanation:</em> Shows how Oracle will execute the query — helps identify full scans, index usage, and join methods.</p>

<p><strong>2. Avoid SELECT *</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>-- Bad
SELECT * FROM employees;

-- Good
SELECT emp_id, name FROM employees;</code></pre></div>
<p><em>Explanation:</em> Fetching all columns increases I/O and memory usage. Always select only the columns you need.</p>

<p><strong>3. Use Indexes</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>CREATE INDEX emp_dept_idx ON employees(department_id);
SELECT * FROM employees WHERE department_id = 10;</code></pre></div>
<p><em>Explanation:</em> Indexes speed up WHERE clause filtering by avoiding full table scans.</p>

<p><strong>4. Oracle HINTS</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT /*+ INDEX(employees emp_dept_idx) */ * FROM employees WHERE department_id = 10;</code></pre></div>
<p><em>Explanation:</em> Hints guide the optimizer to use specific indexes or join methods when default plans are suboptimal.</p>

<p><strong>5. Autotrace (SQL Developer & SQL*Plus)</strong></p>
<p><em>SQL Developer Example:</em></p>
<ul class="list-disc ml-6">
  <li>Open SQL Developer</li>
  <li>Go to <code>Tools → Preferences → Database → Autotrace</code></li>
  <li>Enable “Autotrace” and choose “Explain Plan + Statistics”</li>
  <li>Run your query: <code>SELECT * FROM employees WHERE department_id = 10;</code></li>
  <li>View execution plan and statistics in the Autotrace tab</li>
</ul>

<p><em>SQL*Plus Example:</em></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SET AUTOTRACE ON
SELECT * FROM employees WHERE department_id = 10;
SET AUTOTRACE OFF</code></pre></div>
<p><em>Explanation:</em> Autotrace provides execution plan and performance statistics like rows processed, logical reads, and cost — useful for pinpointing bottlenecks.</p>

<p><strong>6. SQL*Plus EXPLAIN PLAN</strong></p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>EXPLAIN PLAN FOR SELECT * FROM employees;
SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY);</code></pre></div>
<p><em>Explanation:</em> Command-line tool to analyze query execution in SQL*Plus or scripts.</p>

<h4 class="text-md font-semibold mt-4">🧠 Real-Time Scenario-Based Interview Questions</h4>

<p><strong>Q: A query runs fast in dev but slow in prod. Why?</strong><br>
✅ Check for missing indexes, outdated stats, or larger data volume. Use <code>EXPLAIN PLAN</code> to compare environments.</p>

<p><strong>Q: You added an index but Oracle still does a full scan. Why?</strong><br>
✅ Possible reasons: function on column, optimizer decision, or stale stats.<br>
✅ Fix: Use function-based index or HINT.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>CREATE INDEX emp_name_idx ON employees(UPPER(name));
SELECT /*+ INDEX(employees emp_name_idx) */ name FROM employees WHERE UPPER(name) = 'JOHN';</code></pre></div>

<p><strong>Q: How do you ensure your query uses an index?</strong><br>
✅ Use <code>EXPLAIN PLAN</code> or <code>DBMS_XPLAN.DISPLAY</code>. Add HINT if needed.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT /*+ INDEX(employees emp_dept_idx) */ * FROM employees WHERE department_id = 10;</code></pre></div>

<p><strong>Q: What’s the impact of SELECT * in a large table?</strong><br>
❌ It increases memory usage, slows down network transfer, and may prevent index-only scans.</p>

<p><strong>Q: How do you find which part of a query is slow?</strong><br>
✅ Use Autotrace or SQL Developer’s execution plan viewer to analyze cost and row counts.</p>

<h4 class="text-md font-semibold mt-4">💡 Pro Tips</h4>
<ul class="list-disc ml-6 mb-6">
  <li>Keep statistics up to date using <code>DBMS_STATS</code></li>
  <li>Use WHERE clause filters that match indexed columns</li>
  <li>Avoid functions on indexed columns unless using function-based indexes</li>
  <li>Use bind variables to improve plan reuse and reduce parsing</li>
</ul>
`
},'Functions': {
  id: 'sql-window-functions',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">SQL Window Functions & Expressions</h2>

<p><strong>✅ RANK()</strong><br>
Definition: Assigns ranks with gaps for ties.<br>
Use Case: Leaderboards, salary ranking.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT name, salary, RANK() OVER (ORDER BY salary DESC) AS rnk FROM employees;</code></pre></div>
<p>Explanation: Equal values share the same rank; next rank is skipped.<br>
Tricky Q: Salaries: 5000, 5000, 4500, 4000 → What is RANK?</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>5000 → 1
5000 → 1
4500 → 3
4000 → 4</code></pre></div>

<p><strong>✅ DENSE_RANK()</strong><br>
Definition: Ranks with no gaps between tied values.<br>
Use Case: Prize distribution where all winners get next immediate rank.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT name, salary, DENSE_RANK() OVER (ORDER BY salary DESC) AS drnk FROM employees;</code></pre></div>
<p>Explanation: Same rank for ties; next is +1.<br>
Tricky Q: Salaries: 7000, 7000, 6000, 6000 → What is DENSE_RANK?</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>7000 → 1
7000 → 1
6000 → 2
6000 → 2</code></pre></div>

<p><strong>✅ ROW_NUMBER()</strong><br>
Definition: Unique sequential number for each row.<br>
Use Case: Pagination, removing duplicates.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT name, salary, ROW_NUMBER() OVER (ORDER BY salary DESC) AS rn FROM employees;</code></pre></div>
<p>Explanation: No ties — every row has unique number.<br>
Tricky Q: How to get 3rd highest salary?</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT salary FROM (
  SELECT salary, ROW_NUMBER() OVER (ORDER BY salary DESC) AS rn
  FROM employees
) WHERE rn = 3;</code></pre></div>

<p><strong>✅ NTILE(n)</strong><br>
Definition: Divides rows into n roughly equal buckets.<br>
Use Case: Quartile analysis, data segmentation.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT name, salary, NTILE(4) OVER (ORDER BY salary) AS quartile FROM employees;</code></pre></div>
<p>Explanation: Distributes rows evenly into groups.<br>
Tricky Q: 10 rows with NTILE(3) → how are groups divided?<br>
Answer: Groups of sizes 4, 3, 3 (or 3, 3, 4).</p>

<p><strong>✅ LAG() / LEAD()</strong><br>
Definition: LAG: previous row value; LEAD: next row value.<br>
Use Case: Comparing current and previous/next values.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT name, hire_date, salary,
       LAG(salary) OVER (ORDER BY hire_date) AS prev_salary,
       LEAD(salary) OVER (ORDER BY hire_date) AS next_salary
FROM employees;</code></pre></div>
<p>Explanation: No self joins required.<br>
Tricky Q: What happens at row boundaries?<br>
Answer: Returns NULL. Use NVL() for defaults.</p>

<p><strong>✅ FIRST_VALUE() / LAST_VALUE()</strong><br>
Definition: Gets first/last value in partitioned window.<br>
Use Case: Top performers, last activity.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT department_id, name,
       FIRST_VALUE(name) OVER (
         PARTITION BY department_id
         ORDER BY salary DESC
       ) AS top_emp
FROM employees;</code></pre></div>
<p>Tricky Q: One row in partition — what is FIRST/LAST?<br>
Answer: Both return same value.</p>

<p><strong>🧮 Conditional Expressions</strong></p>

<p><strong>✅ CASE</strong><br>
Definition: SQL’s IF-THEN-ELSE.<br>
Use Case: Classify rows by condition.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT name,
       CASE
         WHEN salary > 10000 THEN 'High'
         WHEN salary BETWEEN 5000 AND 10000 THEN 'Medium'
         ELSE 'Low'
       END AS salary_band
FROM employees;</code></pre></div>
<p>Tricky Q: Why prefer CASE over DECODE?<br>
Answer: CASE supports ranges & complex logic; DECODE doesn't.</p>

<p><strong>✅ DECODE() (Oracle-specific)</strong><br>
Definition: Oracle's shorthand for conditional logic.<br>
Use Case: Map numeric/code values to readable labels.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT employee_id, department_id,
       DECODE(department_id, 10, 'HR', 20, 'Finance', 'Other') AS dept_name
FROM employees;</code></pre></div>
<p>Explanation:<br>
If department_id = 10 → 'HR'<br>
If department_id = 20 → 'Finance'<br>
Else → 'Other'<br>
Sample Output:<br>
101 → HR<br>
102 → Finance<br>
103 → Other<br>
104 → Other</p>
<p>Interview Tip: DECODE is compact but limited — only supports equality checks.</p>

<p><strong>🎯 Tricky Interview Question:</strong><br>
Q: What will be the output of this query?<br>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT DECODE(department_id, 10, 'HR', 20, 'Finance', 'Other') FROM employees;</code></pre></div>
Answer: 'HR' for 10, 'Finance' for 20, 'Other' for others including NULL.<br>
Tricky Q: What if no match & no default?<br>
Answer: Returns NULL.</p>

<p><strong>✅ NVL() / COALESCE()</strong><br>
Definition:<br>
NVL(expr1, expr2): Replace NULL with expr2.<br>
COALESCE(expr1, expr2, ...): Return first non-null.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT NVL(commission_pct, 0),
       COALESCE(commission_pct, bonus_pct, 0)
FROM employees;</code></pre></div>
<p>Tricky Q: What does NVL('123', '0') return?<br>
Answer: '123' — because it's already non-null.</p>

<p><strong>✅ NULLIF()</strong><br>
Definition: Returns NULL if two expressions are equal.<br>
Use Case: Prevent divide-by-zero errors.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT salary / NULLIF(bonus, 0) AS ratio FROM employees;</code></pre></div>
<p>Tricky Q: Bonus = 0, Salary = 5000 → Ratio?<br>
Answer: NULL</p> 
  
<br> <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">📄 Pagination & Top‑N Queries</h2>

<p><strong>✅ ROWNUM</strong><br>
Definition: Oracle pseudo-column for row limits.<br>
Use Case: Top-N before Oracle 12c.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT * FROM (
  SELECT * FROM employees ORDER BY salary DESC
) WHERE ROWNUM <= 5;</code></pre></div>
<p><strong>Tricky Q:</strong> Why not use ROWNUM directly with ORDER BY?<br>
<strong>Answer:</strong> ROWNUM applies before sorting.</p>

<p><strong>✅ FETCH FIRST / OFFSET-FETCH (Oracle 12c+)</strong><br>
Definition: ANSI-compliant row limiting.<br>
Use Case: Pagination in UI.</p>
<div class="code-block"><button class="copy-btn">Copy</button><pre><code>SELECT * FROM employees
ORDER BY salary DESC
FETCH FIRST 5 ROWS ONLY;

SELECT * FROM employees
ORDER BY salary
OFFSET 5 ROWS FETCH NEXT 5 ROWS ONLY;</code></pre></div>
<p><strong>Tricky Q:</strong> Difference between OFFSET 0 vs FETCH FIRST?<br>
<strong>Answer:</strong> Practically same, but OFFSET is clearer in paged queries.</p>`
}
,'Custom Function': {
  id: 'oracle-functions-complete',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">🧠 Oracle Functions – Complete Guide (Interview Style)</h2>

  <p><strong>✅ What is a Function in Oracle?</strong><br>
  A <code>FUNCTION</code> is a named PL/SQL block that performs a task and <strong>returns a value</strong>. It can be called from SQL statements, procedures, or triggers. Functions help modularize logic and improve code reuse.</p>

  <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mt-4">📌 Syntax Breakdown</h3>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE [OR REPLACE] FUNCTION function_name (
  param1 datatype,
  param2 datatype
) RETURN return_datatype IS
  -- Variable declarations
BEGIN
  -- Logic
  RETURN value;
END function_name;</code></pre>
  </div>
  <p><strong>Explanation:</strong><br>
  - <code>CREATE OR REPLACE</code>: Updates function if it already exists<br>
  - <code>function_name</code>: Name of the function<br>
  - <code>RETURN</code>: Specifies the data type of the return value<br>
  - <code>IS</code>: Begins the declaration section<br>
  - <code>BEGIN...END</code>: Contains executable logic</p>

  <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mt-4">🧩 Types of Functions in Oracle</h3>
  <ul class="list-disc ml-6">
    <li><strong>1. Scalar Functions</strong> – Return a single value (e.g., number, string)</li>
    <li><strong>2. Table Functions</strong> – Return a set of rows using <code>PIPELINED</code></li>
    <li><strong>3. Deterministic Functions</strong> – Always return same output for same input</li>
    <li><strong>4. Nested Functions</strong> – Defined inside another function or block</li>
    <li><strong>5. Standalone Functions</strong> – Stored independently in the database</li>
  </ul>

  <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mt-4">📌 Examples with Explanation</h3>

  <p><strong>🔹 Scalar Function – Calculate Bonus</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE OR REPLACE FUNCTION calc_bonus (
  p_salary NUMBER
) RETURN NUMBER IS
BEGIN
  RETURN p_salary * 0.10;
END;</code></pre>
  </div>
  <p><em>Returns 10% of salary as bonus.</em></p>

  <p><strong>🔹 Deterministic Function – Square of a Number</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>CREATE OR REPLACE FUNCTION square_num (
  n NUMBER
) RETURN NUMBER DETERMINISTIC IS
BEGIN
  RETURN n * n;
END;</code></pre>
  </div>
  <p><em>Same input always gives same output. Useful for query optimization.</em></p>

  <p><strong>🔹 Table Function – Return List of Numbers</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>-- Step 1: Create a collection type
CREATE OR REPLACE TYPE num_table AS TABLE OF NUMBER;

-- Step 2: Create a pipelined function
CREATE OR REPLACE FUNCTION get_numbers RETURN num_table PIPELINED IS
BEGIN
  FOR i IN 1..5 LOOP
    PIPE ROW(i); -- Sends each row to the calling SQL
  END LOOP;
  RETURN;
END;</code></pre>
  </div>
  <p><em>This function returns a virtual table of numbers from 1 to 5. You can query it like:</em><br>
  <code>SELECT * FROM TABLE(get_numbers);</code><br>
  <em>Useful for dynamic row generation, reporting, or transforming collections.</em></p>

  <p><strong>🔹 Nested Function – Defined Inside Another Block</strong></p>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>DECLARE
  FUNCTION inner_func(x NUMBER) RETURN NUMBER IS
  BEGIN
    RETURN x * 2;
  END;
BEGIN
  DBMS_OUTPUT.PUT_LINE(inner_func(10));
END;</code></pre>
  </div>
  <p><em>Nested functions are local to the block and not stored in the database. Useful for encapsulating helper logic.</em></p>

  <p><strong>🔹 Standalone Function – Stored in Schema</strong></p>
  <p><em>Any function created using <code>CREATE FUNCTION</code> at schema level is a standalone function.</em><br>
  ✅ Can be reused across procedures, triggers, and packages.<br>
  ✅ Can be granted to other users.</p>

  <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mt-4">📌 Usage in SQL Queries</h3>
  <div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre><code>SELECT name, calc_bonus(salary) AS bonus FROM employees;

SELECT * FROM employees WHERE square_num(age) > 100;

SELECT * FROM TABLE(get_numbers);</code></pre>
  </div>
  <p><em>Functions can be used in SELECT, WHERE, and even FROM clauses (for table functions).</em></p>

  <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mt-4">🎯 Interview Questions & Tricky Concepts</h3>
  <ul class="list-disc ml-6">
    <li><strong>Q1:</strong> What’s the difference between a procedure and a function?<br>
      ✅ Function returns a value and can be used in SQL. Procedure performs actions but doesn’t return a value directly.</li>

    <li><strong>Q2:</strong> Can a function perform DML operations like INSERT or UPDATE?<br>
      ⚠️ Technically yes, but not recommended inside SQL queries due to side effects.</li>

    <li><strong>Q3:</strong> What is a deterministic function?<br>
      ✅ A function that always returns the same result for the same input. Use <code>DETERMINISTIC</code> keyword.</li>

    <li><strong>Q4:</strong> How do you return multiple rows from a function?<br>
      ✅ Use <code>PIPELINED</code> table functions or <code>REF CURSOR</code>.</li>

    <li><strong>Q5:</strong> Can you use a function in a WHERE clause?<br>
      ✅ Yes, if it returns a scalar value.</li>

    <li><strong>Q6:</strong> Can you call a function from a trigger?<br>
      ✅ Yes. Useful for validations or calculations during DML events.</li>
  </ul>

  <p><strong>✅ Summary:</strong><br>
  Oracle functions are powerful tools for encapsulating logic, improving code reuse, and enhancing query capabilities. Mastering their types, syntax, and use cases is key for both development and interviews.</p>`
}
,'Normalization': {
  id: 'normalization-sql',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">What Is Normalization?</h2>
  <p>Normalization is the process of organizing data in a relational database to:</p>
  <ul>
    <li>Eliminate redundancy</li>
    <li>Prevent anomalies (insertion, update, deletion)</li>
    <li>Ensure data integrity</li>
    <li>Improve query performance</li>
  </ul>
  <p>It involves decomposing large tables into smaller, related tables.</p>

  <h3 class="text-xl font-semibold mt-4">🧩 Types of Normalization (Normal Forms)</h3>

  <h4 class="font-semibold mt-2">🔹 1NF – First Normal Form</h4>
  <p><strong>Rule:</strong> Each column must contain atomic values (no lists or arrays), and each row must be unique.</p>
  <p><strong>Real-World Example:</strong> Library System</p>
  <p><em>Before 1NF (violates atomicity):</em></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>BookID | Title                     | Borrowers
-----------------------------------------------------
1      | To Kill a Mockingbird     | John, Jane, James
2      | The Lord of the Rings     | Emily, David</code></pre></div>

  <p><em>After 1NF (atomic values):</em></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>BookID | Title                     | Borrower
-----------------------------------------------------
1      | To Kill a Mockingbird     | John
1      | To Kill a Mockingbird     | Jane
1      | To Kill a Mockingbird     | James
2      | The Lord of the Rings     | Emily
2      | The Lord of the Rings     | David</code></pre></div>

  <h4 class="font-semibold mt-4">🔹 2NF – Second Normal Form</h4>
  <p><strong>Rule:</strong> Must be in 1NF, and no partial dependencies (non-key attributes must depend on the whole primary key).</p>
  <p><strong>Real-World Example:</strong> Student-Course Enrollment</p>
  <p><em>Before 2NF (violates partial dependency):</em></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>StudentID | CourseID | StudentName | CourseName | Instructor
-------------------------------------------------------------
1         | C101     | Alice       | Math       | Dr. Smith
1         | C102     | Alice       | Physics    | Dr. Johnson</code></pre></div>

  <p><strong>Primary Key:</strong> (StudentID, CourseID)</p>
  <ul>
    <li>StudentName depends only on StudentID</li>
    <li>CourseName and Instructor depend only on CourseID</li>
  </ul>
  <p><em>After 2NF (split into separate tables):</em></p>

  <p><strong>Students Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>StudentID | StudentName
------------------------
1         | Alice</code></pre></div>

  <p><strong>Courses Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>CourseID | CourseName | Instructor
----------------------------------
C101     | Math       | Dr. Smith
C102     | Physics    | Dr. Johnson</code></pre></div>

  <p><strong>Enrollments Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>StudentID | CourseID
---------------------
1         | C101
1         | C102</code></pre></div>

  <h4 class="font-semibold mt-4">🔹 3NF – Third Normal Form</h4>
  <p><strong>Rule:</strong> Must be in 2NF, and no transitive dependencies (non-key attributes should not depend on other non-key attributes).</p>
  <p><strong>Real-World Example:</strong> Employee Details</p>
  <p><em>Before 3NF (violates transitive dependency):</em></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>EmpID | EmpName | DeptID | DeptName | Manager
----------------------------------------------
1     | Alice   | D01    | Sales    | John
2     | Bob     | D01    | Sales    | John</code></pre></div>

  <p>- Manager depends on DeptName, which depends on DeptID</p>
  <p><em>After 3NF (split into two tables):</em></p>

  <p><strong>Employees Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>EmpID | EmpName | DeptID
-------------------------
1     | Alice   | D01
2     | Bob     | D01</code></pre></div>

  <p><strong>Departments Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>DeptID | DeptName | Manager
----------------------------
D01    | Sales    | John</code></pre></div>

  <h4 class="font-semibold mt-4">🔹 BCNF – Boyce-Codd Normal Form</h4>
  <p><strong>Rule:</strong> Must be in 3NF, and every determinant must be a candidate key.</p>
  <p><strong>Real-World Example:</strong> Course-Instructor Assignment</p>
  <p><em>Before BCNF (violates superkey rule):</em></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>CourseID | Instructor | Room
-----------------------------
C101     | Dr. Smith  | R101
C101     | Dr. Johnson| R102</code></pre></div>

  <p>- Instructor → Room but Instructor is not a candidate key</p>
  <p><em>After BCNF (split into two tables):</em></p>

  <p><strong>CourseInstructor Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>CourseID | Instructor
----------------------
C101     | Dr. Smith
C101     | Dr. Johnson</code></pre></div>

  <p><strong>InstructorRoom Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>Instructor | Room
------------------
Dr. Smith  | R101
Dr. Johnson| R102</code></pre></div>

  <h4 class="font-semibold mt-4">🔹 4NF – Fourth Normal Form</h4>
  <p><strong>Rule:</strong> Must be in BCNF, and no multi-valued dependencies</p>
  <p><strong>Real-World Example:</strong> Student Languages & Hobbies</p>
  <p><em>Before 4NF (multi-valued dependency):</em></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>StudentID | Language | Hobby
-----------------------------
1         | English  | Reading
1         | French   | Reading
1         | English  | Swimming</code></pre></div>

  <p><em>After 4NF (split into two tables):</em></p>

  <p><strong>StudentLanguages Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>StudentID | Language
---------------------
1         | English
1         | French</code></pre></div>

  <p><strong>StudentHobbies Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>StudentID | Hobby
------------------
1         | Reading
1         | Swimming</code></pre></div>

 <h4 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">🔹 5NF – Fifth Normal Form</h4>
  <p><strong>Rule:</strong> Must be in 4NF, and no join dependencies (data should be reconstructible from smaller tables without redundancy)</p>
  <p><strong>Real-World Example:</strong> Product-Supplier-Location</p>
  <p><em>Before 5NF:</em></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>Product | Supplier | Location
------------------------------
P1      | S1       | L1
P1      | S1       | L2</code></pre></div>

  <p>- If each combination is valid independently, split into:</p>

  <p><strong>ProductSupplier Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>Product | Supplier
-------------------
P1      | S1</code></pre></div>

  <p><strong>ProductLocation Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>Product | Location
-------------------
P1      | L1
P1      | L2</code></pre></div>

  <p><strong>SupplierLocation Table:</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>Supplier | Location
--------------------
S1       | L1
S1       | L2</code></pre></div>

  <h2 class="text-2xl font-semibold mt-6 text-gray-800 dark:text-gray-100">✅ Summary Table</h2>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>| Normal Form | Eliminates               | Key Rule                                      | Real-World Example              |
|-------------|--------------------------|-----------------------------------------------|----------------------------------|
| 1NF         | Repeating groups         | Atomic values only                            | Book borrowers                   |
| 2NF         | Partial dependencies     | Full dependency on entire primary key         | Student-course enrollment        |
| 3NF         | Transitive dependencies  | Non-key attributes depend only on primary key | Employee-department-manager      |
| BCNF        | Non-superkey dependencies| Determinant must be a candidate key           | Instructor-room assignment       |
| 4NF         | Multi-valued dependencies| No independent multi-valued facts             | Student languages and hobbies    |
| 5NF         | Join dependencies        | No lossless join dependencies                 | Product-supplier-location        |</code></pre></div>`
}
,'De-Normalization': {
  id: 'denormalization-interview-guide',
  html: `<h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">🎯 Interview Perspective: Full Denormalization in SQL</h2>

  <h3 class="text-xl font-semibold mt-4 text-gray-700 dark:text-gray-200">✅ Definition You Should Know</h3>
  <p><strong>Denormalization</strong> is the process of optimizing a normalized database by introducing redundancy to reduce joins and improve read performance—especially in analytical or reporting systems.</p>

  <h3 class="text-xl font-semibold mt-4 text-gray-700 dark:text-gray-200">🧠 Why Interviewers Ask About It</h3>
  <ul class="list-disc list-inside">
    <li>To assess your understanding of performance trade-offs</li>
    <li>To evaluate your ability to design scalable systems</li>
    <li>To test your grasp of real-world use cases beyond textbook normalization</li>
  </ul>

  <h3 class="text-xl font-semibold mt-4 text-gray-700 dark:text-gray-200">💬 Common Interview Questions & Sample Answers</h3>

  <p><strong>1. What is denormalization, and why would you use it?</strong></p>
  <p><em>Answer:</em> Denormalization is the process of combining normalized tables to reduce joins and improve query performance. I’d use it in read-heavy environments like reporting dashboards or OLAP systems where speed is more critical than strict data integrity.</p>

  <p><strong>2. Can you give a real-world example of denormalization?</strong></p>
  <p><em>Answer:</em> In an e-commerce system, instead of joining <code>Orders</code>, <code>OrderDetails</code>, and <code>Products</code>, I might create a denormalized table that includes <code>CustomerName</code>, <code>ProductName</code>, and <code>TotalPrice</code>. This speeds up reporting and simplifies queries.</p>

  <p><strong>3. What are the pros and cons of denormalization?</strong></p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>| ✅ Pros         | ❌ Cons              |
|----------------|---------------------|
| Faster queries | Data redundancy     |
| Fewer joins    | Harder updates      |
| Easier for BI  | Risk of inconsistency |</code></pre></div>

  <p><strong>4. How would you implement denormalization in SQL?</strong></p>
  <p><em>Answer:</em> I’d use a <code>CREATE TABLE AS SELECT</code> statement to combine data from multiple normalized tables. Optionally, I’d use triggers or scheduled jobs to keep the denormalized data in sync.</p>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>CREATE TABLE DenormOrders AS
SELECT 
  o.OrderID,
  c.Name AS CustomerName,
  p.Name AS ProductName,
  od.Quantity,
  od.Quantity * p.Price AS TotalPrice
FROM Orders o
JOIN Customers c ON o.CustomerID = c.CustomerID
JOIN OrderDetails od ON o.OrderID = od.OrderID
JOIN Products p ON od.ProductID = p.ProductID;</code></pre></div>

  <p><strong>5. When should you avoid denormalization?</strong></p>
  <p><em>Answer:</em> In transactional systems (OLTP), where data integrity and consistency are critical, denormalization can introduce maintenance challenges. I’d avoid it unless performance bottlenecks justify the trade-off.</p>

  <h3 class="text-xl font-semibold mt-4 text-gray-700 dark:text-gray-200">🧭 Bonus: When to Normalize vs Denormalize</h3>
  <div class="code-block"><button class="copy-btn">Copy</button><pre><code>| Use Case              | Normalize | Denormalize |
|-----------------------|-----------|-------------|
| OLTP (e.g., banking)  | ✅        | ❌          |
| OLAP (e.g., dashboards)| ❌        | ✅          |
| Small datasets        | ✅        | ❌          |
| Real-time analytics   | ❌        | ✅          |</code></pre></div>

  <h3 class="text-xl font-semibold mt-4 text-gray-700 dark:text-gray-200">🧩 Final Tip for Interviews</h3>
  <p>Always emphasize that <strong>denormalization is a strategic decision</strong>—not a shortcut. Show that you understand <strong>when and why</strong> to use it, and how to <strong>maintain data integrity</strong> despite redundancy.</p>`
}


    };

    renderNavigation(navStructure);

    document.addEventListener('click', function (e) {
      if (e.target && e.target.classList.contains('copy-btn')) {
        const pre = e.target.nextElementSibling;
        const code = pre?.querySelector('code')?.innerText;
        if (!code) {
          alert('Failed to copy: No code found.');
          return;
        }
        try {
          navigator.clipboard.writeText(code).then(() => {
            e.target.textContent = 'Copied!';
            setTimeout(() => (e.target.textContent = 'Copy'), 1500);
          }).catch(err => {
            const textarea = document.createElement('textarea');
            textarea.value = code;
            textarea.style.position = 'absolute';
            textarea.style.left = '-9999px';
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            e.target.textContent = 'Copied!';
            setTimeout(() => (e.target.textContent = 'Copy'), 1500);
          });
        } catch (err) {
          alert('Copy is not supported in this environment.');
        }
      }
    });
  </script>
</body>
</html>
